window.__require=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(o(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===i(e,-1);return(e=t(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var u=[];for(c=s;c<o.length;c++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}})();var l,f=[],p=!1,h=-1;function d(){p&&l&&(p=!1,l.length?f=l.concat(f):h=-1,f.length&&y())}function y(){if(!p){var e=c(d);p=!0;for(var t=f.length;t;){for(l=f,f=[];++h<t;)l&&l[h].run();h=-1,t=f.length}l=null,p=!1,u(e)}}function b(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new b(e,t)),1!==f.length||p||c(y)},b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(e,t,n){(function(e,r){(function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.index=r()})(this,function(){"use strict";var t="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};var n=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(n,r){n.exports=function(){function n(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,s=void 0,c=function(e,t){y[i]=e,y[i+1]=t,2===(i+=2)&&(s?s(b):v())},u="undefined"!=typeof window?window:void 0,l=u||{},f=l.MutationObserver||l.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(b,1)}}var y=new Array(1e3);function b(){for(var e=0;e<i;e+=2){var t=y[e],n=y[e+1];t(n),y[e]=void 0,y[e+1]=void 0}i=0}var v=void 0;function m(e,t){var n=this,r=new this.constructor(w);void 0===r[_]&&z(r);var o=n._state;if(o){var i=arguments[o-1];c(function(){return B(o,r,i,n._result)})}else I(n,r,e,t);return r}function g(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return T(t,e),t}v=p?function(){return e.nextTick(b)}:f?function(){var e=0,t=new f(b),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():h?function(){var e=new MessageChannel;return e.port1.onmessage=b,function(){return e.port2.postMessage(0)}}():void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(b)}:d()}catch(e){return d()}}():d();var _=Math.random().toString(36).substring(2);function w(){}var O=void 0,S=1,E=2,x={error:null};function A(e){try{return e.then}catch(e){return x.error=e,x}}function C(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function P(e,t,n){c(function(e){var r=!1,o=C(n,t,function(n){r||(r=!0,t!==n?T(e,n):M(e,n))},function(t){r||(r=!0,R(e,t))},e._label);!r&&o&&(r=!0,R(e,o))},e)}function k(e,t){t._state===S?M(e,t._result):t._state===E?R(e,t._result):I(t,void 0,function(t){return T(e,t)},function(t){return R(e,t)})}function j(e,t,n){t.constructor===e.constructor&&n===m&&t.constructor.resolve===g?k(e,t):n===x?(R(e,x.error),x.error=null):void 0===n?M(e,t):r(n)?P(e,t,n):M(e,t)}function T(e,t){e===t?R(e,new TypeError("You cannot resolve a promise with itself")):n(t)?j(e,t,A(t)):M(e,t)}function N(e){e._onerror&&e._onerror(e._result),D(e)}function M(e,t){e._state===O&&(e._result=t,e._state=S,0!==e._subscribers.length&&c(D,e))}function R(e,t){e._state===O&&(e._state=E,e._result=t,c(N,e))}function I(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+S]=n,o[i+E]=r,0===i&&e._state&&c(D,e)}function D(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?B(n,r,o,i):o(i);e._subscribers.length=0}}function L(e,t){try{return e(t)}catch(e){return x.error=e,x}}function B(e,t,n,o){var i=r(n),a=void 0,s=void 0,c=void 0,u=void 0;if(i){if((a=L(n,o))===x?(u=!0,s=a.error,a.error=null):c=!0,t===a)return void R(t,new TypeError("A promises callback cannot return that same promise."))}else a=o,c=!0;t._state!==O||(i&&c?T(t,a):u?R(t,s):e===S?M(t,a):e===E&&R(t,a))}function F(e,t){try{t(function(t){T(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}var U=0;function z(e){e[_]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[_]||z(this.promise),o(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&M(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===g){var o=A(e);if(o===m&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===G){var i=new n(w);j(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===O&&(this._remaining--,e===E?R(r,n):this._result[t]=n),0===this._remaining&&M(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){return n._settledAt(S,t,e)},function(e){return n._settledAt(E,t,e)})},e}();function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var G=function(){function e(t){this[_]=U++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&V(),this instanceof e?F(this,t):H())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return r(e)?this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})}):this.then(e,e)},e}();return G.prototype.then=m,G.all=function(e){return new q(this,e).promise},G.race=function(e){var t=this;return o(e)?new t(function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},G.resolve=g,G.reject=function(e){var t=new this(w);return R(t,e),t},G._setScheduler=function(e){s=e},G._setAsap=function(e){c=e},G._asap=c,G.polyfill=function(){var e=void 0;if(void 0!==t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}e.Promise=G},G.Promise=G,G}()});function o(e){var t=function(){},r=new n(function(e){t=function(t){return e(t)}});return t.promise=r,e&&(t.promise=n.resolve(e)),t}function i(e){return btoa(encodeURIComponent(e).replace(/%(..)/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}))}return(new(function(){function e(){this.bridgeScheme="nativeapp://",this.dispatchMsgPath="dispatch_message/",this.setResultPath="private/setresult/",this.fetchQueue="SCENE_FETCHQUEUE",this.jsBridgeKey="JSBridge",this.callbackId=1e3,this.callbackMap={},this.eventHookMap={},this.sendMessageQueue=[],this.fallbackCheckFunction=null}var t=e.prototype;return t._fetchQueue=function(){var e=JSON.stringify(this.sendMessageQueue);return this.sendMessageQueue.length>0&&this._dispatchUrlMsg(""+this.bridgeScheme+this.setResultPath+this.fetchQueue+"&"+i(e)),this.sendMessageQueue=[],e},t._dispatchUrlMsg=function(e){if("undefined"!=typeof document){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.src=e,setTimeout(function(){document.body.removeChild(t)},300)}},t._handleMessageFromApp=function(e){var t=e.__params,n={__err_code:"cb404"},r=e.__callback_id;return"string"==typeof r&&"function"==typeof this.callbackMap[r]?(n=this.callbackMap[r](t),delete this.callbackMap[r]):"string"==typeof r&&Array.isArray(this.eventHookMap[r])&&this.eventHookMap[r].forEach(function(e){"function"==typeof e&&(n=e(t))}),JSON.stringify(n)},t._call=function(e,t,n,r,i){if(void 0===t&&(t={}),void 0===n&&(n=null),void 0===r&&(r=3),void 0===i&&(i=0),e&&"string"==typeof e){if(this.fallbackCheckFunction&&this.fallbackCallFunction&&this.fallbackCheckFunction(e))return this.fallbackCallFunction(e,t,n,r);var a;i?a=e:(this.callbackId+=1,a=this.callbackId.toString());var s=t&&t.jsb_sync,c=n;"function"==typeof c?this.callbackMap[a]=c:s||i||(c=o(),this.callbackMap[a]=c);var u,l={JSSDK:r,func:e,params:t,__msg_type:i?"event":"call",__callback_id:a};s&&delete t.jsb_sync;try{s&&window.JS2NativeBridge&&window.JS2NativeBridge.callSync?(l.currentUrl=window.location.href,u=window.JS2NativeBridge.callSync(e,JSON.stringify(l))):window.JS2NativeBridge&&window.JS2NativeBridge.call?u=window.JS2NativeBridge.call(e,JSON.stringify(l)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callMethodParams?window.webkit.messageHandlers.callMethodParams.postMessage(l):window.callMethodParams?u=window.callMethodParams(e,l):(this.sendMessageQueue.push(l),this._dispatchUrlMsg(""+this.bridgeScheme+this.dispatchMsgPath))}catch(e){console.error(e)}return c&&c.promise||u}},t._on=function(e,t,n){if(void 0===n&&(n=3),e&&"string"==typeof e&&"function"==typeof t)if(this.fallbackCheckFunction&&this.fallbackOnFunction&&this.fallbackCheckFunction(e))this.fallbackOnFunction(e,t,n);else{this.eventHookMap[e]?this.eventHookMap[e].push(t):this.eventHookMap[e]=[t];var r={JSSDK:n,__msg_type:"event",__callback_id:e,func:e};try{window.JS2NativeBridge&&window.JS2NativeBridge.on?window.JS2NativeBridge.on(e,JSON.stringify(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.onMethodParams?window.webkit.messageHandlers.onMethodParams.postMessage(r):window.onMethodParams?window.onMethodParams(e,r):window.JS2NativeBridge||this._call(e,{},null,n,1)}catch(e){console.error(e)}}},t._off=function(e,t){e&&"string"==typeof e&&"function"==typeof t&&(this.fallbackCheckFunction&&this.fallbackOffFunction&&this.fallbackCheckFunction(e)?this.fallbackOffFunction(e,t):this.eventHookMap[e]&&(this.eventHookMap[e]=this.eventHookMap[e].filter(function(e){return e!==t})))},t._trigger=function(e,t){if(!(this.fallbackCheckFunction&&this.fallbackTriggerFunction&&this.fallbackCheckFunction(e))){var n=this.eventHookMap[e],r=!1;if(n)for(var o=0,i=n.length;o<i;o++){var a=n[o];"function"==typeof a&&(r=!0,a(t))}return r}this.fallbackTriggerFunction(e,t)},t._config=function(e){var t=this;void 0===e&&(e={}),e.jsBridgeKey&&"undefined"!=typeof window&&(window[e.jsBridgeKey]||(window[e.jsBridgeKey]={}),window[e.jsBridgeKey].call=function(){return t._call.apply(t,arguments)},window[e.jsBridgeKey].on=function(){return t._on.apply(t,arguments)},window[e.jsBridgeKey].off=function(){return t._off.apply(t,arguments)},window[e.jsBridgeKey].trigger=function(){return t._trigger.apply(t,arguments)}),e.fallbackCheckFunction&&"function"==typeof e.fallbackCheckFunction&&(this.fallbackCheckFunction=e.fallbackCheckFunction),e.fallbackCallFunction&&"function"==typeof e.fallbackCallFunction&&(this.fallbackCallFunction=e.fallbackCallFunction),e.fallbackOnFunction&&"function"==typeof e.fallbackOnFunction&&(this.fallbackOnFunction=e.fallbackOnFunction),e.fallbackOffFunction&&"function"==typeof e.fallbackOffFunction&&(this.fallbackOffFunction=e.fallbackOffFunction),e.fallbackTriggerFunction&&"function"==typeof e.fallbackTriggerFunction&&(this.fallbackTriggerFunction=e.fallbackTriggerFunction)},t.init=function(){var e=this,t={call:function(){return e._call.apply(e,arguments)},on:function(){return e._on.apply(e,arguments)},off:function(){return e._off.apply(e,arguments)},trigger:function(){return e._trigger.apply(e,arguments)},config:function(){return e._config.apply(e,arguments)}};return"undefined"!=typeof window&&(window.Native2JSBridge||window.JSBridge?t=window.JSBridge:(window.Native2JSBridge={_fetchQueue:function(){return e._fetchQueue.apply(e,arguments)},_handleMessageFromApp:function(){return e._handleMessageFromApp.apply(e,arguments)}},window.JSBridge=t)),t},e}())).init()})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@byted-dino/core"),o=e("@byted-dino/surface"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var p=Object.freeze({SCENE_SWITCH:"SCENE_SWITCH",SCENE_PUSH:"SCENE_PUSH",SCENE_POP:"SCENE_POP"}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._adapterDataMap=new Map,t._adapterMap={},t._adapters=[],t}return a(t,e),Object.defineProperty(t.prototype,"adapters",{get:function(){return this._adapters},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curAdapter",{get:function(){return this._curAdapter},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){return c(this,void 0,void 0,function(){var t,n=this;return u(this,function(i){switch(i.label){case 0:return e.adapterDataBundles?(t=this,[4,Promise.all(e.adapterDataBundles.map(function(e){return c(n,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return e.adapter.initialize?[4,e.adapter.initialize()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._adapterMap[e.adapter.name]=e.adapter,this._adapterDataMap.set(e.adapter,{shown:!0}),this.hideAdapter(e.adapter),[2,e.adapter]}})})}))]):[3,2];case 1:t._adapters=i.sent(),i.label=2;case 2:return r.globalEventBus.listen(o.ComponentEvent.COMPONENT_SET_SKIN,function(e){var t=e.target;if(t.skin&&(!t.adapter||!t.adapter.isSkin(t.skin))){var r=n.getProperAdapter(t.skin);r&&t.setAdapter(r)}},this),r.globalEventBus.listen(p.SCENE_SWITCH,function(e){var t=e.data.to;n._curAdapter=t&&t.adapter&&t.adapter.adapter}),[2]}})})},t.prototype.getProperAdapter=function(e){var t,n;try{for(var r=l(this._adapters),o=r.next();!o.done;o=r.next()){var i=o.value;if(i.isSkin(e))return i}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},t.prototype.getAdapterByName=function(e){return this._adapterMap[e]},t.prototype.getAdapterParent=function(e){var t=e&&e.parentName&&this.getAdapterByName(e.parentName);return t||void 0},t.prototype.canCowork=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=null;try{for(var i=l(n),a=i.next();!a.done;a=i.next()){var s=a.value;if(!s||!s.parentName)return!1;if(o){if(s.parentName!==o)return!1}else o=s.parentName}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.isAdapterShown=function(e){if(e){var t=this._adapterDataMap.get(e.adapter||e);if(t)return t.shown}return!1},t.prototype.showAdapter=function(e){if(e){var t=this._adapterDataMap.get(e.adapter||e);if(t.shown)return!0;var n=this.getAdapterParent(e);if(n)return n.showChildAdapter(e),t.shown=!0,!0}return!1},t.prototype.hideAdapter=function(e){if(e){var t=this._adapterDataMap.get(e.adapter||e);if(!t.shown)return!0;var n=this.getAdapterParent(e);if(n)return n.hideChildAdapter(e),t.shown=!1,!0}return!1},t=s([r.injectable],t)}(r.Model),d=r.getInject(h),y=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.open=function(){return c(this,void 0,void 0,function(){return u(this,function(e){return[2]})})},e.prototype.close=function(){return c(this,void 0,void 0,function(){return u(this,function(e){return[2]})})},e}(),b=new Map,v=function(e){function t(t,n,r){var o,i=e.call(this,t,n)||this;return i._policySet=!0,i.policy=r||b.get(null===(o=i.adapter)||void 0===o?void 0:o.adapter)||(i._policySet=!1,y.instance),i}return a(t,e),Object.defineProperty(t.prototype,"policy",{get:function(){return this._policy},set:function(e){e!==this._policy&&(this.skin&&this._policy&&this._policy.unmount&&this._policy.unmount(this.skin,this),this._policy=e,this.skin&&this._policy&&this._policy.mount&&this._policy.mount(this.skin,this))},enumerable:!1,configurable:!0}),t.prototype.setSkin=function(t){this.skin&&this._policy&&this._policy.unmount&&this._policy.unmount(this.skin,this),e.prototype.setSkin.call(this,t),this.skin&&this._policy&&this._policy.mount&&this._policy.mount(this.skin,this)},t.prototype.setAdapter=function(t){if(e.prototype.setAdapter.call(this,t),!this._policySet&&t&&this._policy instanceof y){var n=b.get(t);n&&(this.policy=n),this._policySet=!0}},t.prototype.close=function(t){return c(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,e.prototype.close.call(this,t)];case 1:return n.sent(),this.policy=null,[2]}})})},t}(o.Component),m=Object.freeze({DIALOG_OPEN:"DIALOG_OPEN",DIALOG_CLOSE:"DIALOG_CLOSE"}),g=Symbol("layer manager layer tag"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._layerMap=new Map,t}return a(t,e),t.prototype.initialize=function(){var e,t;try{for(var n=l(d.adapters),r=n.next();!r.done;r=n.next()){var o=r.value;this._layerMap.set(o,{backgroundLayer:this.generateLayerBundle(o),sceneLayer:this.generateLayerBundle(o),dialogLayer:this.generateLayerBundle(o),maskLayer:this.generateLayerBundle(o),topLayer:this.generateLayerBundle(o)})}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.generateLayerBundle=function(e){var t=e.createLayer();return e.addChildAt(e.root,t,e.getChildren(e.root).length),Object.defineProperty(t,g,{configurable:!0,enumerable:!1,writable:!1,value:g}),t},t.prototype.getLayerBundle=function(e){return e&&this._layerMap.get(e.adapter||e)},t.prototype.getValidDisplayCount=function(e){var t,n,r=0;if(e)try{for(var o=l(e.getChildren(e.root)),i=o.next();!i.done;i=o.next()){var a=i.value;a[g]===g&&(r+=e.getChildren(a).length)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},t.prototype.updateAdaptersShow=function(){var e,t;try{for(var n=l(d.adapters),r=n.next();!r.done;r=n.next()){var o=r.value;this.getValidDisplayCount(o)>0?d.showAdapter(o):d.hideAdapter(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t=s([r.injectable],t)}(r.Model),w=r.getInject(_),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maskBundleMap=new Map,t._maskCacheList=[],t._modalCacheList=[],t}return a(t,e),t.prototype.initialize=function(e){var t,n;try{for(var r=l(e.adapterDataBundles||[]),o=r.next();!o.done;o=r.next()){var i=o.value;i.maskDataBundle&&this._maskBundleMap.set(i.adapter,i.maskDataBundle)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.updateCacheList=function(e,t){for(var n=0,r=e.length-1;n<r;n++){var o=e[n],i=o.skin;(s=o.adapter).remove(i)}if(t&&e.length){var a=e[e.length-1],s=(i=a.skin,a.adapter);(0,a.addChildHandler)(s,i,a.data)}},t.prototype.doShowMask=function(e,t,n,i){var a=this,s=(null===t||void 0===t?void 0:t.color)||0,c=(null===t||void 0===t?void 0:t.alpha)||0,u=new o.AdapterExt(e),l=u.createMask(s,c),f=null;t&&t.skin&&(t.skin instanceof Function&&(t.skin=t.skin()),f=u.handleSkin(t.skin));var p=r.createCancelable(function(){var e=n.indexOf(h);e>=0&&n.splice(e,1),h.adapter.remove(h.skin),l.cancel&&l.cancel.cancel();var r=n.some(function(e){return e.data&&f&&e.data.skin===f.skin});f&&!r&&(u.remove(f.skin),t&&t.onSkinHide&&t.onSkinHide(f.skin)),a.updateCacheList(n,!0)}),h={skin:l.mask,adapter:u,cancelable:p,addChildHandler:i,data:t};return n.push(h),this.updateCacheList(n,!1),i(u,l.mask,t),f&&(t&&t.onSkinShow&&t.onSkinShow(f.skin),u.addChildAfter(f.skin,l.mask)),p},t.prototype.showMask=function(){var e=d.curAdapter;if(!e)return r.createCancelable(void 0,!0);var t=this._maskBundleMap.get(e);return this.doShowMask(e,null===t||void 0===t?void 0:t.mask,this._maskCacheList,function(e,t){var n;e.addChild(null===(n=w.getLayerBundle(e))||void 0===n?void 0:n.maskLayer,t)})},t.prototype.showLoading=function(){var e=d.curAdapter;if(!e)return r.createCancelable(void 0,!0);var t=this._maskBundleMap.get(e);return this.doShowMask(e,null===t||void 0===t?void 0:t.loading,this._maskCacheList,function(e,t,n){var r;e.getParent(t)||((null===n||void 0===n?void 0:n.skin)&&e.getParent(n.skin)?e.addChildBefore(t,n.skin):e.addChild(null===(r=w.getLayerBundle(e))||void 0===r?void 0:r.maskLayer,t))})},t.prototype.showModal=function(e){var t,n=null===(t=e.adapter)||void 0===t?void 0:t.adapter;if(!n)return r.createCancelable(void 0,!0);var o=this._maskBundleMap.get(n);return e.delegateCancelable(this.doShowMask(n,null===o||void 0===o?void 0:o.modal,this._modalCacheList,function(t,n){t.addChildBefore(n,e.skin)}))},t=s([r.injectable],t)}(r.Model),S=r.getInject(O),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dialogList=[],t}return a(t,e),Object.defineProperty(t.prototype,"dialogs",{get:function(){return this._dialogList.concat()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curDialog",{get:function(){return this._dialogList[this._dialogList.length-1]},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t,n,i=this;r.globalEventBus.listen(o.ComponentEvent.COMPONENT_OPEN,function(e,t){return c(i,void 0,void 0,function(){var n,o,i;return u(this,function(a){switch(a.label){case 0:return(n=e.target)instanceof v?(this._dialogList.push(n),[4,this.dispatch(m.DIALOG_OPEN,{dialog:n})]):[3,4];case 1:return a.sent(),o=r.timer.setTimeout(0,function(){o=S.showMask()}),[4,t()];case 2:return a.sent(),n.adapter&&(i=w.getLayerBundle(n.adapter))&&(n.adapter.addChild(i.dialogLayer,n.skin),S.showModal(n),w.updateAdaptersShow()),[4,n.policy.open(n.skin,n)];case 3:a.sent(),o.cancel(),a.label=4;case 4:return[2]}})})}),r.globalEventBus.listen(o.ComponentEvent.COMPONENT_CLOSE,function(e,t){return c(i,void 0,void 0,function(){var n,o,i,a,s,c,f,p,h;return u(this,function(u){switch(u.label){case 0:return(n=e.target)instanceof v?(o=r.timer.setTimeout(0,function(){o=S.showMask()}),[4,n.policy.close(n.skin,n)]):[3,4];case 1:if(u.sent(),n.adapter&&(n.adapter.remove(n.skin),w.updateAdaptersShow()),n.adapter&&d.curAdapter&&!n.adapter.equals(d.curAdapter)){i=!1;try{for(a=l(this._dialogList),s=a.next();!s.done;s=a.next())if((c=s.value)!==n&&c.adapter&&n.adapter&&c.adapter.equals(n.adapter)){i=!0;break}}catch(e){p={error:e}}finally{try{s&&!s.done&&(h=a.return)&&h.call(a)}finally{if(p)throw p.error}}i||d.hideAdapter(n.adapter)}return[4,t()];case 2:return u.sent(),o.cancel(),[4,this.dispatch(m.DIALOG_CLOSE,{dialog:n})];case 3:u.sent(),(f=this._dialogList.indexOf(n))>=0&&this._dialogList.splice(f,1),u.label=4;case 4:return[2]}})})});try{for(var a=l(e.adapterDataBundles||[]),s=a.next();!s.done;s=a.next()){var f=s.value;f.defaultDialogPolicy&&b.set(f.adapter,f.defaultDialogPolicy)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t=s([r.injectable],t)}(r.Model),x=r.getInject(E),A=Object.freeze({DINO_INITIALIZED:"DINO_INITIALIZED"}),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._componentLoadingDelay=0,t}return a(t,e),Object.defineProperty(t.prototype,"componentLoadingDelay",{get:function(){return this._componentLoadingDelay},set:function(e){this._componentLoadingDelay=Math.max(e,0)},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=function(e,n){return c(t,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return e=r.timer.setTimeout(this._componentLoadingDelay,function(){e=S.showLoading()}),[4,n()];case 1:return t.sent(),e.cancel(),[2]}})})};r.globalEventBus.listen(o.ComponentEvent.COMPONENT_OPEN,n),r.globalEventBus.listen(o.ComponentEvent.COMPONENT_UPDATE,n),r.globalEventBus.listen(o.ComponentEvent.COMPONENT_CLOSE,n)},t=s([r.injectable],t)}(r.Model),P=r.getInject(C),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._moduleStack=[],t._moduleMap=new Map,t._moduleInstanceMap=new Map,t}return a(t,e),Object.defineProperty(t.prototype,"modules",{get:function(){return this._moduleStack.concat()},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){return c(this,void 0,void 0,function(){var e=this;return u(this,function(t){return r.globalEventBus.listen(o.ComponentEvent.COMPONENT_CLOSE,function(t){var n=t.target,r=e._moduleInstanceMap.get(n);r&&e.close(r,t.data)}),[2]})})},t.prototype.open=function(e,t,n){return void 0===n&&(n=!1),c(this,void 0,void 0,function(){var r,i,a,s,c,l,f,p,h,d;return u(this,function(u){switch(u.label){case 0:if("string"==typeof e){if(!(r=o.getComponentConstructor(e)))throw new Error("there is no module called "+e);e=r}if(i=this._moduleMap.get(e),a=void 0,s=!1,!i)return[3,2];for(c=[],l=this._moduleStack.length-2;l>0&&(f=this._moduleStack[l])!==i;l--)c.push(f.close());return[4,Promise.all(c)];case 1:return u.sent(),(p=this._moduleStack[this._moduleStack.length-1])!==i&&(a=p,s=!0),[3,3];case 2:n&&(a=this._moduleStack[this._moduleStack.length-1]),i=new e,this._moduleStack.push(i),this._moduleMap.set(e,i),this._moduleInstanceMap.set(i,e),u.label=3;case 3:return[4,i.open(t)];case 4:return h=u.sent(),a?(d=a.close(),s?[4,d]:[3,6]):[3,6];case 5:u.sent(),u.label=6;case 6:return[2,h]}})})},t.prototype.close=function(e,t){return c(this,void 0,void 0,function(){var n,r;return u(this,function(o){switch(o.label){case 0:return(n=this._moduleMap.get(e))?[4,n.close(t)]:[3,2];case 1:o.sent(),this._moduleMap.delete(e),this._moduleInstanceMap.delete(n),(r=this._moduleStack.indexOf(n))>=0&&this._moduleStack.splice(r,1),o.label=2;case 2:return[2]}})})},t=s([r.injectable],t)}(r.Model),j=r.getInject(k);(function(e){e[e.NORMAL=0]="NORMAL",e[e.IMPORTANT=1]="IMPORTANT"})(n.EnumButtonType||(n.EnumButtonType={}));var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._promptCompMap=new Map,t}return a(t,e),t.prototype.initialize=function(e){var t,n;try{for(var r=l(e.adapterDataBundles||[]),o=r.next();!o.done;o=r.next()){var i=o.value;i.promptClass&&this._promptCompMap.set(i.adapter,i.promptClass)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.prompt=function(e){var t;return c(this,void 0,void 0,function(){var n,r,o=this;return u(this,function(i){switch(i.label){case 0:return d.curAdapter?((n=this._promptCompMap.get(d.curAdapter))||(n=d.adapters.reduce(function(e,t){return e||o._promptCompMap.get(t)},void 0)),n?(r=new n,null===(t=e.buttons)||void 0===t||t.forEach(function(e){var t=e.callback;e.callback=function(e){var n=this;r.close().then(function(){null===t||void 0===t||t.call(n,e)})}}),r.open(e),[4,r.whenClosed]):[3,2]):[3,4];case 1:return i.sent(),[3,3];case 2:throw new Error("there is no prompt definition for current adapter");case 3:return[3,5];case 4:throw new Error("there is no proper adapter now");case 5:return[2]}})})},t.prototype.alert=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(this,void 0,void 0,function(){var t,r,o,i,a;return u(this,function(s){switch(s.label){case 0:return"string"!=typeof e[0]||"string"!=typeof e[1]?[3,2]:(t=f(e,3),r=t[0],i=t[1],a=t[2],[4,this.prompt({title:r,content:i,buttons:[{text:"\u786e\u5b9a",type:n.EnumButtonType.IMPORTANT,callback:a}]})]);case 1:return s.sent(),[3,4];case 2:return o=f(e,2),i=o[0],a=o[1],[4,this.alert("",i,a)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},t.prototype.confirm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(this,void 0,void 0,function(){var t,r,o,i,a,s,c;return u(this,function(u){switch(u.label){case 0:return"string"!=typeof e[0]||"string"!=typeof e[1]?[3,2]:(t=f(e,4),r=t[0],a=t[1],o=t[2],c=t[3],[4,this.prompt({title:r,content:a,buttons:[{text:"\u786e\u5b9a",type:n.EnumButtonType.IMPORTANT,callback:o},{text:"\u53d6\u6d88",type:n.EnumButtonType.NORMAL,callback:c}]})]);case 1:return u.sent(),[3,4];case 2:return i=f(e,3),a=i[0],s=i[1],c=i[2],[4,this.confirm("",a,s,c)];case 3:u.sent(),u.label=4;case 4:return[2]}})})},t=s([r.injectable],t)}(r.Model),N=r.getInject(T),M=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e}(),R=new Map,I=function(e){function t(t,n,r){var o,i=e.call(this,t,n)||this;return i._policySet=!0,i.policy=r||R.get(null===(o=i.adapter)||void 0===o?void 0:o.adapter)||(i._policySet=!1,M.instance),i}return a(t,e),Object.defineProperty(t.prototype,"policy",{get:function(){return this._policy},set:function(e){e!==this._policy&&(this.skin&&this._policy&&this._policy.unmount&&this._policy.unmount(this.skin,this),this._policy=e,this.skin&&this._policy&&this._policy.mount&&this._policy.mount(this.skin,this))},enumerable:!1,configurable:!0}),t.prototype.setSkin=function(t){this.skin&&this._policy&&this._policy.unmount&&this._policy.unmount(this.skin,this),e.prototype.setSkin.call(this,t),this.skin&&this._policy&&this._policy.mount&&this._policy.mount(this.skin,this)},t.prototype.setAdapter=function(t){if(e.prototype.setAdapter.call(this,t),!this._policySet&&t&&this._policy instanceof M){var n=R.get(t);n&&(this.policy=n),this._policySet=!0}},t.prototype.close=function(t){return c(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,e.prototype.close.call(this,t)];case 1:return n.sent(),this.policy=null,[2]}})})},t.prototype.onWake=function(e,t){},t.prototype.onSleep=function(e,t){},t}(o.Component),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sceneStack=[],t}return a(t,e),Object.defineProperty(t.prototype,"scenes",{get:function(){return this._sceneStack.concat()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curScene",{get:function(){return this._sceneStack[this._sceneStack.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastScene",{get:function(){return this._sceneStack[this._sceneStack.length-2]},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t,n,i=this;r.globalEventBus.listen(o.ComponentEvent.COMPONENT_OPEN,function(e,t){return c(i,void 0,void 0,function(){var n,o,i=this;return u(this,function(a){switch(a.label){case 0:return n=e.target,o=this.curScene,n instanceof I?[4,r.runMiddlewares([function(e,t){return c(i,void 0,void 0,function(){var e;return u(this,function(i){switch(i.label){case 0:return this._sceneStack.push(n),e=r.timer.setTimeout(0,function(){e=S.showMask()}),[4,t()];case 1:return i.sent(),o&&(o.undoAutoRuns(),o.adapter&&(o.adapter.remove(o.skin),w.updateAdaptersShow())),e.cancel(),[2]}})})},function(e,t){return c(i,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return o?[4,o.onSleep(n,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},function(e,t){return c(i,void 0,void 0,function(){var e,r,i,a;return u(this,function(s){switch(s.label){case 0:return[4,t()];case 1:return s.sent(),n.adapter&&(e=w.getLayerBundle(n.adapter))&&e.sceneLayer!==n.adapter.getParent(n.skin)&&(n.adapter.addChild(e.sceneLayer,n.skin),w.updateAdaptersShow()),[4,this.dispatch(p.SCENE_PUSH,{from:o,to:n})];case 2:return s.sent(),[4,this.dispatch(p.SCENE_SWITCH,{from:o,to:n})];case 3:return s.sent(),!o||o.adapter&&!o.adapter.equals(n.adapter)&&d.canCowork(o.adapter,n.adapter)?(r=d.getAdapterParent(n.adapter),(i=o&&o.adapter&&o.adapter.equals(r)&&o.policy||n.adapter&&n.adapter.equals(r)&&n.policy||R.get(r))?(a=i.push||i.switch,[4,Promise.all([o&&o.adapter&&a&&a.call(i,o.adapter.container,void 0,o,n),n.adapter&&a&&a.call(i,void 0,n.adapter.container,o,n)])]):[3,5]):[3,6];case 4:s.sent(),s.label=5;case 5:return[3,8];case 6:return o&&(a=n.policy.push||n.policy.switch)?[4,a.call(n.policy,o.skin,n.skin,o,n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[2]}})})}],e,t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}),r.globalEventBus.listen(o.ComponentEvent.COMPONENT_CLOSE,function(e,t){return c(i,void 0,void 0,function(){var n,o,i,a=this;return u(this,function(s){switch(s.label){case 0:return(n=e.target)instanceof I?n!==this.curScene?[3,2]:(o=this.lastScene)?[4,r.runMiddlewares([function(e,t){return c(a,void 0,void 0,function(){var e;return u(this,function(i){switch(i.label){case 0:return e=r.timer.setTimeout(0,function(){e=S.showMask()}),[4,t()];case 1:return i.sent(),e.cancel(),[4,this.dispatch(p.SCENE_POP,{from:n,to:o})];case 2:return i.sent(),[4,this.dispatch(p.SCENE_SWITCH,{from:n,to:o})];case 3:return i.sent(),[2]}})})},function(e,t){return c(a,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,o.onWake(n,t)];case 1:return e.sent(),[2]}})})},function(){return c(a,void 0,void 0,function(){var e,t,r,i;return u(this,function(a){switch(a.label){case 0:return o.adapter&&(e=w.getLayerBundle(o.adapter))&&e.sceneLayer!==o.adapter.getParent(o.skin)&&(o.adapter.addChild(e.sceneLayer,o.skin),w.updateAdaptersShow()),o.redoAutoRuns(),o.adapter&&!o.adapter.equals(n.adapter)&&d.canCowork(o.adapter,n.adapter)?(t=d.getAdapterParent(n.adapter),(r=n.adapter&&n.adapter.equals(t)&&n.policy||o.adapter.equals(t)&&o.policy||R.get(t))?(i=r.pop||r.switch,[4,Promise.all([n.adapter&&i&&i.call(r,n.adapter.container,void 0,n,o),o.adapter&&i&&i.call(r,void 0,o.adapter.container,n,o)])]):[3,2]):[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return(i=n.policy.pop||n.policy.switch)?[4,i.call(n.policy,n.skin,o.skin,n,o)]:[3,5];case 4:a.sent(),a.label=5;case 5:return[2]}})})}])]:(e.cancel(),[2]):[3,4];case 1:s.sent(),s.label=2;case 2:return n.adapter&&(n.adapter.remove(n.skin),w.updateAdaptersShow()),[4,t()];case 3:s.sent(),(i=this._sceneStack.indexOf(n))>=0&&this._sceneStack.splice(i,1),s.label=4;case 4:return[2]}})})});try{for(var a=l(e.adapterDataBundles||[]),s=a.next();!s.done;s=a.next()){var f=s.value;f.defaultScenePolicy&&R.set(f.adapter,f.defaultScenePolicy)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t=s([r.injectable],t)}(r.Model),L=r.getInject(D),B=r.createCancelable(),F=r.createCancelable(),U={get initialized(){return B.canceled},get started(){return F.canceled},get whenInitialized(){return B},get whenStarted(){return F},start:function(e){return c(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,r.runMiddlewares([d.initialize.bind(d),w.initialize.bind(w),S.initialize.bind(S),L.initialize.bind(L),x.initialize.bind(x),P.initialize.bind(P),N.initialize.bind(N),j.initialize.bind(j)],e)];case 1:return t.sent(),[4,B.cancel()];case 2:return t.sent(),e.onInitialized?[4,e.onInitialized()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[4,r.globalEventBus.dispatch(A.DINO_INITIALIZED)];case 5:return t.sent(),[4,j.open(e.first)];case 6:return t.sent(),[4,F.cancel()];case 7:return t.sent(),[2]}})})}};n.AdapterManager=h,n.Dialog=v,n.DialogEvent=m,n.DialogManager=E,n.Dino=U,n.DinoEvent=A,n.LayerManager=_,n.LoadingManager=C,n.MaskManager=O,n.ModuleManager=k,n.NoneDialogPolicy=y,n.NoneScenePolicy=M,n.PromptManager=T,n.Scene=I,n.SceneEvent=p,n.SceneManager=D,n.adapterManager=d,n.defaultDialogPolicyMap=b,n.defaultScenePolicyMap=R,n.dialogManager=x,n.layerManager=w,n.loadingManager=P,n.maskManager=S,n.moduleManager=j,n.promptManager=N,n.sceneManager=L},{"@byted-dino/core":8,"@byted-dino/surface":11}],5:[function(e,t,n){"use strict";function r(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var f={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof window.FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={};function o(t,n){c(r[n])&&c(t)?r[n]=e(r[n],t):c(t)?r[n]=e({},t):i(t)?r[n]=t.slice():r[n]=t}for(var a=0,s=t.length;a<s;a++)l(t[a],o);return r},extend:function(e,t,n){return l(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function p(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function h(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(f.isURLSearchParams(t))r=t.toString();else{var o=[];f.forEach(t,function(e,t){null!==e&&void 0!==e&&(f.isArray(e)?t+="[]":e=[e],f.forEach(e,function(e){f.isDate(e)?e=e.toISOString():f.isObject(e)&&(e=JSON.stringify(e)),o.push(p(t)+"="+p(e))}),r=o.join("&"))})}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var d=function(){function e(){this.handlers=[]}return e.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},e.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},e.prototype.forEach=function(e){f.forEach(this.handlers,function(t){null!==t&&e(t)})},e}();function y(e,t,n){return f.forEach(n,function(n){e=n(e,t)}),e}function b(e){return!(!e||!e.__CANCEL__)}function v(e,t){f.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}function m(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}function g(e,t,n,r,o){return m(new Error(e),t,n,r,o)}function _(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(g("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}var w=function(){return{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),f.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),f.isString(r)&&a.push("path="+r),f.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}();function O(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}function S(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function E(e,t){return e&&!O(t)?S(e,t):t}var x=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];function A(e){var t,n,r,o={};return e?(f.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=f.trim(e.substr(0,r)).toLowerCase(),n=f.trim(e.substr(r+1)),t){if(o[t]&&x.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o):o}var C=f.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function n(n){var r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname&&"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}var r=n(window.location.href);return function(e){var t=f.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};function P(e){return new Promise(function(t,n){var r=e.data,o=e.headers;f.isFormData(r)&&(e.fileName&&e.filePath&&r.append(e.fileName,e.filePath),delete o["Content-Type"]),(f.isBlob(r)||f.isFile(r))&&r.type&&delete o["Content-Type"];var i=new window.XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=unescape(encodeURIComponent(e.auth.password))||"";o.Authorization="Basic "+window.btoa(a+":"+s)}var c=E(e.baseURL,e.url);if(i.open(e.method.toUpperCase(),h(c,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?A(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};_(t,n,o),i=null}},i.onabort=function(){i&&(n(g("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(g("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(g(t,e,"ECONNABORTED",i)),i=null},f.isStandardBrowserEnv()){var u=(e.withCredentials||C(c))&&e.xsrfCookieName?w.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&f.forEach(o,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)}),f.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){i&&(i.abort(),n(e),i=null)}),r||(r=null),i.send(r)})}function k(e){return new Promise(function(t,n){var r=e.data,o=e.headers;if(f.isFormData(r)){var i={};r.forEach(function(e,t){i[t]=e}),r=i,o["Content-Type"]="application/json"}if((f.isBlob(r)||f.isFile(r))&&r.type&&n(new TypeError("Blob or File is not support for current request")),e.auth){var a=e.auth.username||"",s=unescape(encodeURIComponent(e.auth.password))||"";o.Authorization="Basic"+window.btoa(a+":"+s)}var c=E(e.baseURL,e.url),u=null,l=function(t){var n={data:t.data,status:t.statusCode,statusText:t.errMsg,headers:t.header||{},config:e};return t.tempPath&&(n.tempPath=t.tempPath),(t.tempFilePath||t.filePath)&&(n.tempPath=t.tempFilePath||t.filePath),t.cookies&&(n.cookies=t.cookies),t.profile&&(n.profile=t.profile),n};if(e.filePath&&e.fileName)try{u=window.wx.uploadFile({url:c,filePath:e.filePath,name:e.fileName,formData:r,success:function(e){t(l(e))},fail:function(e){n(e)}})}catch(e){n(e)}else u="string"==typeof e.downloadPath?window.wx.downloadFile({url:h(c,e.params,e.paramsSerializer),header:o,filePath:e.downloadPath,success:function(e){window.wx.getFileSystemManager().readFile({filePath:e.tempFilePath||e.filePath,success:function(n){e.data=n.data,t(l(e))},fail:function(e){n(e)}})},fail:function(e){n(e)}}):window.wx.request({method:e.method.toUpperCase(),url:h(c,e.params,e.paramsSerializer),data:r?JSON.parse(r):r,header:o,dataType:e.dataType||"json",responseType:"blob"===e.responseType?"arrayBuffer":e.responseType,success:function(n){n.data instanceof ArrayBuffer&&"blob"===e.responseType&&(n.data=new window.Blob([n.data])),t(l(n))},fail:function(e){n(e)}});e.cancelToken&&e.cancelToken.promise.then(function(e){u&&(u.abort(),n(e),u=null)}),"function"==typeof e.onDownloadProgress&&u.onProgressUpdate&&u.onProgressUpdate(e.onDownloadProgress),"function"==typeof e.onUploadProgress&&u.onProgressUpdate&&u.onProgressUpdate(e.onUploadProgress)})}var j={"Content-Type":"application/x-www-form-urlencoded"};function T(e,t){!f.isUndefined(e)&&f.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var N={adapter:function(){var e;return void 0!==window.wx?(e=k,console.log("===using wx/tt===")):"undefined"!=typeof XMLHttpRequest&&(e=P,console.log("===using xhr===")),e}(),transformRequest:[function(e,t){return v(t,"Accept"),v(t,"Content-Type"),f.isFormData(e)||f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isFile(e)||f.isBlob(e)?e:f.isArrayBufferView(e)?e.buffer:f.isURLSearchParams(e)?(T(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):f.isObject(e)?(T(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,method:"get",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};function M(e){e.cancelToken&&e.cancelToken.throwIfRequested()}function R(e){return M(e),e.headers=e.headers||{},e.data=y(e.data,e.headers,e.transformRequest),e.headers=f.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||N.adapter)(e).then(function(t){return M(e),t.data=y(t.data,t.headers,e.transformResponse),t},function(t){return b(t)||(M(e),t&&t.response&&(t.response.data=y(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function I(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return f.isPlainObject(e)&&f.isPlainObject(t)?f.merge(e,t):f.isPlainObject(t)?f.merge({},t):f.isArray(t)?t.slice():t}function c(r){f.isUndefined(t[r])?f.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}f.forEach(r,function(e){f.isUndefined(t[e])||(n[e]=s(void 0,t[e]))}),f.forEach(o,c),f.forEach(i,function(r){f.isUndefined(t[r])?f.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])}),f.forEach(a,function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))});var u=r.concat(o).concat(i).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===u.indexOf(e)});return f.forEach(l,c),n}N.headers={common:{Accept:"application/json, text/plain, */*"}},f.forEach(["delete","get","head"],function(e){N.headers[e]={}}),f.forEach(["post","put","patch"],function(e){N.headers[e]=f.merge(j)});var D=function(){function e(e){var t=this;this.defaults=e,this.interceptors={request:new d,response:new d};var n=function(e){return function(n,r){return t.request(I(r||{},{method:e,url:n}))}},r=function(e){return function(n,r,o){return t.request(I(o||{},{method:e,url:n,data:r}))}};this.delete=n("delete"),this.get=n("get"),this.head=n("head"),this.options=n("options"),this.post=r("post"),this.put=r("put"),this.patch=r("patch")}return e.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=I(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[R,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},e.prototype.getUri=function(e){return h((e=I(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.prototype.upload=function(e,t,n){var r=new FormData;for(var o in t)"fileName"!==o&&"filePath"!==o&&r.append(o,t[o]);return this.request(I(n||{},{method:"post",url:e,filePath:t.filePath,fileName:t.fileName,data:r}))},e.prototype.download=function(e,t){return t.responseType="arraybuffer",t.downloadPath=t.downloadPath||"",this.request(I(t||{},{method:"get",url:e}))},e}();var L=function(){return function(e){this.message=e}}();L.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},L.prototype.__CANCEL__=!0;var B=function(){return function e(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(e){n=e});var r=this;t(function(e){r.reason||(r.reason=new L(e),n(r.reason))}),e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var t;return{token:new e(function(e){t=e}),cancel:t}}}}();function F(e){return new D(e)}var U=F(N);U.Axios=D,U.create=function(e){return F(I(U.defaults,e))},U.Cancel=L,U.CancelToken=B,U.isCancel=b,U.all=function(e){return Promise.all(e)},U.spread=function(e){return function(t){return e.apply(null,t)}},n.axios=U},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function i(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function s(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var l={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof window.FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:s,isUndefined:i,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={};function i(t,n){r[n]=s(r[n])&&s(t)?e(r[n],t):s(t)?e({},t):o(t)?t.slice():t}for(var a=0,c=t.length;a<c;a++)u(t[a],i);return r},extend:function(e,t,n){return u(t,function(t,r){e[r]=n&&"function"==typeof t?function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function f(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(l.isURLSearchParams(t))r=t.toString();else{var o=[];l.forEach(t,function(e,t){null!=e&&(l.isArray(e)?t+="[]":e=[e],l.forEach(e,function(e){l.isDate(e)?e=e.toISOString():l.isObject(e)&&(e=JSON.stringify(e)),o.push(f(t)+"="+f(e))}),r=o.join("&"))})}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var h=function(){function e(){this.handlers=[]}return e.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},e.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},e.prototype.forEach=function(e){l.forEach(this.handlers,function(t){null!==t&&e(t)})},e}();function d(e,t,n){return l.forEach(n,function(n){e=n(e,t)}),e}function y(e){return!(!e||!e.__CANCEL__)}function b(e,t){l.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}function v(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)}var m={write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),l.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),l.isString(r)&&a.push("path="+r),l.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}};function g(e,t){return e&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var _=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],w=l.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function n(n){var r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname&&"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}var r=n(window.location.href);return function(e){var t=l.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};function O(e){return new Promise(function(t,n){var r=e.data,o=e.headers;l.isFormData(r)&&(e.fileName&&e.filePath&&r.append(e.fileName,e.filePath),delete o["Content-Type"]),(l.isBlob(r)||l.isFile(r))&&r.type&&delete o["Content-Type"];var i=new window.XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=unescape(encodeURIComponent(e.auth.password))||"";o.Authorization="Basic "+window.btoa(a+":"+s)}var c=g(e.baseURL,e.url);if(i.open(e.method.toUpperCase(),p(c,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,a,s,c,u="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),c={},r?(l.forEach(r.split("\n"),function(e){if(s=e.indexOf(":"),o=l.trim(e.substr(0,s)).toLowerCase(),a=l.trim(e.substr(s+1)),o){if(c[o]&&_.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([a]):c[o]?c[o]+", "+a:a}}),c):c):null;!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(v("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,{data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:u,config:e,request:i}),i=null}},i.onabort=function(){i&&(n(v("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(v("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(v(t,e,"ECONNABORTED",i)),i=null},l.isStandardBrowserEnv()){var u=(e.withCredentials||w(c))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&l.forEach(o,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)}),l.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){i&&(i.abort(),n(e),i=null)}),r||(r=null),i.send(r)})}function S(e){return new Promise(function(t,n){var r=e.data,o=e.headers;if(l.isFormData(r)){var i={};r.forEach(function(e,t){i[t]=e}),r=i,o["Content-Type"]="application/json"}if((l.isBlob(r)||l.isFile(r))&&r.type&&n(new TypeError("Blob or File is not support for current request")),e.auth){var a=e.auth.username||"",s=unescape(encodeURIComponent(e.auth.password))||"";o.Authorization="Basic"+window.btoa(a+":"+s)}var c=g(e.baseURL,e.url),u=null,f=function(t){var n={data:t.data,status:t.statusCode,statusText:t.errMsg,headers:t.header||{},config:e};return t.tempPath&&(n.tempPath=t.tempPath),(t.tempFilePath||t.filePath)&&(n.tempPath=t.tempFilePath||t.filePath),t.cookies&&(n.cookies=t.cookies),t.profile&&(n.profile=t.profile),n};if(e.filePath&&e.fileName)try{u=window.wx.uploadFile({url:c,filePath:e.filePath,name:e.fileName,formData:r,success:function(e){t(f(e))},fail:function(e){n(e)}})}catch(e){n(e)}else u="string"==typeof e.downloadPath?window.wx.downloadFile({url:p(c,e.params,e.paramsSerializer),header:o,filePath:e.downloadPath,success:function(e){window.wx.getFileSystemManager().readFile({filePath:e.tempFilePath||e.filePath,success:function(n){e.data=n.data,t(f(e))},fail:function(e){n(e)}})},fail:function(e){n(e)}}):window.wx.request({method:e.method.toUpperCase(),url:p(c,e.params,e.paramsSerializer),data:r?JSON.parse(r):r,header:o,dataType:e.dataType||"json",responseType:"blob"===e.responseType?"arrayBuffer":e.responseType,success:function(n){n.data instanceof ArrayBuffer&&"blob"===e.responseType&&(n.data=new window.Blob([n.data])),t(f(n))},fail:function(e){n(e)}});e.cancelToken&&e.cancelToken.promise.then(function(e){u&&(u.abort(),n(e),u=null)}),"function"==typeof e.onDownloadProgress&&u.onProgressUpdate&&u.onProgressUpdate(e.onDownloadProgress),"function"==typeof e.onUploadProgress&&u.onProgressUpdate&&u.onProgressUpdate(e.onUploadProgress)})}var E={"Content-Type":"application/x-www-form-urlencoded"};function x(e,t){!l.isUndefined(e)&&l.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var A={adapter:function(){var e;return void 0!==window.wx?(e=S,console.log("===using wx/tt===")):"undefined"!=typeof XMLHttpRequest&&(e=O,console.log("===using xhr===")),e}(),transformRequest:[function(e,t){return b(t,"Accept"),b(t,"Content-Type"),l.isFormData(e)||l.isArrayBuffer(e)||l.isBuffer(e)||l.isStream(e)||l.isFile(e)||l.isBlob(e)?e:l.isArrayBufferView(e)?e.buffer:l.isURLSearchParams(e)?(x(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):l.isObject(e)?(x(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,method:"get",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};function C(e){e.cancelToken&&e.cancelToken.throwIfRequested()}function P(e){return C(e),e.headers=e.headers||{},e.data=d(e.data,e.headers,e.transformRequest),e.headers=l.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||A.adapter)(e).then(function(t){return C(e),t.data=d(t.data,t.headers,e.transformResponse),t},function(t){return y(t)||(C(e),t&&t.response&&(t.response.data=d(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function k(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return l.isPlainObject(e)&&l.isPlainObject(t)?l.merge(e,t):l.isPlainObject(t)?l.merge({},t):l.isArray(t)?t.slice():t}function c(r){l.isUndefined(t[r])?l.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}l.forEach(r,function(e){l.isUndefined(t[e])||(n[e]=s(void 0,t[e]))}),l.forEach(o,c),l.forEach(i,function(r){l.isUndefined(t[r])?l.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])}),l.forEach(a,function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))});var u=r.concat(o).concat(i).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===u.indexOf(e)});return l.forEach(f,c),n}A.headers={common:{Accept:"application/json, text/plain, */*"}},l.forEach(["delete","get","head"],function(e){A.headers[e]={}}),l.forEach(["post","put","patch"],function(e){A.headers[e]=l.merge(E)});var j=function(){function e(e){var t=this;this.defaults=e,this.interceptors={request:new h,response:new h};var n=function(e){return function(n,r){return t.request(k(r||{},{method:e,url:n}))}},r=function(e){return function(n,r,o){return t.request(k(o||{},{method:e,url:n,data:r}))}};this.delete=n("delete"),this.get=n("get"),this.head=n("head"),this.options=n("options"),this.post=r("post"),this.put=r("put"),this.patch=r("patch")}return e.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=k(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var t=[P,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},e.prototype.getUri=function(e){return p((e=k(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.prototype.upload=function(e,t,n){var r=new FormData;for(var o in t)"fileName"!==o&&"filePath"!==o&&r.append(o,t[o]);return this.request(k(n||{},{method:"post",url:e,filePath:t.filePath,fileName:t.fileName,data:r}))},e.prototype.download=function(e,t){return t.responseType="arraybuffer",t.downloadPath=t.downloadPath||"",this.request(k(t||{},{method:"get",url:e}))},e}(),T=function(e){this.message=e};T.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},T.prototype.__CANCEL__=!0;var N=function e(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(e){n=e});var r=this;t(function(e){r.reason||(r.reason=new T(e),n(r.reason))}),e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var t;return{token:new e(function(e){t=e}),cancel:t}}};function M(e){return new j(e)}var R=M(A);R.Axios=j,R.create=function(e){return M(k(R.defaults,e))},R.Cancel=T,R.CancelToken=N,R.isCancel=y,R.all=function(e){return Promise.all(e)},R.spread=function(e){return function(t){return e.apply(null,t)}},n.axios=R},{}],7:[function(e,t,n){(function(n){"use strict";"production"===n.env.NODE_ENV?t.exports=e("./axios.cjs.production.min.js"):t.exports=e("./axios.cjs.development.js")}).call(this,e("_process"))},{"./axios.cjs.development.js":5,"./axios.cjs.production.min.js":6,_process:2}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@byted-dino/di"),o=e("mobx"),i=e("rxjs"),a=e("@tweenjs/tween.js"),s=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(a),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}var y=Symbol("dino simple property dictionary key");function b(e,t){e[y]||Object.defineProperty(e,y,{configurable:!0,enumerable:!1,writable:!1,value:{}}),e[y][t]=!0}var v=new Map;function m(e,t){var n=v.get(e);n||v.set(e,n=[]),n.indexOf(t)<0&&n.push(t)}function g(e,t){var n,r,i,a,s,c;try{for(var u=p(v.get(t||e)||[]),l=u.next();!l.done;l=u.next()){(0,l.value)(e)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}var f=(t||e)[y]||{};if(t){var h=Object.getOwnPropertyDescriptors(t);try{for(var d=p(Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))),b=d.next();!b.done;b=d.next()){if(!f[O=b.value])if(S=h[O]){var m=void 0;S.get instanceof Function&&(m=o.computed(t,O,S)),m&&Object.defineProperty(t,O,m)}}}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}var g=Object.getOwnPropertyDescriptors(e);try{for(var _=p(Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))),w=_.next();!w.done;w=_.next()){var O,S;if(!f[O=w.value])if(S=g[O]){m=void 0;!S.hasOwnProperty("value")||S.value instanceof Function||(m=o.observable(e,O,S))&&Object.defineProperty(e,O,m)}}}catch(e){s={error:e}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}}function _(e,t){var n=this;void 0===t&&(t=!1);var r,o,i=!1,a=new Promise(function(e){r=e});return Object.defineProperty(a,"canceled",{configurable:!0,enumerable:!0,get:function(){return i}}),a.cancel=function(){return l(n,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:if(i)return[3,5];i=!0,t.label=1;case 1:return t.trys.push([1,,4,5]),e?[4,e()]:[3,3];case 2:o=t.sent(),t.label=3;case 3:return[3,5];case 4:return r(o),[7];case 5:return[2,o]}})})},t&&a.cancel(),a}function w(e){var t=_(function(){return Promise.all(e.map(function(e){return e.cancel()}))});return Promise.all(e).then(function(){return t.cancel()}),t}function O(e){if((e=e.filter(function(e){return e})).length>2){var t=w(e);e.forEach(function(e){return O([e,t])})}else 2===e.length&&(e[0].then(function(){return e[1].cancel()}),e[1].then(function(){return e[0].cancel()}));return e}function S(e,t,n){return l(this,void 0,void 0,function(){var r,o,i,a,s=this;return f(this,function(c){switch(c.label){case 0:return e=(e||[]).filter(function(e){return null!=e}),r=-1,o=t,i=[],[4,(a=function(t){var c=++r;void 0===t?t=o:o=t;var u=new Promise(function(u,p){return l(s,void 0,void 0,function(){var s,h,d,y,b=this;return f(this,function(v){switch(v.label){case 0:return v.trys.push([0,7,,8]),r>=e.length?(s=void 0,n?[4,n(o)]:[3,2]):[3,3];case 1:s=v.sent(),v.label=2;case 2:return u(s),[3,6];case 3:return[4,(0,e[r])(t,function(e){return l(b,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return r!==c?[3,2]:[4,a(e)];case 1:return[2,t.sent()];case 2:return[2]}})})})];case 4:return h=v.sent(),r===c&&a(),[4,i[c+1]];case 5:d=v.sent(),u(void 0!==h?h:d),v.label=6;case 6:return[3,8];case 7:return y=v.sent(),p(y),[3,8];case 8:return[2]}})})});return i[c]=u,u})()];case 1:return[2,c.sent()]}})})}function E(e){e=(e||[]).filter(function(e){return e instanceof Function});var t=function(t,n){return S(e,t,n)};return t.subMiddlewares=e,t}function x(e){var t,n;e=(e||[]).filter(function(e){return null!=e});var r=[];try{for(var o=p(e),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.subMiddlewares;s?r.push.apply(r,d(x(s))):r.push(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}var A=Symbol("object hash key"),C=["object","function"],P=0;function k(e){if(null==e)return"__object_hash_0__";var t;if(Object.prototype.hasOwnProperty.call(e,A)&&(t=e[A]),t)return t;var n=typeof e;return C.indexOf(n)<0?n+":"+e.toString():(t="__object_hash_"+ ++P+"__",Object.defineProperty(e,A,{configurable:!0,enumerable:!1,writable:!1,value:t}),t)}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(e){return k(e)}).join("|")}function T(e){return!(null!=e&&"object"==typeof e&&!Array.isArray(e))}var N=Symbol("event bus context symbol");function M(e){return"object"==typeof e&&e[N]===N}var R={clone:function(){return D(this.type,this.data,this.target,this.currentTarget,this)},extend:function(e){var t=this.clone();for(var n in e)t[n]=e[n];return t},omit:function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this.clone();try{for(var i=p(n),a=i.next();!a.done;a=i.next()){delete o[a.value]}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o}},I=["canceled","cancel","type","data","target","currentTarget"].concat(Object.keys(R));function D(e,t,n,r,o){var i=Object.assign(_(function(){throw B}),c({type:e,data:t,target:n,currentTarget:r},R));if(o){for(var a in o)I.indexOf(a)<0&&(i[a]=o[a]);O([o,i])}return Object.defineProperty(i,N,{configurable:!0,enumerable:!1,writable:!1,value:N}),i}var L=function(){function e(e){var t=this;this._listenDataMapMap=new Map,this._name=Symbol(e),this._cancelable=_(function(){t._listenDataMapMap.clear()})}return Object.defineProperty(e.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e.prototype.listen=function(e,t,n,r){void 0===r&&(r=!1);var o=this._listenDataMapMap.get(e);o||this._listenDataMapMap.set(e,o=new Map);var i=j(e,t,n),a=o.get(i);if(a)return a[3];var s=_(function(){o.delete(i)});return o.set(i,[t,n,r,s]),s},e.prototype.unlisten=function(e,t,n){var r=this._listenDataMapMap.get(e);if(r){var o=j(e,t,n),i=r.get(o);i&&i[3].cancel()}},e.prototype.dispatch=function(e,t,n){return l(this,void 0,void 0,function(){var r,o,i,a,s=this;return f(this,function(c){switch(c.label){case 0:if(!T(e))return[3,5];i=D(e,t,n=n||this,n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.dispatch(i)];case 2:return[2,c.sent()];case 3:if((r=c.sent())===B)return[2,r];throw r;case 4:return[3,7];case 5:return M(e)?(o=[],i=e,(a=this._listenDataMapMap.get(i.type))&&a.forEach(function(e){o.push(function(t,n){return l(s,void 0,void 0,function(){var r;return f(this,function(o){switch(o.label){case 0:return[4,e[0].call(e[1],t,n)];case 1:return r=o.sent(),e[2]&&e[3].cancel(),[2,r]}})})})}),[4,S(o,i,function(e){return l(s,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return this.next?[4,this.next.dispatch(e.extend({currentTarget:this.next}))]:[3,2];case 1:return[2,t.sent()];case 2:return[2]}})})})]):[3,7];case 6:return[2,c.sent()];case 7:return[2]}})})},e}(),B=Symbol("event bus canceld"),F=new L("global event bus"),U=function(){function e(){this._eventBus=new L("model local event bus of: "+this.constructor.name),this._eventBus.next=F}return e.prototype.listen=function(e,t,n,r){return void 0===r&&(r=!1),this._eventBus.listen(e,t,n,r)},e.prototype.unlisten=function(e,t,n){return this._eventBus.unlisten(e,t,n)},e.prototype.dispatch=function(e,t){return this._eventBus.dispatch(e,t,this)},u([b],e.prototype,"_eventBus",void 0),u([b],e.prototype,"listen",null),u([b],e.prototype,"unlisten",null),u([b],e.prototype,"dispatch",null),e}();var z=function(){function e(){var e=this;if(this._tickList=[],this._timer=0,requestAnimationFrame instanceof Function){var t=function(n){requestAnimationFrame(t),e._timer=n,e.tick()};requestAnimationFrame(t)}else{var n=Date.now();setInterval(function(){var t=Date.now();e._timer=t-n,e.tick()},1e3/60)}}return e.prototype.getTimer=function(){return this._timer},e.prototype.tick=function(){for(var e=0,t=this._tickList.length;e<t;e++){var n=this._tickList[e];n instanceof Function?n():(this._tickList.splice(e,1),e--,t--)}},e.prototype.enterFrame=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this._tickList.push(i),_(function(){var e=n._tickList.indexOf(i);e>=0&&n._tickList.splice(e,1)});function i(){e.apply(t,r)}},e.prototype.nextFrame=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this.enterFrame(function(){e.apply(t,n),o.cancel()},this);return o},e.prototype.setTimeout=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=setTimeout(function(){a.cancel(),t.apply(n,r)},e),a=_(function(){return clearTimeout(i)});return a},e.prototype.setInterval=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=setInterval(function(){t.apply(n,r)},e);return _(function(){return clearInterval(i)})},e.prototype.sleep=function(e){return this.setTimeout(e,function(){})},e}(),q=new z;function V(e,t){return _(o.autorun(e,t))}var H=Promise.resolve();function G(e){"/"==(e=e.replace(/([^:\/]|(:\/))\/+/g,"$1/")).charAt(0)&&(e=e.substr(1));for(var t=/(?!:\/{2,}[^\/]+\/)([^\/\.]+)\/[^\/\.]+?\/\.\.\//;t.test(e);)e=e.replace(t,"/$1");for(t=/\/\.{1,2}\//;t.test(e);)e=e.replace(t,"/");return e}function K(e){if(null==e)throw new Error("url\u4e0d\u80fd\u4e3a\u7a7a");return e=G(e=e.split("#")[0].split("?")[0])}function W(e){var t=/(([^:]+:)\/{2,}(([^:\/\?#]+)(:(\d+))?))?(\/[^?#]*)?(\?[^#]*)?(#.*)?/.exec(e);if(t)return{href:t[0]||"",origin:t[1]||"",protocol:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[6]||"",pathname:t[7]||"",search:t[8]||"",hash:("#"==t[9]?"":t[9])||""};throw new Error("\u4f20\u5165parseUrl\u65b9\u6cd5\u7684\u53c2\u6570\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684URL\uff1a"+e)}function J(e){var t,n,r=e.indexOf("#");if(r>=0&&(e=e.substring(0,r)),(r=e.indexOf("?"))<0)return{};var o={},i=e.substring(r+1).split("&");try{for(var a=p(i),s=a.next();!s.done;s=a.next()){var c=s.value,u=c.split("=",2);if(2===u.length&&u[0]){var l=decodeURIComponent(u[0]),f=decodeURIComponent(u[1]);o[l]=f}else console.log("[URLUtil] invalid query params: "+c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}q.enterFrame(function(){s.update(s.now())}),Object.defineProperty(n,"getInject",{enumerable:!0,get:function(){return r.getInject}}),Object.defineProperty(n,"inject",{enumerable:!0,get:function(){return r.inject}}),Object.defineProperty(n,"injectable",{enumerable:!0,get:function(){return r.injectable}}),n.TWEEN=s,n.EventBus=L,n.Model=U,n.Timer=z,n.autoRun=V,n.combineCancelables=w,n.combineMiddlewares=E,n.couldBeClass=function(e,t){if(void 0===t&&(t=!1),"function"!=typeof e)return!1;var n=e.toString();return void 0!==e.prototype&&e.prototype.constructor instanceof Function&&("class"==n.slice(0,5)||Object.getOwnPropertyNames(e.prototype).length>=2||!/^function\s+\(|^function\s+anonymous\(/.test(n)&&(!(!t||!/^function\s+[A-Z]/.test(n))||!!/\b\(this\b|\bthis[\.\[]\b/.test(n)&&(!(t&&!/classCallCheck\(this/.test(n))||/^function\sdefault_\d+\s*\(/.test(n))))},n.createCancelable=_,n.delta=function(e){var t=0;return i.Observable.create(function(n){e.subscribe(function(e){"number"!=typeof e&&(e=0);var r=e-t;t=e,n.next(r)},function(e){return n.error(e)})})},n.dirtyRun=function(e,t){var n=!0;return V(e,c(c({},t),{scheduler:function(e){n?(n=!1,e()):H.then(e)}}))},n.eventBusCanceledSymbol=B,n.flattenCombineMiddlewares=function(e){return E(x(e))},n.flattenMiddlewares=x,n.getHostAndPathname=K,n.getName=function(e){var t=(e=e.split("#")[0].split("?")[0]).split("/");return t[t.length-1]},n.getObjectHash=k,n.getObjectHashs=j,n.getPath=function(e){var t=(e=K(e)).split("/");return t.pop(),t.join("/")+"/"},n.getQueryParams=J,n.globalEventBus=F,n.isAbsolutePath=function(e){return null!=e&&e.indexOf("://")>=0},n.joinHashParams=function(e,t){if(null==e)throw new Error("url\u4e0d\u80fd\u4e3a\u7a7a");var n=W(e).hash;if(null==n||""==n)return e;for(var r in t){var o=t[r];o&&"string"!=typeof o&&(o=o.toString()),n+=(n.indexOf("?")<0?"?":"&")+encodeURIComponent(r)+"="+encodeURIComponent(o)}return e.split("#")[0]+n},n.joinQueryParams=function(e,t){if(null==e)throw new Error("url\u4e0d\u80fd\u4e3a\u7a7a");var n=J(e),r=Object.assign(n,t),o=W(e).hash;e=K(e);var i=!0;for(var a in r)i?(e+="?"+encodeURIComponent(a)+"="+encodeURIComponent(r[a]),i=!1):e+="&"+encodeURIComponent(a)+"="+encodeURIComponent(r[a]);return e+=o},n.listenConstruct=m,n.model=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e instanceof Function){var o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=new(e.bind.apply(e,d([void 0],t)));return g(r,e.prototype),r};for(var i in e)o[i]=e[i];return o.prototype=e.prototype,r.injectable(o),o}return t.forEach(function(t){return m(e,t)}),g(e),e},n.numberToStr=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=10);var r=e.toString(n);if(t<=1)return r;var o=r.length;if(t<=o)return r.substr(o-t);for(var i=0,a=t-o;i<a;i++)r="0"+r;return r},n.parseUrl=W,n.pipe=function e(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,a=function(e,n,r){var o;if(t.length>0){b(e,n);var a,s,c=Symbol("original propertyKey of ["+n.toString()+"]"),u=(o=i.Observable.create(function(e){a=e})).pipe.apply(o,d(t));if(r&&r.get instanceof Function)return m(e,function(e){Object.defineProperty(e,c,{configurable:!0,enumerable:!1,writable:!0,value:s}),u.subscribe(function(t){e[c]=t})}),{configurable:r.configurable,enumerable:r.enumerable,set:r.set,get:function(){var e=r.get.call(this);return e!==s&&(s=e,a.next(e)),this[c]}};if(!(r&&r.value instanceof Function)){var l=r?r.value:void 0,f=function(e){a||(Object.defineProperty(e,c,{configurable:!0,enumerable:!1,writable:!0,value:void 0}),u.subscribe(function(t){e[c]=t}),void 0!==l&&(e[n]=l))};Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return f(this),this[c]},set:function(e){f(this),a.next(e)}}),r&&f(e)}}};switch(typeof n[0]){case"object":var s=n[0];o=n[1],t=n.slice(2);var c=a(s,o,Object.getOwnPropertyDescriptor(s,o));return c&&Object.defineProperty(s,o,c),s;case"string":case"symbol":return function(t){e.apply(void 0,d([t],n))};default:return t=n,a}},n.renderRun=function(e,t){var n=!0;return V(e,c(c({},t),{scheduler:function(e){n?(n=!1,e()):q.nextFrame(e)}}))},n.runMiddlewares=S,n.simple=b,n.syncCancelables=O,n.timer=q,n.trimURL=G,n.tween=function(e,t,n){var r;void 0===t&&(t=a.Easing.Linear.None);var o,c=null;return function(u){return i.Observable.create(function(i){u.subscribe(function(u){"number"!=typeof r||"number"!=typeof u?(r=u,i.next(u)):(c&&(c.stop(),o&&o()),o=n,c=new a.Tween({value:r}).to({value:u}).duration(e).onUpdate(function(e){i.next(r=e.value)}).onComplete(function(){c=null,o=void 0,n&&n()}).easing(t).start(s.now()))},function(e){return i.error(e)})})}}},{"@byted-dino/di":9,"@tweenjs/tween.js":15,mobx:17,rxjs:26}],9:[function(e,t,n){"use strict";e("reflect-metadata");var r=Symbol("dino-di inject data map key"),o=new Map;function i(e){return o.get(e)}function a(e,t,n,o){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var a=i(n);if(a){delete e[t],e[t]=a;var s=e[r];s||(e[r]=s={}),s[t]||(s[t]={target:a,options:o})}return a},set:function(e){this[t]=e}})}n.getInject=i,n.inject=function(e,t){if("string"!=typeof t)return function(n,r){e instanceof Function?a(n,r,e,t):a(n,r,Reflect.getMetadata("design:type",n,r),e)};var n=Reflect.getMetadata("design:type",e,t);a(e,t,n)},n.injectable=function(e){var t=new e;o.set(e,t)},n.targetDict=o},{"reflect-metadata":25}],10:[function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("@byted-dino/core"),i=e("@byted-dino/surface"),a=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(e("@tweenjs/tween.js"));function s(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function f(){if(!r){var e=cc.view.getVisibleSize();r=o.model({width:e.width,height:e.height}),cc.view.on("canvas-resize",function(){var e=cc.view.getVisibleSize();r.width=e.width,r.height=e.height})}return r}var p={get width(){return f().width},get height(){return f().height}},h=Symbol("cocos skin refs"),d=Symbol("cocos adapter list data key");function y(e){var t=e[h];if(!t){e[h]=t={};var n=function(e){e.name&&(t[e.name]=e.constructor===cc.Node&&e.getComponent(cc.RenderComponent)||e)},r=Symbol();try{e.walk(function(t){t===e&&n(t)},function(t){if(t===e)throw r;n(t)})}catch(e){if(e!==r)throw e}}return t}var b,v=["x","y","z","width","height","angle","eulerAngles","scale","scaleX","scaleY","scaleZ","anchorX","anchorY","color","opacity","skewX","skewY","group","groupIndex","zIndex"],m=["target","top","bottom","left","right","horizontalCenter","verticalCenter","alignMode"],g=function(){function e(t){var n=this;void 0===t&&(t={}),this._maskScaleTimes=1,this.globalField=window,this._removePrefixReg=/^\/+/;var r=null===t||void 0===t?void 0:t.container;"string"==typeof r&&(r=document.querySelector(r)),r&&(this._container=r),this._cocosDistPath=t.cocosDistPath?o.trimURL(t.cocosDistPath):"",this._startPromise=new Promise(function(e){return s(n,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return this._cocosDistPath?[4,this.patchRelativePlayground()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.generateStartScript?cc.Class({name:t.startScriptName||"Dino Start Script",extends:cc.Component,start:e}):e(),[2]}})})}),this._isInDOM=!1;for(var i=document.body.children,a=0,u=i.length;a<u;a++){var l=i[a];if(l&&!(l instanceof HTMLScriptElement)){this._isInDOM=!0;break}}e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return e._instance||new e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return i.AdapterNames.cocos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentName",{get:function(){return this._isInDOM?i.AdapterNames.dom:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._isInDOM?this._container||document.getElementById("GameDiv"):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=cc.director.getScene();return e.children[0]||e},enumerable:!1,configurable:!0}),e.prototype.getNode=function(e){return e instanceof cc.Node?e:e instanceof cc.Component?e.node:null},e.prototype.prefixWrapped=function(e){return"string"==typeof e&&e.indexOf(this._cocosDistPath)>=0},e.prototype.wrapPrefix=function(e){return this.prefixWrapped(e)||o.isAbsolutePath(e)?e:o.trimURL(this._cocosDistPath+"/"+e)},e.prototype.removePrefix=function(e){if("string"==typeof e){var t=e.split(this._cocosDistPath)[1];t&&(e=t.replace(this._removePrefixReg,""))}return e},e.prototype.patchRelativePlayground=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s;return c(this,function(c){switch(c.label){case 0:return e=this,t=cc.game.run,cc.game.run=function(e,n){var r=document.createElement("div");return r.id="GameDiv",r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.innerHTML="\n                <div id="+e.id+'></div>\n                <div id="splash">\n                <div class="progress-bar">\n                    <span></span>\n                </div>\n                </div>\n            ',document.body.appendChild(r),e.id=r,t.call(this,e,n)},n=cc,r=n.AssetLibrary.getLibUrlNoExt,n.AssetLibrary.getLibUrlNoExt=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=r.call.apply(r,l([this,e.removePrefix(t)],n));return e.wrapPrefix(i)},o=n.AssetLibrary._getAssetInfoInRuntime,n.AssetLibrary._getAssetInfoInRuntime=function(t,n){var r=o.call(this,t,n);return e.prefixWrapped(t)?r.url=t:r.url=e.wrapPrefix(r.url),r},i=Object.getPrototypeOf(cc.loader),a=i.load,i.load=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=function(t){return"object"==typeof t?t.url&&(t.url=e.wrapPrefix(t.url)):t=e.wrapPrefix(t),t};if(Array.isArray(t))for(var i in t)t[i]=o(t[i]);else t=o(t);return a.call.apply(a,l([this,t],n))},window.boot(),[4,new Promise(function(e){cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,e)})];case 1:return c.sent(),this._container&&(s=document.getElementById("GameDiv"))&&this._container.appendChild(s),[2]}})})},e.prototype.initialize=function(){var e=this;return new Promise(function(t){e._startPromise.then(function(){e._maskScaleTimes=2;var n=new cc.Node,r=n.addComponent(cc.Graphics);r.fillRect(0,0,p.width/e._maskScaleTimes,p.height/e._maskScaleTimes),r.fillColor=new cc.Color(255,255,255),r.fill(),e.root.addChild(n);var i=new cc.RenderTexture;i.initWithSize(p.width/e._maskScaleTimes,p.height/e._maskScaleTimes);var a=new cc.Node;a.parent=n;var s=a.addComponent(cc.Camera);s.targetTexture=i,s.render(n),a.removeFromParent(!0),n.removeFromParent(!0),e._maskFrame=new cc.SpriteFrame,e._maskFrame.setTexture(i),o.globalEventBus.listen("SCENE_SWITCH",function(t){var n=t.data.to;e.isSkin(n.skin)&&(n.skin.x=0,n.skin.y=0,n.renderRun(function(){n.skin.width=p.width,n.skin.height=p.height}))}),t()})})},e.prototype.isSkin=function(e){return e instanceof cc.Node||e instanceof cc.Component||e instanceof cc.Prefab},e.prototype.handleSkin=function(e,t){if(e instanceof cc.Prefab?e=cc.instantiate(e):e instanceof cc.Component&&(e=e.node),e instanceof cc.Node){if(t instanceof cc.Node&&(v.forEach(function(n){e[n]=t[n]}),t.constructor===cc.Node)){var n=t.getComponent(cc.Widget);if(n){var r=e.getComponent(cc.Widget)||e.addComponent(cc.Widget);m.forEach(function(e){r[e]=n[e]})}}return{skin:e,refsMap:y(e)}}return null},e.prototype.destroySkin=function(e){cc.isValid(e)&&e.destroy()},e.prototype.on=function(e,t,n,r){var o=this.getNode(e);o&&o.on(t,n,r)},e.prototype.off=function(e,t,n,r){var o=this.getNode(e);o&&o.off(t,n,r)},e.prototype.getParent=function(e){var t=this.getNode(e);return t&&t.parent},e.prototype.getChildren=function(e){var t=this.getNode(e);return t&&t.children||[]},e.prototype.getChildIndex=function(e,t){var n=this.getNode(t);return n?this.getChildren(e).indexOf(n):-1},e.prototype.addChildAt=function(e,t,n){var r=this.getNode(e),o=this.getNode(t);if(r&&o){if(o.parent===r){var i=o.getSiblingIndex();if(i===n)return o;i>=0&&i<n&&n--}return o.removeFromParent(!1),r.insertChild(o,n),o}return null},e.prototype.removeChild=function(e,t){var n=this.getNode(e),r=this.getNode(t);return n&&r?(n.removeChild(r,!1),r):null},e.prototype.createPlaceHolder=function(){var e=new cc.Node("placeholder");return e.active=!1,e},e.prototype.createLayer=function(){var e=new cc.Node("layer");return o.renderRun(function(){e.width=p.width,e.height=p.height}),e},e.prototype.createMask=function(e,t){var n=this,r=new cc.Node,i=r.addComponent(cc.Sprite);this._maskFrame&&(i.spriteFrame=this._maskFrame);var a=o.renderRun(function(){r.x=-.5*p.width,r.y=p.height,r.width=p.width*n._maskScaleTimes*2,r.height=p.height*n._maskScaleTimes*2});r.color=new cc.Color(e>>>16&255,e>>>8&255,255&e),r.opacity=255*t;var s=function(){};return r.on(cc.Node.EventType.MOUSE_DOWN,s,null,!0),r.on(cc.Node.EventType.TOUCH_START,s,null,!0),{mask:r,cancel:o.createCancelable(function(){a.cancel(),r.off(cc.Node.EventType.MOUSE_DOWN,s,null,!0),r.off(cc.Node.EventType.TOUCH_START,s,null,!0)})}},e.prototype.renderList=function(e,t,n,r,o){var a=this,s=this.getNode(e);if(s){var c=s[d];c||(c=[this.createPlaceHolder(),this.createPlaceHolder(),new Map],Object.defineProperty(s,d,{configurable:!0,enumerable:!1,writable:!1,value:c}));var l=u(c,3),f=l[0],p=l[1],h=l[2],y=s.parent;if(y){var b=s.getSiblingIndex();y.insertChild(p,b),y.insertChild(f,b),y.removeChild(s,!1)}else y=f.parent;var v=[];v.length=t.length,o(v);var m=c[2]=new Map,g=this.createPlaceHolder();y.insertChild(g,p.getSiblingIndex()),t.forEach(function(e,t){var o=h.get(e),c=o&&o.shift(),u=r[c];if(u){v[t]=u;var l=u instanceof i.Component?u.skin:u;a.addChildAt(y,l,a.getChildIndex(y,p))}else u=cc.instantiate(s),v[t]=u,y.insertChild(u,p.getSiblingIndex()),n(e,u);var f=m.get(e)||[];f.push(t),m.set(e,f)});for(var _=f.getSiblingIndex()+1,w=g.getSiblingIndex(),O=_;O<=w;O++){var S=y.children[_];y.removeChild(S,!1)}g.destroy()}},e}(),_=Symbol("cocos skin class key"),w=Symbol("cocos skin instanciate key"),O=Symbol("cocos comp of skin key");function S(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(t,n,r){var o=this;if(t instanceof i.Component){var a=t.constructor,s=a[_];s||(a[_]=s=function(){var e,t=this;cc.Component.call(this),this.hasOwnProperty("dispatch")&&(e=this.dispatch),this.dispatch=function(){},a.call(this),e?this.dispatch=e:delete this.dispatch,a[w].forEach(function(e){e(t)})},s.prototype=Object.create(cc.Component.prototype,{constructor:{value:s,writable:!0,configurable:!0}})),i.listenConstruct(t,function(e){var t=function(t){var n=t[O];for(var r in n)e[r]=n[r]};e.listen(i.ComponentEvent.COMPONENT_SKIN_HANDLED,function(e){t(e.data.skin)},o,!0),e.skin instanceof cc.Node&&t(e.skin)});var c=a[w];return c||(a[w]=c=[]),c.push(function(e){var t=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return t},set:function(r){t=r;var o=e.node;if(o){var i=o[O];i||(o[O]=i={}),i[n]=r}}})}),e.call(this,s.prototype,n,r)}return e.call(this,t,n,r)};return t.length<=1?(e=b.apply(this,t),r):(e=b,r(t[0],t[1],t[2]))}t.cc&&(b=cc._decorator.property,cc._decorator.property=S);var E=Symbol("cocos back dialog policy tween key"),x=function(){function e(e){void 0===e&&(e=300),this._duration=e}return e.prototype.tweenScale=function(e,t,n,r){var o=this;return new Promise(function(i){var s=e[E];s&&s.stop(),e.x=0,e.y=0,e.scale=1,e[E]=new a.Tween({scale:t}).to({scale:n}).duration(o._duration).onUpdate(function(t){e.scale=t.scale}).onComplete(function(){delete e[E],i()}).easing(r).start(a.now())})},e.prototype.open=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return e instanceof cc.Node?[4,this.tweenScale(e,0,1,a.Easing.Back.Out)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.close=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return e instanceof cc.Node?[4,this.tweenScale(e,1,0,a.Easing.Back.In)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e}(),A=Object.freeze({COCOS_COMPONENT_START:"COCOS_COMPONENT_START"}),C=Symbol("cocos fade scene policy tween key"),P=function(){function e(e){void 0===e&&(e=300),this._duration=e}return e.prototype.switch=function(e,t){var n=this;return new Promise(function(r){var o;e&&((o=e[C])&&o.stop(),e.opacity=255);t&&((o=t[C])&&o.stop(),t.opacity=0);var i=new a.Tween({value:0}).to({value:255}).duration(n._duration).easing(a.Easing.Sinusoidal.InOut).onUpdate(function(n){e&&(e.opacity=255-n.value),t&&(t.opacity=n.value)}).onComplete(function(){e&&(e.opacity=255,delete e[C]),t&&(t.opacity=255,delete t[C]),r()}).start(a.now());e&&(e[C]=i),t&&(t[C]=i)})},e}();n.CocosAdapter=g,n.CocosBackDialogPolicy=x,n.CocosEvent=A,n.CocosFadeScenePolicy=P,n.cccomponent=function e(t){return t instanceof Function?e()(t):t?function(e){var n=e[_];return n&&cc._decorator.ccclass(e.name)(n),i.component(t)(e)}:function(e){var t=function(t,n){return new e(t,n||g.instance)};return t.prototype=e.prototype,i.component(t)}},n.ccproperty=S,n.cocosStageSize=p,n.loadCocosPrefab=function(e){return new Promise(function(t,n){cc.loader.loadRes(e,cc.Prefab,function(e,r){e?n(e):t(r)})})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@byted-dino/core":8,"@byted-dino/surface":11,"@tweenjs/tween.js":15}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@byted-dino/core");e("reflect-metadata");var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var l=function(){function e(t){for(this._listenerDict={};t instanceof e;)t=t._adapter;this._adapter=t}return Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._adapter.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentName",{get:function(){return this._adapter.parentName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalField",{get:function(){return this._adapter.globalField},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._adapter.container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._adapter.root},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){if(this._adapter.initialize)return this._adapter.initialize()},e.prototype.isSkin=function(e){return this._adapter.isSkin(e)},e.prototype.handleSkin=function(e,t){return this._adapter.handleSkin(e,t)},e.prototype.destroySkin=function(e){this._adapter.destroySkin(e)},e.prototype.on=function(e,t,n,o,i){var a=this;if(void 0===i&&(i=!1),e){var s,c=r.getObjectHashs(e,t,n,o),u=r.createCancelable(function(){a._adapter.off(e,t,s,o),delete a._listenerDict[c]});return this._listenerDict[c]=u,s=function(e){i&&u.cancel(),n.call(this,e)},this._adapter.on(e,t,s,o),u}return r.createCancelable(void 0,!0)},e.prototype.off=function(e,t,n,o){var i=this._listenerDict[r.getObjectHashs(e,t,n,o)];i&&i.cancel()},e.prototype.getParent=function(e){return e&&this._adapter.getParent(e)||null},e.prototype.getChildren=function(e){return e?this._adapter.getChildren(e):[]},e.prototype.getChildIndex=function(e,t){return this._adapter.getChildIndex(e,t)},e.prototype.addChildAt=function(e,t,n){if(e&&t){n=Math.min(n,this.getChildrenCount(e));var r=this.getChildIndex(e,t);if(r>=0){if(r===n)return t;r<n&&n--,this.removeChild(e,t)}return this._adapter.addChildAt(e,t,n)}return null},e.prototype.removeChild=function(e,t){return e&&t?this._adapter.removeChild(e,t):null},e.prototype.createPlaceHolder=function(){return this._adapter.createPlaceHolder()},e.prototype.createLayer=function(){return this._adapter.createLayer()},e.prototype.createMask=function(e,t){return this._adapter.createMask(e,t)},e.prototype.renderList=function(e,t,n,r,o){return this._adapter.renderList(e,t,n,r,o)},e.prototype.equals=function(t){for(;t instanceof e;)t=t._adapter;return t==this._adapter},e.prototype.getFarestAncestor=function(e){for(var t,n=e;t=this.getParent(n);)n=t;return n},e.prototype.getChildrenCount=function(e){return this.getChildren(e).length},e.prototype.getChildAt=function(e,t){return this.getChildren(e)[t]||null},e.prototype.addChild=function(e,t){return this.addChildAt(e,t,Number.MAX_SAFE_INTEGER)},e.prototype.addChildBefore=function(e,t){var n=this.getParent(t);if(n){var r=this.getChildIndex(n,t);if(r>=0)return this.addChildAt(n,e,r)}return null},e.prototype.addChildAfter=function(e,t){var n=this.getParent(t),r=this.getChildIndex(n,t);return r>=0?this.addChildAt(n,e,r+1):null},e.prototype.removeChildAt=function(e,t){return this.removeChild(e,this.getChildAt(e,t))},e.prototype.remove=function(e){return this.removeChild(this.getParent(e),e)},e.prototype.removeChildren=function(e){var t,n,r=[];try{for(var o=s(this.getChildren(e)),i=o.next();!i.done;i=o.next()){var a=i.value,c=this.removeChild(e,a);c&&r.push(c)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.replace=function(e,t){e!==t&&this.addChildBefore(e,t)&&this.remove(t)},e.prototype.calcAncestorDepth=function(e,t){for(var n=t,r=0;null!=n;n=this.getParent(n),r++)if(n===e)return r;return-1},e.prototype.getAncestorDepth=function(e,t,n){void 0===n&&(n=!0);var r=this.calcAncestorDepth(e,t);return r>=0?r:n&&(r=this.calcAncestorDepth(t,e))>=0?-r:null},e.prototype.contains=function(e,t,n){void 0===n&&(n=!0);var r=this.calcAncestorDepth(e,t);return n?r>=0:r>0},e}();(function(e){e[e.UNOPENED=0]="UNOPENED",e[e.OPENING=1]="OPENING",e[e.OPENED=2]="OPENED",e[e.CLOSING=3]="CLOSING",e[e.CLOSED=4]="CLOSED"})(n.EnumComponentStatus||(n.EnumComponentStatus={}));var f=Object.freeze({COMPONENT_CONSTRUCT:"COMPONENT_CONSTRUCT",COMPONENT_SET_ADAPTER:"COMPONENT_SET_ADAPTER",COMPONENT_SET_SKIN:"COMPONENT_SET_SKIN",COMPONENT_SET_VIEW_MODEL:"COMPONENT_SET_VIEW_MODEL",COMPONENT_SKIN_HANDLED:"COMPONENT_SKIN_HANDLED",COMPONENT_OPEN:"COMPONENT_OPEN",COMPONENT_UPDATE:"COMPONENT_UPDATE",COMPONENT_CLOSE:"COMPONENT_CLOSE"}),p=function(){function e(e,t){var o=this;this._status=n.EnumComponentStatus.UNOPENED,this._viewModelAssigned=!1,this._subCompoents=[],this._subComponentCancelableMap=new Map,this._cancelables=[],this._autoRunUndo=!1,this._autoRunFactories=[],this._autoRunCancelables=[],this._eventBus=new r.EventBus(this.constructor.name),this._eventBus.next=r.globalEventBus,this._whenOpened=r.createCancelable(function(){return o._openData}),this._whenClosed=r.createCancelable(function(){return o._closeData}),t&&this.setAdapter(t),e&&(this._oriSkin=e,this.setSkin(e)),this.dispatch(f.COMPONENT_CONSTRUCT)}return Object.defineProperty(e.prototype,"skin",{get:function(){return this._skin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewModel",{get:function(){return this._viewModel},set:function(e){this.setViewModel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openData",{get:function(){return this._openData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whenOpened",{get:function(){return this._whenOpened},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeData",{get:function(){return this._closeData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whenClosed",{get:function(){return this._whenClosed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentComponent",{get:function(){return this._parentComponent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subComponents",{get:function(){return this._subCompoents},enumerable:!1,configurable:!0}),e.prototype.updateSkinAndAdapter=function(){if(this._skin&&this._adapter)if(this._adapter.isSkin(this._skin)){var e=this._adapter.handleSkin(this._skin,this._templateSkin);if(this._templateSkin=void 0,e){this._skin=e.skin,this._mapElementCancelable&&this._mapElementCancelable.cancel();var t=this,n={};for(var i in e.refsMap)null==t[i]?n[i]=t[i]=e.refsMap[i]:console.warn("Map failed: the prop name of ["+i+"] in "+this.constructor.name+" has already exists.");this._mapElementCancelable=this.delegateCancelable(r.createCancelable(function(){for(var r in e.refsMap)n[r]&&delete t[r]})),this.dispatch(f.COMPONENT_SKIN_HANDLED,o({},e))}}else this._adapter=void 0},e.prototype.setSkin=function(e){if(e!==this._skin){if(null!=e){var t=this._templateSkin=this._skin;this._skin=e,this.updateSkinAndAdapter(),t&&this._skin&&this._adapter&&this._adapter.replace(this._skin,t)}else this._skin=void 0;this.dispatch(f.COMPONENT_SET_SKIN,{skin:e})}},e.prototype.setAdapter=function(e){this._adapter&&this._adapter.equals(e)||(this._adapter=new l(e),this.updateSkinAndAdapter(),this.dispatch(f.COMPONENT_SET_ADAPTER,{adapter:e}))},e.prototype.setViewModel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return this._viewModel=r.model.apply(void 0,u([e],t)),this._viewModelAssigned||(this._viewModelAssigned=!0),n=r.createCancelable(),this._viewModelAssignPromise=n,[4,this.dispatch(f.COMPONENT_SET_VIEW_MODEL,{viewModel:e,handlers:t})];case 1:return o.sent(),n.cancel(),this._viewModelAssignPromise=void 0,[2]}})})},Object.defineProperty(e.prototype,"cancelables",{get:function(){return this._cancelables},enumerable:!1,configurable:!0}),e.prototype.delegateCancelable=function(e){var t=this;return e&&(this.status<n.EnumComponentStatus.CLOSED?(this._cancelables.push(e),e.then(function(){var n=t._cancelables.indexOf(e);n>=0&&t._cancelables.splice(n,1)})):e.cancel()),e},e.prototype.delegateCancelableSafely=function(e){return this._status<n.EnumComponentStatus.CLOSED?this.delegateCancelable(e()):r.createCancelable(void 0,!0)},e.prototype.delegateComponent=function(e){var t=this;if(e.parentComponent===this)return r.createCancelable(void 0,!0);e.parentComponent&&e.parentComponent.undelegateComponent(e),this._subCompoents.push(e),e._parentComponent=this,e._eventBus.next=this,this._status>=n.EnumComponentStatus.OPENING&&e.status<n.EnumComponentStatus.OPENING&&e.open(),this._status>=n.EnumComponentStatus.CLOSING&&e.status<n.EnumComponentStatus.CLOSING&&e.close();var o=this.delegateCancelable(r.createCancelable(function(){e._eventBus.next=r.globalEventBus,e._parentComponent=void 0;var n=t._subCompoents.indexOf(e);n>=0&&t._subCompoents.splice(n,1),t._subComponentCancelableMap.delete(e)}));return this._subComponentCancelableMap.set(e,o),o},e.prototype.undelegateComponent=function(e){if(e.parentComponent===this){var t=this._subComponentCancelableMap.get(e);t&&t.cancel()}},e.prototype.listen=function(e,t,n,r){return void 0===r&&(r=!1),this.delegateCancelable(this._eventBus.listen(e,t,n,r))},e.prototype.unlisten=function(e,t,n){return this._eventBus.unlisten(e,t,n)},e.prototype.dispatch=function(e,t){return this._eventBus.dispatch(e,t,this)},e.prototype.on=function(e,t,n,o,i){return this._adapter?this.delegateCancelable(this._adapter.on(e,t,n,o,i)):r.createCancelable(void 0,!0)},e.prototype.off=function(e,t,n,r){if(this._adapter)return this._adapter.off(e,t,n,r)},e.prototype.registerAutoRun=function(e){var t=this,n=function(){if(t._autoRunUndo)return r.createCancelable(void 0,!0);var n=e();return t._autoRunCancelables.push(n),n.then(function(){var e=t._autoRunCancelables.indexOf(n);e>=0&&t._autoRunCancelables.splice(e,1)}),n};return this._autoRunFactories.indexOf(n)<0&&this._autoRunFactories.push(n),n},e.prototype.undoAutoRuns=function(){if(!this._autoRunUndo){this._autoRunUndo=!0;for(var e=0,t=this._autoRunCancelables.length;e<t;e++)this._autoRunCancelables.pop().cancel()}},e.prototype.redoAutoRuns=function(){var e=this;return this._autoRunUndo&&(this._autoRunUndo=!1,this._autoRunCancelables=this._autoRunFactories.map(function(t){return e.delegateCancelable(t())})),this._autoRunCancelables},e.prototype.autoRun=function(e,t){return this.delegateCancelableSafely(this.registerAutoRun(function(){return r.autoRun(e,t)}))},e.prototype.dirtyRun=function(e,t){return this.delegateCancelableSafely(this.registerAutoRun(function(){return r.dirtyRun(e,t)}))},e.prototype.renderRun=function(e,t){return this.delegateCancelableSafely(this.registerAutoRun(function(){return r.renderRun(e,t)}))},e.prototype.enterFrame=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this.delegateCancelable(r.timer.enterFrame.apply(r.timer,u([e,t],n)))},e.prototype.nextFrame=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this.delegateCancelable(r.timer.nextFrame.apply(r.timer,u([e,t],n)))},e.prototype.setTimeout=function(e,t,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return this.delegateCancelable(r.timer.setTimeout.apply(r.timer,u([e,t,n],o)))},e.prototype.setInterval=function(e,t,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return this.delegateCancelable(r.timer.setInterval.apply(r.timer,u([e,t,n],o)))},e.prototype.sleep=function(e){return this.delegateCancelable(r.timer.sleep(e))},e.prototype.open=function(e){return i(this,void 0,void 0,function(){var t=this;return a(this,function(o){switch(o.label){case 0:switch(this._status){case n.EnumComponentStatus.OPENING:return[3,1];case n.EnumComponentStatus.OPENED:return[3,4];case n.EnumComponentStatus.UNOPENED:return[3,7]}return[3,9];case 1:return[4,this._whenOpened];case 2:return o.sent(),[4,this.open(e)];case 3:return o.sent(),[3,9];case 4:return e===this._openData?[3,6]:[4,r.runMiddlewares([function(e){t._openData=e},function(e,n){return i(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return r.globalEventBus.listen(f.COMPONENT_UPDATE,function(){return n()},this,!0),[4,this.dispatch(f.COMPONENT_UPDATE,e)];case 1:return t.sent(),[2]}})})},function(e,n){return i(t,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.onUpdate(e,n)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),console.error(t),[3,3];case 3:return[2]}})})}],e)];case 5:o.sent(),o.label=6;case 6:return[3,9];case 7:return[4,r.runMiddlewares([function(e,r){return i(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this._status=n.EnumComponentStatus.OPENING,this._openData=e,[4,r()];case 1:return t.sent(),this._status=n.EnumComponentStatus.OPENED,this._whenOpened.cancel(),[2]}})})},function(e,n){return i(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return r.globalEventBus.listen(f.COMPONENT_OPEN,function(){return n()},this,!0),[4,this.dispatch(f.COMPONENT_OPEN,e)];case 1:return t.sent(),[2]}})})},function(e,n){return i(t,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.onOpen(e,n)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),console.error(t),[3,3];case 3:return[2]}})})},function(){return i(t,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._viewModelAssignPromise];case 1:return e.sent(),[4,Promise.all(this._subCompoents.map(function(e){return e.status===n.EnumComponentStatus.UNOPENED&&e.open(),e.whenOpened}))];case 2:return e.sent(),[2]}})})}],e)];case 8:return o.sent(),[3,9];case 9:return[2,this]}})})},e.prototype.close=function(e){return i(this,void 0,void 0,function(){var t=this;return a(this,function(o){switch(o.label){case 0:switch(this._status){case n.EnumComponentStatus.UNOPENED:return[3,1];case n.EnumComponentStatus.OPENING:return[3,2];case n.EnumComponentStatus.OPENED:return[3,5]}return[3,7];case 1:throw new Error("Component has not been opened.");case 2:return[4,this.whenOpened];case 3:return o.sent(),[4,this.close(e)];case 4:return o.sent(),[3,8];case 5:return[4,r.runMiddlewares([function(e,r){return i(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this._status=n.EnumComponentStatus.CLOSING,this._closeData=e,[4,r()];case 1:return t.sent(),this._status=n.EnumComponentStatus.CLOSED,this._whenClosed.cancel(),[2]}})})},function(e,n){return i(t,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n()];case 1:return e.sent(),this.undoAutoRuns(),this._adapter&&(this._oriSkin&&this._adapter.replace(this._oriSkin,this._skin),this._skin&&this._skin!==this._oriSkin&&(this._adapter.remove(this._skin),this._adapter.destroySkin(this._skin))),[4,Promise.all(this._cancelables.map(function(e){return e.cancel()}))];case 2:return e.sent(),this._cancelables=[],[2]}})})},function(e,n){return i(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return r.globalEventBus.listen(f.COMPONENT_CLOSE,function(){return n()},this,!0),[4,this.dispatch(f.COMPONENT_CLOSE,e)];case 1:return t.sent(),[2]}})})},function(){return i(t,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.all(this._subCompoents.map(function(e){return e.close()}))];case 1:return e.sent(),[2]}})})},function(e,n){return i(t,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,this.onClose(e)];case 1:return void 0===(t=r.sent())?[3,3]:(this._closeData=e=t,[4,n(t)]);case 2:r.sent(),r.label=3;case 3:return[2]}})})}],e)];case 6:return o.sent(),[3,8];case 7:return[3,8];case 8:return[2]}})})},e.prototype.onOpen=function(e,t){},e.prototype.onUpdate=function(e,t){},e.prototype.onClose=function(e){},e}();function h(e){switch(typeof e){case"string":case"function":return!0}return!1}var d=!1;function y(e,t){var n,r;if("string"==typeof e){for(var o in d||(console.warn("\u5c0f\u7a0b\u5e8f/\u5c0f\u6e38\u620f\u73af\u5883\u4e0d\u652f\u6301\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u3002\u82e5\u7a0b\u5e8f\u9700\u8fd0\u884c\u5728\u4ee5\u4e0a\u73af\u5883\u4e2d\uff0c\u8bf7\u6539\u7528\u95ed\u5305\u8868\u8fbe\u5f0f\u3002"),d=!0),t())e="with(args["+o+"]){"+e+"}";n=Function("args",e),r=function(){return t().reverse()}}else{n=e;try{var i=new Proxy({},{get:function(e,n){for(var r=t(),o=r.length-1;o>=0;o--){var i=r[o];if(i&&i.hasOwnProperty(n))return i[n]}}});r=function(){return i}}catch(e){r=function(){return Object.assign.apply(Object,u([{}],t()))}}}return function(){try{return n(r())}catch(e){console.error("\u8868\u8fbe\u5f0f\u6267\u884c\u9519\u8bef\uff1a",e)}}}function b(e,t){return"string"==typeof e&&(e="return "+e+";"),y(e,t)}function v(e,t){return b(e,function(){return t})()}function m(e,t){return{$target:e,$this:t,$data:t&&t.viewModel}}function g(e,t){e&&t in e||console.error("[Pangu warn]: \u5bfb\u5740\u5f02\u5e38 no path="+(null===t||void 0===t?void 0:t.toString())+" in searchTarget")}var _=/^(\w+)(\.([\w\.]+))?$/;function w(e,t){if(e&&t){if("symbol"==typeof t)return g(e,t),{target:e,key:t};var n=_.exec(t);if(n)return n[2]?w(e[n[1]],n[3]):(g(e,t),{target:e,key:t})}return!e&&t&&g(e,t),null}function O(e,t){if(void 0===t&&(t=""),e){if(t){var n=w(e,t);return n&&n.target[n.key]}return e}return null}var S=new Map;function E(e,t){var n=S.get(e);return n||S.set(e,n=[]),n.indexOf(t)<0&&n.push(t),r.createCancelable(function(){x(e,t)})}function x(e,t){var n=S.get(e);if(n){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function A(e,t){var n=S.get(e);n&&n.concat().forEach(function(e){return e(t)})}function C(e){var t=function(t,n,r,o,i){n||console.error("[Pangu warn]: \u7ed1\u5b9a\u5bf9\u8c61\u4e22\u5931 bindTarget is empty in component "+t.constructor.name+" propertyKey="+(null===i||void 0===i?void 0:i.toString()));var a=j(t,n,function(){return e(t,n,r,o,i)});return a||e(t,n,r,o,i)},n=function(e,n,o,i,a){if(e._viewModelAssigned)return t(e,n(),o,i,a);var s=r.createCancelable(),c=e.listen(f.COMPONENT_SET_VIEW_MODEL,function(u){u.target===e&&(c.cancel(),r.syncCancelables([t(e,n(),o,i,a),s]))});return s};return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("string"!=typeof e[1]){var r=c(e,5),o=r[0],i=r[1],a=r[2],s=r[3],u=r[4];return n(o,function(){return i},a,s,u)}var l=c(e,2),f=l[0],p=l[1];E(f,function(e){n(e,function(){return e[p]},[],f,p)})}}var P=new Map;function k(e,t){var n=P.get(t),o=!1;n||(P.set(t,n=[!1,[],[]]),o=!0);var i=r.createCancelable(function(){i.update(!1),o&&P.delete(t)});return i.update=function(t){if(t!==n[0]){var r=n[2];if(!this.canceled&&(n[0]=t))n[1].forEach(function(t){r.push(e.delegateCancelable(t()))});else for(;r.length;)r.pop().cancel()}},i}function j(e,t,n){var o,i;if(e.adapter){var a=Number.MAX_SAFE_INTEGER,u=null;try{for(var l=s(P),f=l.next();!f.done;f=l.next()){var p=f.value,h=p[0],d=e.adapter.getAncestorDepth(h,t,!1);if(null!=d&&d<a&&(a=d,u=p),0===d)break}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}if(u){var y=u[1];if(y[1].indexOf(n)<0)return y[1].push(n),y[0]&&y[2].push(e.delegateCancelable(n())),e.delegateCancelable(r.createCancelable(function(){var e=y[1].indexOf(n);if(e>=0){y[1].splice(e,1);var t=c(y[2].splice(e,1),1)[0];t&&t.cancel()}}))}}return null}var T={};var N=Promise.resolve(),M=/^\s*(\w+)\s*(,\s*(\w+)\s*(,\s*(\w+)\s*)?)?$/;var R=Promise.resolve();n.AdapterExt=l,n.AdapterNames={dom:"dom",laya:"laya",cocos:"cocos"},n.Component=p,n.ComponentEvent=f,n.addSuspend=k,n.bindAction=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[0]instanceof p){var o,i=c(t,4),a=i[0],s=i[1],l=i[2],f=y(i[3],function(){return u(l,[a.viewModel,m(s,a)])}),h=a.dirtyRun(function(){o&&o.cancel(),o=f()});return r.createCancelable(function(){h.cancel(),o&&o.cancel()})}var d=c(t,1)[0];return C(function(t,n,r){return e(t,n,r,d)})},n.bindCall=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[0]instanceof p){var o=c(t,4),i=o[0],a=o[1],s=o[2],l=o[3],f=t.slice(4),h=w(a,l);if(h){var d=h.target,y=h.key,v=f.map(function(e){return b(e,function(){return u(s,[i.viewModel,m(a,i)])})});return i.dirtyRun(function(){d[y].apply(d,v.map(function(e){return e()}))})}return r.createCancelable(void 0,!0)}if("object"==typeof t[0]){var g=t[0];return C(function(t,n,o){var i=[];for(var a in g)i.push(e.apply(void 0,u([t,n,o,a],g[a])));return r.combineCancelables(i)})}var _=t[0],O=t.slice(1);return C(function(t,n,r){return e.apply(void 0,u([t,n,r,_],O))})},n.bindFor=function e(){for(var t,n,o,i,a,l,f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];if(f[0]instanceof p){var d=c(f,9),y=d[0],v=d[1],g=d[2],_=d[3],w=d[4],S=d[5],E=d[6],x=d[7],A=d[8],P=O(v,_);if(P&&y.adapter){var j="number"==typeof w?function(){return w}:b(w,function(){return u(g,[y.viewModel,m(v,y)])}),T=new Map,R=new Map,I=[],D=Symbol("bindFor renderers set key: "+(_?_+".":"")+A.toString()),L=y.renderRun(function(){var e=j();if("number"==typeof e)for(var t=0,n=(e=Array(e)).length;t<n;t++)e[t]=t+1;else e&&e.length;N.then(function(){var t,n;try{for(var o=s(T.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;e.indexOf(a)<0&&(T.get(a).cancel(),T.delete(a))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var c=y[D];c||(c=[],Object.defineProperty(y,D,{configurable:!0,enumerable:!1,writable:!0,value:c}));var l=y.adapter.renderList(P,e,function(t,n,o){var i=null!=o?o:e.indexOf(t),a=T.get(t);a&&(a.cancel(),T.delete(t));var s=R.get(n);s&&(s.cancel(),R.delete(n));var l=k(y,n);y.delegateCancelable(l);var f=y.adapter.handleSkin(n),p=n=f.skin,h=Symbol("bindFor transform key: "+(_?_+".":"")+A.toString());for(var d in Object.defineProperty(y,h,{configurable:!0,enumerable:!1,get:function(){return p},set:function(e){c[i]=p=e,delete y[h]}}),c[i]=p,f.refsMap)n[d]||(n[d]=f.refsMap[d]);var b={};if(S){var v=M.exec(S);if(v){var w=v[1],O=v[3],C=v[5];w&&(b[w]=t),O&&(b[O]=i),C&&(b[C]=e)}}var P=m(n,y),j={$value:t,$index:i,$array:e},I=(E||[]).map(function(e){var t=e(y,n,u(g,[b,P,j]),x,h);return t.then(function(){delete y[h]}),t});l.update(!0);var D=r.createCancelable(function(){l.cancel(),N.then(function(){var e=c.indexOf(p);e>=0&&c.splice(e,1)})}),L=r.combineCancelables(u([D],I));y.delegateCancelable(L),T.set(t,L),R.set(n,L)},c,function(e){"symbol"!=typeof A&&(y[D]=y[A]=c=e||c)});l&&I.push(l)})});return L.then(function(){T.forEach(function(e){e.cancel()}),T.clear(),R.forEach(function(e){e.cancel()}),R.clear(),I.forEach(function(e){e.cancel()}),I=[]}),L}return r.createCancelable(void 0,!0)}return"string"==typeof f[2]?(t=c(f,4),o=t[0],i=t[1],a=t[2],l=t[3]):(n=c(f,3),i=n[0],a=n[1],l=n[2]),C(function(t,n,r,s,c){return e(t,n,r,o,i,a,l,s,c)})},n.bindIf=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[0]instanceof p){var o=c(t,8),i=o[0],a=o[1],s=o[2],l=o[3],f=(M=o[4],o[5]),h=o[6],d=o[7],y=O(a,l);if(y&&i.adapter){var v=r.getObjectHashs(a,l,M,f,h,d),g=i[v]||i.adapter.createPlaceHolder();i[v]=g;var _=k(i,y);i.delegateCancelable(_);var w=i.adapter.handleSkin(y);if(w)for(var S in w.refsMap)y[S]||(y[S]=w.refsMap[S]);var E=b(M,function(){return u(s,[i.viewModel,m(a,i)])}),x=null,A=i.renderRun(function(){var e=E();R.then(function(){e?(x||(x=f?i.delegateCancelable(r.combineCancelables(f.map(function(e){return e(i,y,s,h,d)}))):r.createCancelable(void 0,!0)),_.update(e),i.adapter.replace(y,g)):(i.adapter.replace(g,y),_.update(e),x&&(x.cancel(),x=null))})});return r.createCancelable(function(){A.cancel(),_.cancel(),x&&(x.cancel(),x=null),i.adapter.replace(y,g)})}return r.createCancelable(void 0,!0)}if("string"==typeof t[1]||t[1]instanceof Function){var P=c(t,3),j=P[0],T=P[1],N=P[2];return C(function(t,n,r,o,i){return e(t,n,r,j,T,N,o,i)})}var M,I=c(t,2);return e("",M=I[0],I[1])},n.bindOn=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[0]instanceof p){var o=c(t,6),i=o[0],a=o[1],s=o[2],l=o[3],f=(E=o[4],o[5]),h=O(a,l);if(h){var d=void 0;if("string"==typeof f){var b=w(i.viewModel,f)||i.adapter&&w(i.adapter.globalField,f);if(b){var v=b.target[b.key];v instanceof Function&&(d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return v.apply(b.target,e)})}}if(!d){var g={$event:null,$args:[]},_=y(f,function(){return u(s,[i.viewModel,m(a,i),g])});d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.$event=e[0],g.$args=e,_.call(i.viewModel)}}return i.on(h,E,d)}return r.createCancelable(void 0,!0)}var S=[];switch(t.length){case 3:S.push(t);break;case 2:if("object"==typeof t[1])for(var E in t[1])S.push([t[0],E,t[1][E]]);else S.push(["",t[0],t[1]]);break;case 1:for(var E in t[0])S.push(["",E,t[0][E]])}return C(function(t,n,o){return r.combineCancelables(S.map(function(r){return e.apply(void 0,u([t,n,o],r))}))})},n.bindValue=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[0]instanceof p){var o=c(t,5),i=o[0],a=o[1],s=o[2],l=o[3],f=o[4],h=w(a,l);if(h){var d=h.target,y=h.key,v=b(f,function(){return u(s,[i.viewModel,m(a,i)])});return i.dirtyRun(function(){d[y]=v()})}return r.createCancelable(void 0,!0)}if("object"==typeof t[0]){var g=t[0];return C(function(t,n,o){var i=[];for(var a in g)i.push(e(t,n,o,a,g[a]));return r.combineCancelables(i)})}var _=c(t,2),O=_[0],S=_[1];return C(function(t,n,r){return e(t,n,r,O,S)})},n.component=function e(t){if(!(t instanceof p)){if("string"==typeof t)return function(n){return T[t]=e(n)};var n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=new(t.bind.apply(t,u([void 0],e)));return A(t.prototype,r),r};for(var r in t)n[r]=t[r];return n.prototype=t.prototype,n}A(Object.getPrototypeOf(t),t)},n.createCommonField=m,n.decoratorHandler=C,n.evalExpression=v,n.getComponentConstructor=function(e){return T[e]},n.guessCouldBeExpression=h,n.listenConstruct=E,n.listenSuspend=j,n.runExpression=function(e,t){return y(e,function(){return t})()},n.searchPath=w,n.searchTarget=O,n.subComp=function e(){for(var t,o,i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(s[0]instanceof p){if(3===s.length){var f=c(s,2),d=f[0],y=f[1],g=Reflect.getMetadata("design:type",d,y);return C(function(t,n,r){return e(t,n,r,"",d,y,g)})(d,y)}var _=c(s,9),w=_[0],S=_[1],E=_[2],x=_[3],A=_[4],P=_[5],k=_[6],j=_[7],T=_[8],N=k,M=O(S,x);if(M){var R=N&&new N(M,w.adapter);if(!(R instanceof p))throw new Error("the class definition for subComp is not a sub type of Component.");var I,D,L=j&&b(j,function(){return u(E,[w.viewModel,m(S,w)])}),B=R.open;L&&R.dirtyRun(function(){I=L(),R.status!==n.EnumComponentStatus.UNOPENED&&R.open(I)}),R.open=function(){var e;return(e=void 0!==I?B.call(this,I):B.call(this)).then(function(e){(T||[]).forEach(function(t){e.delegateCancelable(t(w,e,u(E,[w.viewModel,m(S,w)]),A,P))})}),e},P&&w[P]===M&&(D=M,w[P]=R);var F=w.delegateComponent(R);return F.then(function(){return D&&(w[P]=D),R.close()}),F}return r.createCancelable(void 0,!0)}var U=function(t,n,r,o,i){var a,u,l;if(o&&i){var f=Reflect.getMetadata("design:type",o,i),p=void 0,d=void 0,y=void 0;if(0===s.length)p="",y=[];else{var b=!1;"string"==typeof s[0]&&O(n,s[0])&&(b=!0),b?h(s[1])?(p=(a=c(s,3))[0],d=a[1],y=a[2]):(p=(u=c(s,2))[0],y=u[1]):(p="",h(s[0])?(d=(l=c(s,2))[0],y=l[1]):y=c(s,1)[0])}return e(t,n,r,p,o,i,f,d,y)}throw new Error("subComp need a class definition.")};if(s[0]instanceof Function){if(r.couldBeClass(s[0])){var z,q,V=void 0;return h(s[1])?(t=c(s,3),z=t[0],V=t[1],q=t[2]):(o=c(s,2),z=o[0],q=o[1]),C(function(t,n,r,o,i){return e(t,n,r,"",o,i,z,V,q)})}return C(function(t,n,o,i,a){var l,f,p,d,y=void 0;h(s[1])?(p=(l=c(s,3))[0],y=l[1],d=l[2]):(p=(f=c(s,2))[0],d=f[1]);var b=v(p,u(o,[t.viewModel,m(n,t)]));return r.couldBeClass(b)?e(t,n,o,"",i,a,b,y,d):U(t,n,o,i,a)})}if(s[1]instanceof Function){if(r.couldBeClass(s[1])){var H,G,K,W=void 0;return h(s[2])?(i=c(s,4),H=i[0],G=i[1],W=i[2],K=i[3]):(a=c(s,3),H=a[0],G=a[1],K=a[2]),C(function(t,n,r,o,i){return e(t,n,r,H,o,i,G,W,K)})}return C(function(t,n,o,i,a){var l,f,p,d,y,b=void 0;h(s[2])?(p=(l=c(s,4))[0],d=l[1],b=l[2],y=l[3]):(p=(f=c(s,3))[0],d=f[1],y=f[2]);var g=v(d,u(o,[t.viewModel,m(n,t)]));return r.couldBeClass(g)?e(t,n,o,p,i,a,g,b,y):U(t,n,o,i,a)})}return C(U)},n.unlistenConstruct=x,n.wrapEvalExpression=b,n.wrapRunExpression=y},{"@byted-dino/core":8,"reflect-metadata":25}],12:[function(e,t,n){const r=e("./lib/tex").parser,{parseMarkup:o}=e("./lib/markup");t.exports={markupParser:{parse:o},texParser:r}},{"./lib/markup":13,"./lib/tex":14}],13:[function(e,t,n){const r=e("./tex").parser;t.exports={parseMarkup:function(e){const t=[];let n=0;const o=/<tex>|<answer\s+id="(\d+)">\s*<\/answer>/g;for(;n<e.length;){const i=o.exec(e);if(null===i){t.push({type:"literal",index:n,content:e.slice(n)});break}if(i.index>n&&t.push({type:"literal",index:n,content:e.slice(n,i.index)}),"<tex>"===i[0]){const a=e.indexOf("</tex>",o.lastIndex);if(-1===a)throw new Error("Bad input: <tex> open & close tags do not match");const s=i.index+"<tex>".length,c=e.slice(s,a);t.push({type:"tex",index:s,content:c,parsed:r.parse(c)}),n=a+"</tex>".length}else t.push({type:"answer",index:i.index,attrs:{id:i[1]},content:""}),n=o.lastIndex}return t}}},{"./tex":14}],14:[function(e,t,n){(function(r){var o=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,5],n=[1,6],r=[1,7],o=[1,8],i=[1,9],a=[1,10],s=[1,11],c=[1,12],u=[1,13],l=[1,14],f=[1,15],p=[1,16],h=[1,17],d=[1,18],y=[1,19],b=[1,20],v=[1,21],m=[4,7,8,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],g=[4,7,8,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],_={trace:function(){},yy:{},symbols_:{error:2,expressions:3,EOF:4,e_list:5,e:6,NUMBER:7,NUMBER_CMD:8,"{":9,"}":10,FRAC_CMD:11,"\u2248":12,">":13,"<":14,"\u2261":15,"\xd7":16,"\xf7":17,"\xb7":18,"\xb7\xb7\xb7":19,"(":20,")":21,"[":22,"]":23,"%":24,OTHER:25,$accept:0,$end:1},terminals_:{2:"error",4:"EOF",7:"NUMBER",8:"NUMBER_CMD",9:"{",10:"}",11:"FRAC_CMD",12:"\u2248",13:">",14:"<",15:"\u2261",16:"\xd7",17:"\xf7",18:"\xb7",19:"\xb7\xb7\xb7",20:"(",21:")",22:"[",23:"]",24:"%",25:"OTHER"},productions_:[0,[3,1],[3,2],[5,2],[5,1],[6,1],[6,4],[6,7],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1]],performAction:function(e,t,n,r,o,i,a){var s=i.length-1;switch(o){case 1:return[];case 2:return i[s-1];case 3:this.$=i[s-1].concat(i[s]);break;case 4:this.$=[i[s]];break;case 5:this.$=e;break;case 6:this.$=i[s-1];break;case 7:this.$={numerator:i[s-4],denominator:i[s-1]};break;case 8:this.$="\u2248";break;case 9:this.$=">";break;case 10:this.$="<";break;case 11:this.$="\u2261";break;case 12:this.$="\xd7";break;case 13:this.$="\xf7";break;case 14:this.$="\xb7";break;case 15:this.$="\xb7\xb7\xb7";break;case 16:this.$="(";break;case 17:this.$=")";break;case 18:this.$="[";break;case 19:this.$="]";break;case 20:this.$="%"}},table:[{3:1,4:[1,2],5:3,6:4,7:t,8:n,11:r,12:o,13:i,14:a,15:s,16:c,17:u,18:l,19:f,20:p,21:h,22:d,23:y,24:b,25:v},{1:[3]},{1:[2,1]},{4:[1,22],6:23,7:t,8:n,11:r,12:o,13:i,14:a,15:s,16:c,17:u,18:l,19:f,20:p,21:h,22:d,23:y,24:b,25:v},e(m,[2,4]),e(g,[2,5]),{9:[1,24]},{9:[1,25]},e(g,[2,8]),e(g,[2,9]),e(g,[2,10]),e(g,[2,11]),e(g,[2,12]),e(g,[2,13]),e(g,[2,14]),e(g,[2,15]),e(g,[2,16]),e(g,[2,17]),e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,21]),{1:[2,2]},e(m,[2,3]),{6:26,7:t,8:n,11:r,12:o,13:i,14:a,15:s,16:c,17:u,18:l,19:f,20:p,21:h,22:d,23:y,24:b,25:v},{6:27,7:t,8:n,11:r,12:o,13:i,14:a,15:s,16:c,17:u,18:l,19:f,20:p,21:h,22:d,23:y,24:b,25:v},{10:[1,28]},{10:[1,29]},e(g,[2,6]),{9:[1,30]},{6:31,7:t,8:n,11:r,12:o,13:i,14:a,15:s,16:c,17:u,18:l,19:f,20:p,21:h,22:d,23:y,24:b,25:v},{10:[1,32]},e(g,[2,7])],defaultActions:{2:[2,1],22:[2,2]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],o=[],i=this.table,a="",s=0,c=0,u=0,l=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(p.yy[h]=this.yy[h]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var d=f.yylloc;o.push(d);var y=f.options&&f.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,v,m,g,_,w,O,S,E,x=function(){var e;return"number"!=typeof(e=f.lex()||1)&&(e=t.symbols_[e]||e),e},A={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:(null!==b&&void 0!==b||(b=x()),g=i[m]&&i[m][b]),void 0===g||!g.length||!g[0]){var C="";for(w in E=[],i[m])this.terminals_[w]&&w>2&&E.push("'"+this.terminals_[w]+"'");C=f.showPosition?"Parse error on line "+(s+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(C,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:d,expected:E})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+b);switch(g[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(g[1]),b=null,v?(b=v,v=null):(c=f.yyleng,a=f.yytext,s=f.yylineno,d=f.yylloc,u>0&&u--);break;case 2:if(O=this.productions_[g[1]][1],A.$=r[r.length-O],A._$={first_line:o[o.length-(O||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(O||1)].first_column,last_column:o[o.length-1].last_column},y&&(A._$.range=[o[o.length-(O||1)].range[0],o[o.length-1].range[1]]),void 0!==(_=this.performAction.apply(A,[a,c,s,p.yy,g[1],r,o].concat(l))))return _;O&&(n=n.slice(0,-1*O*2),r=r.slice(0,-1*O),o=o.slice(0,-1*O)),n.push(this.productions_[g[1]][0]),r.push(A.$),o.push(A._$),S=i[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},w={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((n=this._input.match(this.rules[o[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 9;case 2:return 10;case 3:return 7;case 4:return 24;case 5:return 12;case 6:return 13;case 7:return 14;case 8:return 15;case 9:return 16;case 10:return 17;case 11:return 19;case 12:return 18;case 13:return 8;case 14:return 11;case 15:return 20;case 16:return 21;case 17:return 22;case 18:return 23;case 19:return 22;case 20:return 23;case 21:return 4;case 22:return 25}},rules:[/^(?:\s+)/,/^(?:\{)/,/^(?:\})/,/^(?:[0-9]+(\.[0-9]+)?)/,/^(?:\\%(?=.)?)/,/^(?:\\approx(?=.)?)/,/^(?:\\gt(?=.)?)/,/^(?:\\lt(?=.)?)/,/^(?:\\equiv(?=.)?)/,/^(?:\\times(?=.)?)/,/^(?:\\div(?=.)?)/,/^(?:\\cdots(?=.)?)/,/^(?:\\cdot(?=.)?)/,/^(?:\\number\b)/,/^(?:\\dfrac\b)/,/^(?:\\left\s*\((?=.)?)/,/^(?:\\right\s*\)(?=.)?)/,/^(?:\\begin\{bmatrix\}(?=.)?)/,/^(?:\\end\{bmatrix\}(?=.)?)/,/^(?:\\left\s*\\lbrack(?=.)?)/,/^(?:\\right\s*\\rbrack(?=.)?)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],inclusive:!0}}};function O(){this.yy={}}return _.lexer=w,O.prototype=_,_.Parser=O,new O}();void 0!==e&&void 0!==n&&(n.parser=o,n.Parser=o.Parser,n.parse=function(){return o.parse.apply(o,arguments)},n.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),r.exit(1));var o=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(o)},void 0!==t&&e.main===t&&n.main(r.argv.slice(1)))}).call(this,e("_process"))},{_process:2,fs:void 0,path:1}],15:[function(e,t,n){(function(e){"use strict";var n="undefined"==typeof self&&void 0!==e&&e.hrtime?function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){var r=Object.keys(this._tweens);if(0===r.length)return!1;for(e=void 0!==e?e:n();r.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<r.length;o++){var i=this._tweens[r[o]];i&&!1===i.update(e)&&!t&&delete this._tweens[r[o]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),o={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-o.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*o.Bounce.In(2*e):.5*o.Bounce.Out(2*e-1)+.5}}},i={Linear:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),a=i.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[o],e[o+1>n?n:o+1],r-o)},Bezier:function(e,t){for(var n=0,r=e.length-1,o=Math.pow,a=i.Utils.Bernstein,s=0;s<=r;s++)n+=o(1-t,r-s)*o(t,s)*e[s]*a(r,s);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),a=i.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(r=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],r-o)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],r-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=i.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,o){var i=.5*(n-e),a=.5*(r-t),s=o*o;return(2*t-2*n+i+a)*(o*s)+(-3*t+3*n-2*i-a)*s+i*o+t}}},a=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),s=function(){function e(e,t){void 0===t&&(t=l),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=l.Easing.Linear.None,this._interpolationFunction=l.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=l.nextId(),this._isChainStopped=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){for(var n in e)this._valuesEnd[n]=e[n];return void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?l.now()+parseFloat(e):e:l.now(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var o in n){var i=e[o],a=Array.isArray(i),s=a?"array":typeof i,c=!a&&Array.isArray(n[o]);if("undefined"!==s&&"function"!==s){if(c){var u=n[o];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,i)),n[o]=[i].concat(u)}if("object"!==s&&!a||!i||c)void 0===t[o]&&(t[o]=i),a||(t[o]*=1),r[o]=c?n[o].slice().reverse():t[o]||0;else{for(var l in t[o]=a?[]:{},i)t[o][l]=i[l];r[o]=a?[]:{},this._setupProperties(i,t[o],n[o],r[o])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this.update(1/0),this},e.prototype.pause=function(e){return this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=void 0===e?l.now():e,this._group.remove(this),this)},e.prototype.resume=function(e){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===e?l.now():e)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e){var t,n;if(e>this._startTime+this._duration&&!this._isPlaying)return!1;if(this.isPlaying||this.start(e),e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var r=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,r),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[t]||(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,i=this._chainedTweens.length;o<i;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var o in n)if(void 0!==t[o]){var i=t[o]||0,a=n[o],s=Array.isArray(e[o]),c=Array.isArray(a);!s&&c?e[o]=this._interpolationFunction(a,r):"object"==typeof a&&a?this._updateProperties(e[o],i,a,r):"number"==typeof(a=this._handleRelativeValue(i,a))&&(e[o]=i+(a-i)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e];"string"==typeof this._valuesEnd[e]?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e]):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},e}(),c="18.6.0",u=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version=c,t.now=n,t.Group=r,t.Easing=o,t.Interpolation=i,t.nextId=a.nextId,t.Tween=s,t}return u(t,e),t}(r));t.exports=l}).call(this,e("_process"))},{_process:2}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var a=function(e,t){var n,r,o=function(e){var t=document.createElement("a");return t.href=e,t},i=window.screen.width,a=window.screen.height,s=window.navigator.appVersion,c=window.navigator.userAgent,u=window.navigator.language,l=document.referrer,f=l?o(l).hostname:"",p=function(e){var t=o(e).search,n={};return(t=t.slice(1)).split("&").forEach(function(e){var t,r,o=e.split("=");o.length&&(t=o[0],r=o[1]);try{n[t]=decodeURIComponent(void 0===r?"":r)}catch(e){n[t]=r}}),n}(window.location.href),h="",d="",y="",b=""+parseFloat(s);-1!==(n=c.indexOf("Opera"))&&(y="Opera",b=c.substring(n+6),-1!==(n=c.indexOf("Version"))&&(b=c.substring(n+8))),-1!==(n=c.indexOf("Edge"))?(y="Microsoft Edge",b=c.substring(n+5)):-1!==(n=c.indexOf("MSIE"))?(y="Microsoft Internet Explorer",b=c.substring(n+5)):-1!==c.indexOf("Chrome")?-1!==(n=c.indexOf("MicroMessenger"))?(y="weixin",b=c.substring(n+15,n+20)):-1!==(n=c.indexOf("MQQBrowser"))?(y="qqbrowser",b=c.substring(n+11,n+15)):-1!==(n=c.indexOf("360"))?(y="360browser",b=c.substring(c.indexOf("Chrome")+7)):-1!==c.indexOf("baidubrowser")||-1!==c.indexOf("BIDUBrowser")?(-1!==c.indexOf("baidubrowser")?(n=c.indexOf("baidubrowser"),b=c.substring(n+13,n+16)):-1!==c.indexOf("BIDUBrowser")&&(n=c.indexOf("BIDUBrowser"),b=c.substring(n+12,n+15)),y="baidubrowser"):-1!==(n=c.indexOf("Chrome"))&&(y="Chrome",b=c.substring(n+7)):-1!==c.indexOf("Safari")?-1!==(n=c.indexOf("QQ"))?(y="qqbrowser",b=c.substring(n+10,n+16)):-1!==(n=c.indexOf("Safari"))&&(y="Safari",b=c.substring(n+7),-1!==(n=c.indexOf("Version"))&&(b=c.substring(n+8))):-1!==(n=c.indexOf("Firefox"))?(y="Firefox",b=c.substring(n+8)):-1!==(n=c.indexOf("MicroMessenger"))?(y="weixin",b=c.substring(n+15,n+20)):-1!==(n=c.indexOf("QQ"))&&(y="qqbrowser",b=c.substring(n+3,n+8)),-1!==(r=b.indexOf(";"))&&(b=b.substring(0,r)),-1!==(r=b.indexOf(" "))&&(b=b.substring(0,r)),-1!==(r=b.indexOf(")"))&&(b=b.substring(0,r));for(var v,m,g=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(s)?"wap":"web",_=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],w=0;w<_.length;w++){var O=_[w];if(O.r.test(c)){h=O.s;break}}function S(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""}switch(/Windows/.test(h)&&(d=S(/Windows (.*)/,h),h="windows"),h){case"Mac OS X":d=S(/Mac OS X (10[\.\_\d]+)/,c),h="mac";break;case"Android":(m=S(/Android ([\.\_\d]+)/,v=c))||(m=S(/Android\/([\.\_\d]+)/,v)),d=m,h="android";break;case"iOS":d=(d=/OS (\d+)_(\d+)_?(\d+)?/.exec(s))?d[1]+"."+d[2]+"."+(0|d[3]):"",h="ios"}var E=e?function(){var e=t?"_tea_utm_cache_"+t:"_tea_utm_cache",n={},r={utm_source:p.utm_source,utm_medium:p.utm_medium,utm_campaign:p.utm_campaign,utm_term:p.utm_term,utm_content:p.utm_content};try{var o=window.sessionStorage,i=!1;for(var a in r)r[a]&&(n[a]=r[a],i=!0);if(i)o.setItem(e,JSON.stringify(n));else{var s=o.getItem(e);s&&(n=JSON.parse(s))}}catch(e){return r}return n}():{};return{browser:y,browser_version:b,platform:g,os_name:h,os_version:d,userAgent:c,screen_width:i,screen_height:a,device_model:function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){var n=navigator.userAgent.replace("Mozilla/5.0 (",""),r=n.indexOf(";");t=n.slice(0,r)}}catch(e){}return t.trim()}(h),language:u,referrer:l,referrer_host:f,utm_source:E.utm_source,utm_medium:E.utm_medium,utm_campaign:E.utm_campaign,utm_term:E.utm_term,utm_content:E.utm_content,isSupportBeacon:("ios"!==h||"safari"!==y)&&(!(!window.navigator||!window.navigator.sendBeacon)||void 0)}};var s=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})},e.exports=n()}),c=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e}();var u={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e){try{var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)")),n=t?t[1]:"";return decodeURIComponent(n)}catch(e){return""}},setCookie:function(e,t,n){try{var r=+new Date+n;s.set(e,t,{expires:new Date(r),path:"/",domain:document.domain.split(".").slice(-2).join(".")})}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},l=function(){function e(e){this._storage=!e&&u.isSupportLS?u:new c}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e){return this._storage.getCookie(e)},e.prototype.setCookie=function(e,t,n){this._storage.setCookie(e,t,n)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}();function f(e,t,n){if("string"==typeof e&&"number"==typeof t&&"number"==typeof n){var r,o=[];n=n<=25?n:n%25;var i=String.fromCharCode(n+97);r=e.split(i);for(var a=0;a<r.length;a++){var s=parseInt(r[a],n);s=1*s^t;var c=String.fromCharCode(s);o.push(c)}return o.join("")}}var p=function(e){return f(e,64,25)},h={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},d="/v1/user/webid",y="/v1/list",b={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001},v=function(e,t){return t?"__tea_cache_tokens_"+e:"__tea_cache_events_"+e},m=function(e){return"__tea_cookie_tokens_"+e},g=function(){if("undefined"!=typeof window)return window.TeaAnalyticsObject};["1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz25z25z25z4az19z27z22z1cz20z18z1lz1ez1cz20z21z4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z20z18z1lz1ez1cz20z21z4az1az1mz1kz4az1az1l","1fz22z22z1nz21z4mz4bz4bz19z27z22z1cz20z18z1lz1ez1cz20z21z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k"].map(function(e){return p(e)});function _(e,t,n,r,o,i,a){var s=new XMLHttpRequest;i&&(s.timeout=i);var c=a||"POST";s.open(c,""+e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),o&&s.setRequestHeader("X-MCS-AppKey",""+o),s.onload=function(){if(n){var e=null;if(s.responseText){try{e=JSON.parse(s.responseText)}catch(t){e={}}n(e)}}},i&&(s.ontimeout=function(){r()}),s.onerror=function(){s.abort(),r&&r(t,b.XHR_ON)},s.send(JSON.stringify(t))}var w=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t+="&"+n+"="+encodeURIComponent(JSON.stringify(e[n])));return"&"===t[0]?t.slice(1):t},O=function(e,t,n,r){try{var o,i=e.match(/\/v\d\//);o=i?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/";var a=e.split(o)[0];if(!a)return void r(e,t,b.NO_URL);t.forEach(function(o){var i=w(o),s=new Image(1,1);s.onload=function(){s=null,n&&n()},s.onerror=function(){s=null,r&&r(e,t,b.IMG_ON)},s.src=a+"/v1/gif?"+i})}catch(n){r&&r(e,t,b.IMG_CATCH,n.message)}},S=function(e,t,n,r,o,i,s,c){var u=window.navigator.userAgent,l=-1!==window.navigator.appName.indexOf("Microsoft Internet Explorer")&&(-1!==u.indexOf("MSIE 8.0")||-1!==u.indexOf("MSIE 9.0")),f=!!n;if(!f&&l)O(e,t,r,o);else if(!f&&s)return a(!1).isSupportBeacon?(c&&c(),void(window.navigator.sendBeacon(e,JSON.stringify(t))?r():o(e,t,b.BEACON_FALSE))):void O(e,t,r,o);i&&delete t.app_key,_(e,t,r,o,n)};function E(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,E)}var x=function(){return E().replace(/-/g,"").slice(0,19)},A=function(){function e(e,t){this.browser=a(!0,e.app_id),this.config=e,this.cfg=t,this.storage=new l(!1),this.appInfo=e.app_key||e.app_id,this.isNoWebid=e.disable_webid,this.isNoSsid=e.disable_webid||e.disable_ssid,this.domain=e.channel_domain||p(h[e.channel]),this.tokenReady=!1,this.checkExp=e.checkExp||!1,this.enableCookie=e.cross_subdomain||!1,this.expiresTime=this.enableCookie?94608e6:0,this.fetchUrl=""+this.domain+d}return e.prototype._getToken=function(){this.tokensKey=v(this.appInfo,!0),this.cookieKey=m(this.appInfo);var e=this.storage.getItem(this.tokensKey);if(this.enableCookie){var t=this.storage.getCookie(this.cookieKey);if(t){t=decodeURIComponent(t);var n=(t=JSON.parse(t)).user_unique_id,r=t.web_id,o=t.timestamp,i=t.ssid;this._setToken(r,n,i,o)}else{if(!e)return void this._requestWebId();this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(e)),this.expiresTime),this._checkLocal(e)}}else{if(!e)return void this._requestWebId();this._checkLocal(e)}},e.prototype._checkLocal=function(e){if(!e.web_id){var t=this.storage.getCookie("tt_webid"),n=this.storage.getCookie("__tea_sdk__ssid"),r=this.storage.getCookie("__tea_sdk__user_unique_id");if(t&&n&&r){var o={web_id:t,ssid:n,user_unique_id:r,timestamp:Date.now()};this.storage.setItem(this.tokensKey,o)}}var i=this.storage.getItem(this.tokensKey),a=(r=i.user_unique_id,t=i.web_id,i.timestamp);n=i.ssid,t&&r?this._setToken(t,r,n,a):this._requestWebId()},e.prototype._setToken=function(e,t,n,r){if(this.uuid=t,this.web_id=e,this.ssid=n,this.checkExp){var o=Date.now()-parseFloat(r);if(o>7344e6)return void this._requestWebId();if(o>432e7)return void this._updateWebId(e)}this._complete(e,t,n)},e.prototype._complete=function(e,t,n){this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=e,this.cfg.envInfo.user.user_unique_id=t,this.tokenReady=!0},e.prototype._requestWebId=function(){this.isNoWebid?this._setwebId({web_id:x(),ssid:""}):this._fetchWebId(this.fetchUrl,!1)},e.prototype._updateWebId=function(e){var t=""+this.domain+d+"/"+e+"/update";this._fetchWebId(t,!0)},e.prototype._fetchWebId=function(e,t){var n=this;this.isGetWebId=!0,S(e,{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:this.browser.userAgent,referer:this.browser.referrer,user_unique_id:""},this.config.app_key,function(e){if(e&&0===e.e)if(t){var r={web_id:n.web_id,ssid:n.ssid,user_unique_id:n.uuid,timestamp:Date.now()};n.enableCookie&&n.storage.setCookie(n.cookieKey,encodeURIComponent(JSON.stringify(r)),n.expiresTime),n.storage.setItem(n.tokensKey,r),n._complete(n.web_id,n.uuid,n.ssid),n.isGetSsid?n._requestSsId():n.callback&&n.callback()}else n.isGetWebId=!1,n._setwebId(e),n.isGetSsid?n._requestSsId():n.callback&&n.callback();else t?n._fetchWebId(n.fetchUrl,!1):n.isGetWebId=!1},function(){n.isGetWebId=!1},!0)},e.prototype._setwebId=function(e){var t=this.cfg.envInfo.user.web_id||e.web_id,n={web_id:t,ssid:e.ssid,user_unique_id:this._uuid?this._uuid:t,timestamp:Date.now()};this.enableCookie&&this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(n)),this.expiresTime),this.storage.setItem(this.tokensKey,n),this.cfg.envInfo.user.ssid=e.ssid,this.cfg.envInfo.user.web_id=t,this.cfg.envInfo.user.user_unique_id=this._uuid?this._uuid:t,this.uuid=this._uuid?this._uuid:t,this.web_id=t,this.ssid=e.ssid,this.tokenReady=!0},e.prototype._getSsid=function(e){e&&-1===["0","Null","None","","undefined"].indexOf(e)&&(this.uuid===e&&this.web_id&&this.ssid?this.tokenReady=!0:(this._uuid=e,this.uuid=e,this.cfg.envInfo.user.user_unique_id=e,this.isGetSsid=!0,this.isNoSsid||this.isGetWebId?this.callback&&this.callback():(this.tokenReady=!1,this.isGetSsid=!1,this._requestSsId())))},e.prototype._requestSsId=function(){var e=this,t=this.domain+"/v1/user/ssid";S(t,{app_key:this.config.app_key,app_id:this.config.app_id,web_id:this.web_id,user_unique_id:this.uuid},this.config.app_key,function(t){if(t&&0===t.e){e.cfg.envInfo.user.ssid=t.ssid;var n={web_id:e.web_id,ssid:t.ssid,user_unique_id:e.uuid,timestamp:Date.now()};e.enableCookie&&e.storage.setCookie(e.cookieKey,encodeURIComponent(JSON.stringify(n)),e.expiresTime),e.storage.setItem(e.tokensKey,n),e.tokenReady=!0}else e.tokenReady=!0;e.callback&&e.callback()},function(){e.tokenReady=!0,e.callback&&e.callback()},!0)},e.prototype.isTokenReady=function(){return this.tokenReady},e}(),C=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},P=function(){function e(e,t,n,r){this.cfg=t,this.config=e,this._token=n,this.appInfo=e.app_key||e.app_id,this.debugMode=!!e.log,this.evtDataKey=v(this.appInfo,!1);var o=e.channel_domain||p(h[e.channel]);this.reportUrl=e.report_url?e.report_url:""+o+y,this.maxReport=e.max_report||20,this.reportTime=e.reportTime||30,this.storage=new l(!0),this.plugin=r,this.addListener()}return e.prototype.addListener=function(){var e=this;window.addEventListener("unload",function(){e.report(!0)},!1),C(this.report(!0)),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.report(!0)},!1)},e.prototype.setReady=function(){this.isReady=!0,this.report()},e.prototype.event=function(e,t){var n=this;void 0===e&&(e=[]),void 0===t&&(t=!1);var r=this.storage.getItem(this.evtDataKey)||[],o=t?i(e,r):i(r,e);this.storage.setItem(this.evtDataKey,o),this.reportTimer&&clearTimeout(this.reportTimer),o.length>=this.maxReport?this.report():this.reportTimer=setTimeout(function(){n.report(),n.reportTimer=null},this.reportTime)},e.prototype.report=function(e){if(void 0===e&&(e=!1),this._token.isTokenReady()&&this.isReady){var t=this.storage.getItem(this.evtDataKey)||[],n=this._mergeEvents(t);this.storage.removeItem(this.evtDataKey),this._dealData(n,e)}},e.prototype._mergeEvents=function(e){var t=this;if(!e.length)return e;var n=this.cfg.get();n.header.custom=JSON.stringify(n.header.custom);var o=[];return o.push(e),o.map(function(e){return{events:e.map(function(e){var n=r({},t.cfg.get("evtParams"),e.params);return delete n.__disable_storage__,r({},e,{params:JSON.stringify(n)})}),user:n.user,header:n.header,verbose:t.debugMode?1:void 0,local_time:parseInt(""+(new Date).getTime()/1e3)}})},e.prototype._dealData=function(e,t){var n=this;if(!e.length)return e;e.map(function(e){var t=[];return t.push(e),t}).forEach(function(e){var r=x();n._send(r,e,t)})},e.prototype._send=function(e,t,n){var r=this;this.isSending=!0;var o=function(){r.isSending=!1};S(this.reportUrl,t,this.config.app_key,function(){o()},function(e,t){o(),r.cfg.get("reportErrorCallback")(e,t)},!1,n,o)},e}(),k=void 0,j=(new Date).getTimezoneOffset(),T=parseInt(""+-j/60,10),N=60*j,M="4.1.29",R=function(){function e(e,t){var n=a(!0,e);this.initConfig=t,this.envInfo={user:{user_unique_id:k,user_type:k,user_id:k,user_is_auth:k,user_is_login:k,device_id:k,web_id:k,ip_addr_id:k,ssid:k},header:{app_id:k,app_name:k,app_install_id:k,install_id:k,app_package:k,app_channel:k,app_version:k,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:k,ab_version:k,ab_sdk_version:k,traffic_type:k,client_ip:k,device_brand:k,os_api:k,access:k,language:n.language,region:k,app_language:k,app_region:k,creative_id:k,ad_id:k,campaign_id:k,log_type:k,rnd:k,platform:n.platform,sdk_version:M,province:k,city:k,timezone:T,tz_offset:N,tz_name:k,sim_region:k,carrier:k,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm_term,utm_content:n.utm_content,utm_source:n.utm_source,utm_medium:n.utm_medium,utm_campaign:n.utm_campaign,custom:{}}},this.evtParams={},this.reportErrorCallback=function(){}}return e.prototype.set=function(e,t){var n=this;if("disable_auto_pv"!==e)if("evtParams"===e||"_staging_flag"===e){var o;o="evtParams"===e?t:{_staging_flag:Number(t)};var i=r({},o);Object.keys(i).forEach(function(e){n.evtParams[e]=i[e]})}else if("reportErrorCallback"===e&&"function"==typeof t)this.reportErrorCallback=t;else{var a="";if(e.indexOf(".")>-1){var s=e.split(".");a=s[0],e=s[1]}if("user_unique_id"===e){if(!t)return;if(-1!==["0","Null","None","","undefined"].indexOf(t))return}if("os_version"===e&&(e=""+t),"web_id"===e){if(!t)return;(!this.envInfo.user.user_unique_id||this.envInfo.user.user_unique_id&&this.envInfo.user.user_unique_id===this.envInfo.user.web_id)&&(this.envInfo.user.user_unique_id=t)}a?"user"===a||"header"===a?this.envInfo[a][e]=t:this.envInfo.header.custom[e]=t:this.envInfo.user.hasOwnProperty(e)?["user_type","ip_addr_id"].indexOf(e)>-1?this.envInfo.user[e]=Number(t):["user_id","web_id","user_unique_id","ssid"].indexOf(e)>-1?this.envInfo.user[e]=String(t):["user_is_auth","user_is_login"].indexOf(e)>-1?this.envInfo.user[e]=Boolean(t):"device_id"===e&&(this.initConfig&&this.initConfig.channel&&"cn"===this.initConfig.channel?this.envInfo.user[e]=t:this.envInfo.user[e]=Number(t)):this.envInfo.header.hasOwnProperty(e)?this.envInfo.header[e]=t:this.envInfo.header.custom[e]=t}},e.prototype.get=function(e){return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this.reportErrorCallback:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))},e}(),I=function(){function e(e,t){this.isLog=t,this.name=e||""}var t=e.prototype;return t.info=function(e){this.isLog&&console.log("["+this.name+"] "+e)},t.warn=function(e){this.isLog&&console.warn("["+this.name+"] "+e)},t.error=function(e){this.isLog&&console.error("["+this.name+"] "+e)},t.throw=function(e){throw this.error(this.name),new Error(e)},e}(),D=i(["init","config","send","start"],[]),L=function(){var e=+Date.now()+Number((""+Math.random()).slice(2,8));return function(){return e+=1}}(),B=function(e,t){var n=e;/^event\./.test(e)&&(n=e.slice(6));var r=t;return"object"!=typeof r&&(r={}),r.event_index=L(),{event:n,params:r,local_time_ms:+new Date,is_bav:0}},F=function(){function e(e){var t=this;this.predefinePageView=function(e){void 0===e&&(e={});var n=r({title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer},t._event.closeStorage?{}:{__disable_storage__:1}),o=r({},n,e);t.event("predefine_pageview",o,!0)},this.name=e,this._isSend=!1,this.autoPV=!0}return e.prototype.init=function(e){var t=this;if(!this._inited){if(this._inited=!0,!e||"object"!=typeof e)throw new Error("init params is error,please check");var n=e.app_id,r=e.app_key,o=e.log;this._config=new R(n,e),this.logger=new I(this.name,o),r||n||this.logger.throw("no app_key or app_id please check"),n&&"number"!=typeof n&&this.logger.throw("app_id param is error,must be number,please check"),r&&"string"!=typeof r&&this.logger.warn("app_key is empty"),e.channel_domain||-1!==["cn","sg","va"].indexOf(e.channel)||this.logger.throw("channel must be `cn`,`sg`,`va`"),this._config.set("app_id",n),e.channel=e.channel?e.channel:"cn",this._initConfig=e,this._token=new A(e,this._config),this._token.callback=function(){t.callbackSend&&t.start()},this._event=new P(e,this._config,this._token,this.plugin),this._token._getToken()}},e.prototype.config=function(e){if(this._inited)if(e&&"object"==typeof e){if(e.user_unique_id){"string"!=typeof e.user_unique_id&&this.logger.warn("user_unique_id must be string!!! please check");try{var t=String(e.user_unique_id);this._token._getSsid(t)}catch(e){}}for(var n in e.disable_auto_pv&&(this.autoPV=!1),e)this._config.set(n,e[n])}else this.logger.warn("config params is error,please check");else this.logger.warn("config must be use after function init")},e.prototype.send=function(){this.start()},e.prototype.start=function(){if(this._token.isTokenReady()){if(this._isSend)return;this._isSend=!0,this.logger.info("userInfo:"+JSON.stringify(this._config.get("user"))),this.logger.info("sdk is ready, you can report now !!!"),this._event.setReady(),this.autoPV&&this.predefinePageView()}else this.callbackSend=!0},e.prototype.event=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="boolean"==typeof e[e.length-1]&&e[e.length-1],r="boolean"==typeof e[e.length-1]?e.slice(0,e.length-1):e,i=o(r,1)[0],a=[];"Array"!==Object.prototype.toString.call(i).slice(8,-1)?a[0]=r:a=r,a=a.map(function(e){return B(e[0],e[1])}),this._event.event(a,n)},e}();function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){var t=this;return U(this,"_exportCollect",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t._isProcess?t._executeCmd.apply(t,n):(t.cmdQueue.push(n),t._processCmd())}),U(this,"_processCmd",function(){if(0!==t.cmdQueue.length){var e,n,r,o=(e=t.cmdQueue,n="init","0",r=-1,e.forEach(function(e,t){e[0]===n&&(r=t)}),r);-1!==o&&(t._isProcess=!0,t._executeCmd.apply(t,t.cmdQueue[o]),t.cmdQueue.forEach(function(e,n){n!==o&&t._executeCmd.apply(t,e)}),t.cmdQueue=[])}}),U(this,"_executeCmd",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o,i,a=n[0];D.indexOf(a)>-1?(o=t.colloctor)[a].apply(o,n.slice(1)):(i=t.colloctor).event.apply(i,n)}),this.cmdQueue=[],this.name=e,this.colloctor=new F(e),this._isProcess=!1,this._alias={},this._processCmd(),D.forEach(function(e){t._exportCollect[e]=t._exportCollect.bind(t,e)}),this._exportCollect},q={},V={},H=function(e){return q[e]||(q[e]=new z(e)),q[e]},G=function(e){return V[e]||(V[e]=[]),V[e]},K=function(e){try{var t=o(e),n=t[0],r=t.slice(1);if(!n)return void console.error("the event name is: "+n+", error, stop report, please check");var a=n.split(".");if(1===a.length)G("default").push(i([n],r));else if(2===a.length)"event"===a[0]?G("default").push(i([n],r)):G(a[0]).push(i([a[1]],r));else{var s=a[0],c=[a[1],a[2]].join(".");G(s).push(i([c],r))}}catch(e){console.log(e)}},W=function(){J.q.forEach(function(e){var t=[].slice.call(e);"Array"===Object.prototype.toString.call(t[0]).slice(8,-1)?t.forEach(function(e){K(e)}):K(t)}),Object.keys(V).forEach(function(e){V[e].forEach(function(t){H(e).apply(void 0,i(t))}),V[e]=[]}),J.q=[]},J=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.q.push(t),W()};J.q=[],J.l=Date.now(),J._instanceMap=q,J._instanceCmdMap=V,D.forEach(function(e){J[e]=J.bind(null,e)}),function(e){if("undefined"!=typeof window){var t=g();if(t&&window[t]){var n=window[t];n.init||(e.q=n.q||[],e.l=n.l||Date.now(),window[t]=e)}}}(J),W();var X=z;n.Collector=X,n.default=J},{}],17:[function(e,t,n){(function(n){void 0!==n&&"production"===n.env.NODE_ENV?t.exports=e("./mobx.min.js"):t.exports=e("./mobx.js")}).call(this,e("_process"))},{"./mobx.js":18,"./mobx.min.js":19,_process:2}],18:[function(e,t,n){(function(e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="An invariant failed, however the error is obfuscated because this is a production build.",o=[];Object.freeze(o);var i={};function a(){return++Ke.mobxGuid}function s(e){throw c(!1,e),"X"}function c(e,t){if(!e)throw new Error("[mobx] "+(t||r))}Object.freeze(i);var u=[];function l(e,t){return t?l("'"+e+"', use '"+t+"' instead."):-1===u.indexOf(e)&&(u.push(e),console.error("[mobx] Deprecated: "+e),!0)}function f(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var p=function(){};function h(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function d(e){return null!==e&&"object"==typeof e}function y(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function b(e){if(O(e)||Cn(e))return e;if(Array.isArray(e))return new Map(e);if(y(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return s("Cannot convert to map from '"+e+"'")}function v(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function m(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function g(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function _(e,t){g(e,t)||s("Cannot make property '"+t.toString()+"' observable, it is not configurable and writable in the target object")}function w(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return d(e)&&!0===e[n]}}function O(e){return e instanceof Map}function S(e){return e instanceof Set}function E(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach(function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)}),Array.from(t)}function x(e){return e&&e.toString?e.toString():new String(e).toString()}function A(e){return null===e?null:"object"==typeof e?""+e:e}var C="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,P=Symbol("mobx administration"),k=function(){function e(e){void 0===e&&(e="Atom@"+a()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.reportObserved=function(){return et(this)},e.prototype.reportChanged=function(){$e(),tt(this),Ze()},e.prototype.toString=function(){return this.name},e}(),j=w("Atom",k);function T(e,t,n){void 0===t&&(t=p),void 0===n&&(n=p);var r=new k(e);return t!==p&&kt(r,t),n!==p&&jt(r,n),r}var N={identity:function(e,t){return e===t},structural:function(e,t){return Hn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Hn(e,t,1)}},M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function R(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function D(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function L(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function B(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e}var F=Symbol("mobx did run lazy initializers"),U=Symbol("mobx pending decorators"),z={},q={};function V(e,t){var n=t?z:q;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return H(this),this[e]},set:function(t){H(this),this[e]=t}})}function H(e){var t,n;if(!0!==e[F]){var r=e[U];if(r){v(e,F,!0);var o=B(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=D(o),a=i.next();!a.done;a=i.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function G(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(K(arguments)||s("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(r,U)){var c=r[U];v(r,U,I({},c))}return r[U][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},V(o,e)};return K(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function K(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function W(e,t,n){return Kt(e)?e:Array.isArray(e)?ie.array(e,{name:n}):y(e)?ie.object(e,void 0,{name:n}):O(e)?ie.map(e,{name:n}):S(e)?ie.set(e,{name:n}):e}function J(e){return e}function X(t){c(t);var n=G(!0,function(e,n,r,o,i){c(!r||!r.get,'@observable cannot be used on getter (property "'+x(n)+'"), use @computed instead.');var a=r?r.initializer?r.initializer.call(e):r.value:void 0;Nn(e).addObservableProp(n,a,t)}),r=void 0!==e&&e.env?function(){return arguments.length<2?s("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):n.apply(null,arguments)}:n;return r.enhancer=t,r}var Q={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Y(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||s("invalid option for (extend)observable: "+e)}function $(e){return null===e||void 0===e?Q:"string"==typeof e?{name:e,deep:!0,proxy:!0}:"object"!=typeof e?s("expected options object"):(Object.keys(e).forEach(Y),e)}Object.freeze(Q);var Z=X(W),ee=X(function(e,t,n){return void 0===e||null===e?e:Fn(e)||Sn(e)||Cn(e)||jn(e)?e:Array.isArray(e)?ie.array(e,{name:n,deep:!1}):y(e)?ie.object(e,void 0,{name:n,deep:!1}):O(e)?ie.map(e,{name:n,deep:!1}):S(e)?ie.set(e,{name:n,deep:!1}):s("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}),te=X(J),ne=X(function(e,t,n){if(Kt(e))throw"observable.struct should not be used with observable values";return Hn(e,t)?t:e});function re(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?J:W}var oe={box:function(e,t){arguments.length>2&&ae("box");var n=$(t);return new De(e,re(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&ae("array");var n=$(t);return mn(e,re(n),n.name)},map:function(e,t){arguments.length>2&&ae("map");var n=$(t);return new An(e,re(n),n.name)},set:function(e,t){arguments.length>2&&ae("set");var n=$(t);return new kn(e,re(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&ae("object");var r=$(n);if(!1===r.proxy)return Nt({},e,t,r);var o=Mt(r),i=ln(Nt({},void 0,void 0,r));return Rt(i,e,t,o),i},ref:te,shallow:ee,deep:Z,struct:ne},ie=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return Z.apply(null,arguments);if(Kt(e))return e;var r=y(e)?ie.object(e,t,n):Array.isArray(e)?ie.array(e,t):O(e)?ie.map(e,t):S(e)?ie.set(e,t):e;if(r!==e)return r;s("The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function ae(e){s("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(oe).forEach(function(e){return ie[e]=oe[e]});var se,ce=G(!1,function(e,t,n,r,o){c(n&&n.get,"Trying to declare a computed value for unspecified getter '"+x(t)+"'");var i=n.get,a=n.set,s=o[0]||{};Nn(e).addComputedProp(e,t,I({get:i,set:a,context:e},s))}),ue=ce({equals:N.structural}),le=function(e,t,n){if("string"==typeof t)return ce.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ce.apply(null,arguments);c("function"==typeof e,"First argument to `computed` should be an expression."),c(arguments.length<3,"Computed takes one or two arguments if used as function");var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Be(r)};le.struct=ue,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(n.IDerivationState||(n.IDerivationState={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(se||(se={}));var fe=function(){return function(e){this.cause=e}}();function pe(e){return e instanceof fe}function he(e){switch(e.dependenciesState){case n.IDerivationState.UP_TO_DATE:return!1;case n.IDerivationState.NOT_TRACKING:case n.IDerivationState.STALE:return!0;case n.IDerivationState.POSSIBLY_STALE:for(var t=Se(!0),r=we(),o=e.observing,i=o.length,a=0;a<i;a++){var s=o[a];if(Fe(s)){if(Ke.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return Oe(r),Ee(t),!0}if(e.dependenciesState===n.IDerivationState.STALE)return Oe(r),Ee(t),!0}}return xe(e),Oe(r),Ee(t),!1}}function de(e){var t=e.observers.size>0;Ke.computationDepth>0&&t&&s("Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),Ke.allowStateChanges||!t&&"strict"!==Ke.enforceActions||s((Ke.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function ye(e){!Ke.allowStateReads&&Ke.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}function be(e,t,n){var r=Se(!0);xe(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ke.runId;var o,i=Ke.trackingDerivation;if(Ke.trackingDerivation=e,!0===Ke.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new fe(e)}return Ke.trackingDerivation=i,me(e),ve(e),Ee(r),o}function ve(e){0===e.observing.length&&(Ke.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}function me(e){for(var t=e.observing,r=e.observing=e.newObserving,o=n.IDerivationState.UP_TO_DATE,i=0,a=e.unboundDepsCount,s=0;s<a;s++){0===(c=r[s]).diffValue&&(c.diffValue=1,i!==s&&(r[i]=c),i++),c.dependenciesState>o&&(o=c.dependenciesState)}for(r.length=i,e.newObserving=null,a=t.length;a--;){0===(c=t[a]).diffValue&&Qe(c,e),c.diffValue=0}for(;i--;){var c;1===(c=r[i]).diffValue&&(c.diffValue=0,Xe(c,e))}o!==n.IDerivationState.UP_TO_DATE&&(e.dependenciesState=o,e.onBecomeStale())}function ge(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Qe(t[r],e);e.dependenciesState=n.IDerivationState.NOT_TRACKING}function _e(e){var t=we();try{return e()}finally{Oe(t)}}function we(){var e=Ke.trackingDerivation;return Ke.trackingDerivation=null,e}function Oe(e){Ke.trackingDerivation=e}function Se(e){var t=Ke.allowStateReads;return Ke.allowStateReads=e,t}function Ee(e){Ke.allowStateReads=e}function xe(e){if(e.dependenciesState!==n.IDerivationState.UP_TO_DATE){e.dependenciesState=n.IDerivationState.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=n.IDerivationState.UP_TO_DATE}}var Ae=0,Ce=1,Pe=Object.getOwnPropertyDescriptor(function(){},"name"),ke=Pe&&Pe.configurable;function je(e,t,n){c("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||s("actions should have valid names, got: '"+e+"'");var r=function(){return Te(e,t,n||this,arguments)};return r.isMobxAction=!0,ke&&Object.defineProperty(r,"name",{value:e}),r}function Te(e,t,n,r){var o=Ne(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{Me(o)}}function Ne(e,t,n){var r=ht()&&!!e,o=0;if(r){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var s=0;s<i;s++)a[s]=n[s];yt({type:"action",name:e,object:t,arguments:a})}var c=we();$e();var u={prevDerivation:c,prevAllowStateChanges:Re(!0),prevAllowStateReads:Se(!0),notifySpy:r,startTime:o,actionId:Ce++,parentActionId:Ae};return Ae=u.actionId,u}function Me(e){Ae!==e.actionId&&s("invalid action stack. did you forget to finish an action?"),Ae=e.parentActionId,void 0!==e.error&&(Ke.suppressReactionErrors=!0),Ie(e.prevAllowStateChanges),Ee(e.prevAllowStateReads),Ze(),Oe(e.prevDerivation),e.notifySpy&&vt({time:Date.now()-e.startTime}),Ke.suppressReactionErrors=!1}function Re(e){var t=Ke.allowStateChanges;return Ke.allowStateChanges=e,t}function Ie(e){Ke.allowStateChanges=e}var De=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=N.default);var s=e.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=i,s.hasUnreportedChange=!1,s.value=n(t,void 0,r),o&&ht()&&dt({type:"create",name:s.name,newValue:""+s.value}),s}return R(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Ke.UNCHANGED){var n=ht();n&&yt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&vt()}},t.prototype.prepareNewValue=function(e){if(de(this),fn(this)){var t=hn(this,{object:this,type:"update",newValue:e});if(!t)return Ke.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ke.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),dn(this)&&bn(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return pn(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),yn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return A(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(k),Le=w("ObservableValue",De),Be=function(){function e(e){this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new fe(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=se.NONE,c(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+a(),e.set&&(this.setter=je(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?N.structural:N.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){rt(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ke.inBatch||0!==this.observers.size||this.keepAlive?(et(this),he(this)&&this.trackAndCompute()&&nt(this)):he(this)&&(this.warnAboutUntrackedRead(),$e(),this.value=this.computeValue(!1),Ze());var e=this.value;if(pe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(pe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else c(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){ht()&&dt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===n.IDerivationState.NOT_TRACKING,r=this.computeValue(!0),o=t||pe(e)||pe(r)||!this.equals(e,r);return o&&(this.value=r),o},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ke.computationDepth++,e)t=be(this,this.derivation,this.scope);else if(!0===Ke.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new fe(e)}return Ke.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ge(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return xt(function(){var i=n.get();if(!r||t){var a=we();e({type:"update",object:n,newValue:i,oldValue:o}),Oe(a)}r=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){!0===this.requiresReaction&&s("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==se.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Ke.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute")},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return A(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Fe=w("ComputedValue",Be),Ue=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],ze=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),qe={};function Ve(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:qe}var He=!0,Ge=!1,Ke=function(){var e=Ve();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(He=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ze).version&&(He=!1),He?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ze):(setTimeout(function(){Ge||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ze)}();function We(e){return e.observers&&e.observers.size>0}function Je(e){return e.observers}function Xe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Qe(e,t){e.observers.delete(t),0===e.observers.size&&Ye(e)}function Ye(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ke.pendingUnobservations.push(e))}function $e(){Ke.inBatch++}function Ze(){if(0==--Ke.inBatch){ut();for(var e=Ke.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Be&&n.suspend())}Ke.pendingUnobservations=[]}}function et(e){ye(e);var t=Ke.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Ke.inBatch>0&&Ye(e),!1)}function tt(e){e.lowestObserverState!==n.IDerivationState.STALE&&(e.lowestObserverState=n.IDerivationState.STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.isTracing!==se.NONE&&ot(t,e),t.onBecomeStale()),t.dependenciesState=n.IDerivationState.STALE}))}function nt(e){e.lowestObserverState!==n.IDerivationState.STALE&&(e.lowestObserverState=n.IDerivationState.STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.POSSIBLY_STALE?t.dependenciesState=n.IDerivationState.STALE:t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=n.IDerivationState.UP_TO_DATE)}))}function rt(e){e.lowestObserverState===n.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=n.IDerivationState.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.dependenciesState=n.IDerivationState.POSSIBLY_STALE,t.isTracing!==se.NONE&&ot(t,e),t.onBecomeStale())}))}function ot(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===se.BREAK){var n=[];it(It(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Be?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function it(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach(function(e){return it(e,t,n+1)}))}var at=function(){function e(e,t,r,o){void 0===e&&(e="Reaction@"+a()),void 0===o&&(o=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=se.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ke.pendingReactions.push(this),ut())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if($e(),this._isScheduled=!1,he(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&ht()&&dt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ze()}},e.prototype.track=function(e){if(!this.isDisposed){$e();var t,n=ht();n&&(t=Date.now(),yt({name:this.name,type:"reaction"})),this._isRunning=!0;var r=be(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ge(this),pe(r)&&this.reportExceptionInDerivation(r.cause),n&&vt({time:Date.now()-t}),Ze()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ke.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ke.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),ht()&&dt({type:"error",name:this.name,message:n,error:""+e}),Ke.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||($e(),ge(this),Ze()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[P]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),tn(this,e)},e}();var st=100,ct=function(e){return e()};function ut(){Ke.inBatch>0||Ke.isRunningReactions||ct(lt)}function lt(){Ke.isRunningReactions=!0;for(var e=Ke.pendingReactions,t=0;e.length>0;){++t===st&&(console.error("Reaction doesn't converge to a stable state after "+st+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Ke.isRunningReactions=!1}var ft=w("Reaction",at);function pt(e){var t=ct;ct=function(n){return e(function(){return t(n)})}}function ht(){return!!Ke.spyListeners.length}function dt(e){if(Ke.spyListeners.length)for(var t=Ke.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function yt(e){dt(I(I({},e),{spyReportStart:!0}))}var bt={spyReportEnd:!0};function vt(e){dt(e?I(I({},e),{spyReportEnd:!0}):bt)}function mt(e){return Ke.spyListeners.push(e),f(function(){Ke.spyListeners=Ke.spyListeners.filter(function(t){return t!==e})})}function gt(){s("@action fields are not reassignable")}function _t(e){return function(t,n,r){if(r){if(void 0!==r.get)return s("@action cannot be used with getters");if(r.value)return{value:je(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return je(e,o.call(this))}}}return wt(e).apply(this,arguments)}}function wt(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){v(this,n,Ot(e,t))}})}}var Ot=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?je(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?je(e,t):1===arguments.length&&"string"==typeof e?_t(e):!0!==r?_t(t).apply(null,arguments):void v(e,t,je(e.name||t,n.value,this))};function St(e){return"function"==typeof e&&!0===e.isMobxAction}function Et(e,t,n){v(e,t,je(t,n.bind(e)))}function xt(e,t){void 0===t&&(t=i),c("function"==typeof e,"Autorun expects a function as first argument"),c(!1===St(e),"Autorun does not accept actions since actions are untrackable");var n,r=t&&t.name||e.name||"Autorun@"+a();if(!t.scheduler&&!t.delay)n=new at(r,function(){this.track(u)},t.onError,t.requiresObservable);else{var o=Ct(t),s=!1;n=new at(r,function(){s||(s=!0,o(function(){s=!1,n.isDisposed||n.track(u)}))},t.onError,t.requiresObservable)}function u(){e(n)}return n.schedule(),n.getDisposer()}Ot.bound=function(e,t,n,r){return!0===r?(Et(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Et(this,t,n.value||n.initializer.call(this)),this[t]},set:gt}:{enumerable:!1,configurable:!0,set:function(e){Et(this,t,e)},get:function(){}}};var At=function(e){return e()};function Ct(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:At}function Pt(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}function kt(e,t,n){return Tt("onBecomeObserved",e,t,n)}function jt(e,t,n){return Tt("onBecomeUnobserved",e,t,n)}function Tt(e,t,n,r){var o="function"==typeof r?Un(t,n):Un(t),i="function"==typeof r?r:n,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?s("Not an atom that can be (un)observed"):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function Nt(e,t,n,r){c(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),c("object"==typeof e,"'extendObservable' expects an object as first argument"),c(!Cn(e),"'extendObservable' should not be used on maps, use map.merge instead");var o=Mt(r=$(r));return H(e),Nn(e,r.name,o.enhancer),t&&Rt(e,t,n,o),e}function Mt(e){return e.defaultDecorator||(!1===e.deep?te:Z)}function Rt(e,t,n,r){var o,i,a,u;if(c(!Kt(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n){var l=E(n);try{for(var f=D(l),p=f.next();!p.done;p=f.next()){(b=p.value)in t||s("Trying to declare a decorator for unspecified property '"+x(b)+"'")}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}$e();try{l=C(t);try{for(var h=D(l),d=h.next();!d.done;d=h.next()){var b=d.value,v=Object.getOwnPropertyDescriptor(t,b);y(t)||s("'extendObservable' only accepts plain objects as second argument"),Ht(v.value)&&s("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead");var m=n&&b in n?n[b]:v.get?ce:r;"function"!=typeof m&&s("Not a valid decorator for '"+x(b)+"', got: "+m);var g=m(e,b,v,!0);g&&Object.defineProperty(e,b,g)}}catch(e){a={error:e}}finally{try{d&&!d.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}}finally{Ze()}}function It(e,t){return Dt(Un(e,t))}function Dt(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=h(e.observing).map(Dt)),t}function Lt(e){var t={name:e.name};return We(e)&&(t.observers=Array.from(Je(e)).map(Lt)),t}var Bt=0;function Ft(){this.message="FLOW_CANCELLED"}function Ut(e){"function"==typeof e.cancel&&e.cancel()}function zt(e,t){return zn(e).intercept(t)}function qt(e,t,n){return zn(e,t).intercept(n)}function Vt(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===Fn(e))return!1;if(!e[P].values.has(t))return!1;var n=Un(e,t);return Fe(n)}return Fe(e)}function Ht(e){return arguments.length>1?s("isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):Vt(e)}function Gt(e,t){return null!==e&&void 0!==e&&(void 0!==t?Cn(e)||Sn(e)?s("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Fn(e)&&e[P].values.has(t):Fn(e)||!!e[P]||j(e)||ft(e)||Fe(e))}function Kt(e){return 1!==arguments.length&&s("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Gt(e)}function Wt(e){return Fn(e)?e[P].getKeys():Cn(e)?Array.from(e.keys()):jn(e)?Array.from(e.keys()):Sn(e)?e.map(function(e,t){return t}):s("'keys()' can only be used on observable objects, arrays, sets and maps")}function Jt(e,t,n){if(2!==arguments.length||jn(e))if(Fn(e)){var r=e[P];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Cn(e))e.set(t,n);else if(jn(e))e.add(t);else{if(!Sn(e))return s("'set()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),c(t>=0,"Not a valid index: '"+t+"'"),$e(),t>=e.length&&(e.length=t+1),e[t]=n,Ze()}else{$e();var o=t;try{for(var i in o)Jt(e,i,o[i])}finally{Ze()}}}function Xt(e,t){return Fn(e)?zn(e).has(t):Cn(e)?e.has(t):jn(e)?e.has(t):Sn(e)?t>=0&&t<e.length:s("'has()' can only be used on observable objects, arrays and maps")}function Qt(e,t,n){return zn(e).observe(t,n)}function Yt(e,t,n,r){return zn(e,t).observe(n,r)}Ft.prototype=Object.create(Error.prototype);var $t={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Zt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function en(e,t,n){if(!t.recurseEverything&&!Kt(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Le(e))return en(e.get(),t,n);if(Kt(e)&&Wt(e),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);if(Sn(e)||Array.isArray(e)){var r=Zt(n,e,[],t),o=e.map(function(e){return en(e,t,n)});r.length=o.length;for(var i=0,a=o.length;i<a;i++)r[i]=o[i];return r}if(jn(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var s=Zt(n,e,new Set,t);return e.forEach(function(e){s.add(en(e,t,n))}),s}var c=Zt(n,e,[],t);return e.forEach(function(e){c.push(en(e,t,n))}),c}if(Cn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var u=Zt(n,e,new Map,t);return e.forEach(function(e,r){u.set(r,en(e,t,n))}),u}var l=Zt(n,e,{},t);return e.forEach(function(e,r){l[r]=en(e,t,n)}),l}var f=Zt(n,e,{},t);return E(e).forEach(function(r){f[r]=en(e[r],t,n)}),f}function tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=nn(e);if(!r)return s("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===se.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?se.BREAK:se.LOG}function nn(e){switch(e.length){case 0:return Ke.trackingDerivation;case 1:return Un(e[0]);case 2:return Un(e[0],e[1])}}function rn(e,t){void 0===t&&(t=void 0),$e();try{return e.apply(t)}finally{Ze()}}function on(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!i[P].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}},n.timeout)),n.name=n.name||"When@"+a();var o=je(n.name+"-effect",t),i=xt(function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())},n);return i}function an(e,t){if(t&&t.onError)return s("the options 'onError' and 'promise' cannot be combined");var n,r=new Promise(function(r,o){var i=on(e,r,I(I({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}});return r.cancel=n,r}function sn(e){return e[P]}function cn(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var un={has:function(e,t){if(t===P||"constructor"===t||t===F)return!0;var n=sn(e);return cn(t)?n.has(t):t in e},get:function(e,t){if(t===P||"constructor"===t||t===F)return e[t];var n=sn(e),r=n.values.get(t);if(r instanceof k){var o=r.get();return void 0===o&&n.has(t),o}return cn(t)&&n.has(t),e[t]},set:function(e,t,n){return!!cn(t)&&(Jt(e,t,n),!0)},deleteProperty:function(e,t){return!!cn(t)&&(sn(e).remove(t),!0)},ownKeys:function(e){return sn(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return s("Dynamic observable objects cannot be frozen"),!1}};function ln(e){var t=new Proxy(e,un);return e[P].proxy=t,t}function fn(e){return void 0!==e.interceptors&&e.interceptors.length>0}function pn(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),f(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function hn(e,t){var n=we();try{for(var r=B(e.interceptors||[]),o=0,i=r.length;o<i&&(c(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{Oe(n)}}function dn(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function yn(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),f(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function bn(e,t){var n=we(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);Oe(n)}}var vn={get:function(e,t){return t===P?e[P]:"length"===t?e[P].getArrayLength():"number"==typeof t?_n.get.call(e,t):"string"!=typeof t||isNaN(t)?_n.hasOwnProperty(t)?_n[t]:e[t]:_n.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[P].setArrayLength(n),"number"==typeof t&&_n.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:_n.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return s("Observable arrays cannot be frozen"),!1}};function mn(e,t,n,r){void 0===n&&(n="ObservableArray@"+a()),void 0===r&&(r=!1);var o=new gn(n,t,r);m(o.values,P,o);var i=new Proxy(o.values,vn);if(o.proxy=i,e&&e.length){var s=Re(!0);o.spliceWithArray(0,0,e),Ie(s)}return i}var gn=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new k(e||"ObservableArray@"+a()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return pn(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),yn(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;de(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=o),fn(this)){var a=hn(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return o;t=a.removedCount,n=a.added}var s=(n=0===n.length?n:n.map(function(e){return r.enhancer(e,void 0)})).length-t;this.updateArrayLength(i,s);var c=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,B([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&ht(),o=dn(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;r&&yt(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&bn(this,i),r&&vt()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&ht(),o=dn(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&yt(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&bn(this,i),r&&vt()},e}(),_n={intercept:function(e){return this[P].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[P].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[P];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[P];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[P].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[P];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[P].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[P];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[P],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[P];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[P],r=n.values;if(e<r.length){de(n.atom);var o=r[e];if(fn(n)){var i=hn(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(e){"function"==typeof Array.prototype[e]&&(_n[e]=function(){var t=this[P];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(e){"function"==typeof Array.prototype[e]&&(_n[e]=function(t,n){var r=this,o=this[P];return o.atom.reportObserved(),o.dehanceValues(o.values)[e](function(e,o){return t.call(n,e,o,r)},n)})}),["reduce","reduceRight"].forEach(function(e){_n[e]=function(t,n){var r=this,o=this[P];return o.atom.reportObserved(),o.values[e](function(e,n,i){return n=o.dehanceValue(n),t(e,n,i,r)},n)}});var wn,On=w("ObservableArrayAdministration",gn);function Sn(e){return d(e)&&On(e[P])}var En,xn={},An=function(){function e(e,t,n){if(void 0===t&&(t=W),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=t,this.name=n,this[wn]=xn,this._keysAtom=T(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ke.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new De(this._has(e),J,this.name+"."+x(e)+"?",!1);this._hasMap.set(e,r),jt(r,function(){return t._hasMap.delete(e)})}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(fn(this)){var r=hn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((de(this._keysAtom),fn(this))&&!(o=hn(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=ht(),r=dn(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&yt(I(I({},o),{name:this.name,key:e})),rn(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),r&&bn(this,o),n&&vt(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Ke.UNCHANGED){var r=ht(),o=dn(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&yt(I(I({},i),{name:this.name,key:e})),n.setNewValue(t),o&&bn(this,i),r&&vt()}},e.prototype._addValue=function(e,t){var n=this;de(this._keysAtom),rn(function(){var r=new De(t,n.enhancer,n.name+"."+x(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()});var r=ht(),o=dn(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&yt(I(I({},i),{name:this.name,key:e})),o&&bn(this,i),r&&vt()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return Jn({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return Jn({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype[(wn=P,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=D(this),i=o.next();!i.done;i=o.next()){var a=L(i.value,2),s=a[0],c=a[1];e.call(t,c,s,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Cn(e)&&(e=e.toJS()),rn(function(){var n=Re(!0);try{y(e)?E(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=L(e,2),r=n[0],o=n[1];return t.set(r,o)}):O(e)?(e.constructor!==Map&&s("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(e,n){return t.set(n,e)})):null!==e&&void 0!==e&&s("Cannot initialize map from "+e)}finally{Ie(n)}}),this},e.prototype.clear=function(){var e=this;rn(function(){_e(function(){var t,n;try{for(var r=D(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.replace=function(e){var t=this;return rn(function(){var n,r,o,i,a=b(e),s=new Map,c=!1;try{for(var u=D(t._data.keys()),l=u.next();!l.done;l=u.next()){var f=l.value;if(!a.has(f))if(t.delete(f))c=!0;else{var p=t._data.get(f);s.set(f,p)}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var h=D(a.entries()),d=h.next();!d.done;d=h.next()){var y=L(d.value,2),v=(f=y[0],p=y[1],t._data.has(f));if(t.set(f,p),t._data.has(f)){var m=t._data.get(f);s.set(f,m),v||(c=!0)}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}if(!c)if(t._data.size!==s.size)t._keysAtom.reportChanged();else for(var g=t._data.keys(),_=s.keys(),w=g.next(),O=_.next();!w.done;){if(w.value!==O.value){t._keysAtom.reportChanged();break}w=g.next(),O=_.next()}t._data=s}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=D(this),o=r.next();!o.done;o=r.next()){var i=L(o.value,2),a=i[0],s=i[1];n["symbol"==typeof a?a:x(a)]=s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return x(t)+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return c(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),yn(this,e)},e.prototype.intercept=function(e){return pn(this,e)},e}(),Cn=w("ObservableMap",An),Pn={},kn=function(){function e(e,t,n){if(void 0===t&&(t=W),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[En]=Pn,this._data=new Set,this._atom=T(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;rn(function(){_e(function(){var t,n;try{for(var r=D(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.forEach=function(e,t){var n,r;try{for(var o=D(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((de(this._atom),fn(this))&&!(o=hn(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){rn(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var n=ht(),r=dn(this),o=r||n?{type:"add",object:this,newValue:e}:null;n&&yt(o),r&&bn(this,o),n&&vt()}return this},e.prototype.delete=function(e){var t=this;if(fn(this)&&!(o=hn(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=ht(),r=dn(this),o=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&yt(I(I({},o),{name:this.name})),rn(function(){t._atom.reportChanged(),t._data.delete(e)}),r&&bn(this,o),n&&vt(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Jn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return Jn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return jn(e)&&(e=e.toJS()),rn(function(){var n=Re(!0);try{Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):S(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!==e&&void 0!==e&&s("Cannot initialize set from "+e)}finally{Ie(n)}}),this},e.prototype.observe=function(e,t){return c(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),yn(this,e)},e.prototype.intercept=function(e){return pn(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(En=P,Symbol.iterator)]=function(){return this.values()},e}(),jn=w("ObservableSet",kn),Tn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new k(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Be)r.set(t);else{if(fn(this)){if(!(a=hn(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=a.newValue}if((t=r.prepareNewValue(t))!==Ke.UNCHANGED){var o=dn(this),i=ht(),a=o||i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;i&&yt(I(I({},a),{name:this.name,key:e})),r.setNewValue(t),o&&bn(this,a),i&&vt()}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new De(r,J,this.name+"."+x(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(_(r,e),fn(this)){var o=hn(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new De(t,n,this.name+"."+x(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,In(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+x(t),this.values.set(t,new Be(n)),(e===r||g(e,t))&&Object.defineProperty(e,t,Ln(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(fn(this))if(!(s=hn(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{$e();var n=dn(this),r=ht(),o=this.values.get(e),i=o&&o.get();if(o&&o.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var s=n||r?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;r&&yt(I(I({},s),{name:this.name,key:e})),n&&bn(this,s),r&&vt()}finally{Ze()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return c(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),yn(this,e)},e.prototype.intercept=function(e){return pn(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=dn(this),r=ht(),o=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&yt(I(I({},o),{name:this.name,key:e})),n&&bn(this,o),r&&vt(),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=D(this.values),o=r.next();!o.done;o=r.next()){var i=L(o.value,2),a=i[0];i[1]instanceof De&&n.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Nn(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=W),Object.prototype.hasOwnProperty.call(e,P))return e[P];c(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),y(e)||(t=(e.constructor.name||"ObservableObject")+"@"+a()),t||(t="ObservableObject@"+a());var r=new Tn(e,new Map,x(t),n);return v(e,P,r),r}var Mn=Object.create(null),Rn=Object.create(null);function In(e){return Mn[e]||(Mn[e]={configurable:!0,enumerable:!0,get:function(){return this[P].read(e)},set:function(t){this[P].write(e,t)}})}function Dn(e){var t=e[P];return t||(H(e),e[P])}function Ln(e){return Rn[e]||(Rn[e]={configurable:Ke.computedConfigurable,enumerable:!1,get:function(){return Dn(this).read(e)},set:function(t){Dn(this).write(e,t)}})}var Bn=w("ObservableObjectAdministration",Tn);function Fn(e){return!!d(e)&&(H(e),Bn(e[P]))}function Un(e,t){if("object"==typeof e&&null!==e){if(Sn(e))return void 0!==t&&s("It is not possible to get index atoms from arrays"),e[P].atom;if(jn(e))return e[P];if(Cn(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||s("the entry '"+t+"' does not exist in the observable map '"+qn(e)+"'"),r)}var r;if(H(e),t&&!e[P]&&e[t],Fn(e))return t?((r=e[P].values.get(t))||s("no observable property '"+t+"' found on the observable object '"+qn(e)+"'"),r):s("please specify a property");if(j(e)||Fe(e)||ft(e))return e}else if("function"==typeof e&&ft(e[P]))return e[P];return s("Cannot obtain atom from "+e)}function zn(e,t){return e||s("Expecting some object"),void 0!==t?zn(Un(e,t)):j(e)||Fe(e)||ft(e)?e:Cn(e)||jn(e)?e:(H(e),e[P]?e[P]:void s("Cannot obtain administration from "+e))}function qn(e,t){return(void 0!==t?Un(e,t):Fn(e)||Cn(e)||jn(e)?zn(e):Un(e)).name}var Vn=Object.prototype.toString;function Hn(e,t,n){return void 0===n&&(n=-1),Gn(e,t,n)}function Gn(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Vn.call(e);if(a!==Vn.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Kn(e),t=Kn(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var l=r.length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Gn(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p=void 0;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!Wn(t,p=f[l])||!Gn(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Kn(e){return Sn(e)?e.slice():O(e)||Cn(e)?Array.from(e.entries()):S(e)||jn(e)?Array.from(e.entries()):e}function Wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jn(e){return e[Symbol.iterator]=Xn,e}function Xn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");(function(){if("testCodeMinification"!==function(){}.name&&void 0!==e&&"true"!==e.env.IGNORE_MOBX_MINIFY_WARNING){var t=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+t+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}})(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:mt,extras:{getDebugName:qn},$mobx:P}),n.$mobx=P,n.FlowCancellationError=Ft,n.ObservableMap=An,n.ObservableSet=kn,n.Reaction=at,n._allowStateChanges=function(e,t){var n,r=Re(e);try{n=t()}finally{Ie(r)}return n},n._allowStateChangesInsideComputed=function(e){var t,n=Ke.computationDepth;Ke.computationDepth=0;try{t=e()}finally{Ke.computationDepth=n}return t},n._allowStateReadsEnd=Ee,n._allowStateReadsStart=Se,n._endAction=Me,n._getAdministration=zn,n._getGlobalState=function(){return Ke},n._interceptReads=function(e,t,n){var r;if(Cn(e)||Sn(e)||Le(e))r=zn(e);else{if(!Fn(e))return s("Expected observable map, object or array as first array");if("string"!=typeof t)return s("InterceptReads can only be used with a specific property, not with an object in general");r=zn(e,t)}return void 0!==r.dehancer?s("An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})},n._isComputingDerivation=function(){return null!==Ke.trackingDerivation},n._resetGlobalState=function(){var e=new ze;for(var t in e)-1===Ue.indexOf(t)&&(Ke[t]=e[t]);Ke.allowStateChanges=!Ke.enforceActions},n._startAction=Ne,n.action=Ot,n.autorun=xt,n.comparer=N,n.computed=le,n.configure=function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,c=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ke.pendingReactions.length||Ke.inBatch||Ke.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Ge=!0,He&&(0==--Ve().__mobxInstanceCount&&(Ve().__mobxGlobals=void 0),Ke=new ze)),void 0!==t){"boolean"!=typeof t&&"strict"!==t||l("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:s("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ke.enforceActions=u,Ke.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(Ke.computedRequiresReaction=!!n),void 0!==a&&(Ke.reactionRequiresObservable=!!a),void 0!==c&&(Ke.observableRequiresReaction=!!c,Ke.allowStateReads=!Ke.observableRequiresReaction),void 0!==r&&(Ke.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ke.disableErrorBoundaries=!!o),i&&pt(i)},n.createAtom=T,n.decorate=function(e,t){c(y(t),"Decorators should be a key value map");var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]),c(r.every(function(e){return"function"==typeof e}),"Decorate: expected a decorator function or array of decorator functions for '"+e+"'");var o=Object.getOwnPropertyDescriptor(n,e),i=r.reduce(function(t,r){return r(n,e,t)},o);i&&Object.defineProperty(n,e,i)};for(var o in t)r(o);return e},n.entries=function(e){return Fn(e)?Wt(e).map(function(t){return[t,e[t]]}):Cn(e)?Wt(e).map(function(t){return[t,e.get(t)]}):jn(e)?Array.from(e.entries()):Sn(e)?e.map(function(e,t){return[t,e]}):s("'entries()' can only be used on observable objects, arrays and maps")},n.extendObservable=Nt,n.flow=function(e){1!==arguments.length&&s("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=arguments,o=++Bt,i=Ot(t+" - runid: "+o+" - init",e).apply(this,r),a=void 0,s=new Promise(function(e,r){var s=0;function c(e){var n;a=void 0;try{n=Ot(t+" - runid: "+o+" - yield "+s++,i.next).call(i,e)}catch(e){return r(e)}l(n)}function u(e){var n;a=void 0;try{n=Ot(t+" - runid: "+o+" - yield "+s++,i.throw).call(i,e)}catch(e){return r(e)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(c,u);t.then(l,r)}n=r,c(void 0)});return s.cancel=Ot(t+" - runid: "+o+" - cancel",function(){try{a&&Ut(a);var e=i.return(void 0),t=Promise.resolve(e.value);t.then(p,p),Ut(t),n(new Ft)}catch(e){n(e)}}),s}},n.get=function(e,t){if(Xt(e,t))return Fn(e)?e[t]:Cn(e)?e.get(t):Sn(e)?e[t]:s("'get()' can only be used on observable objects, arrays and maps")},n.getAtom=Un,n.getDebugName=qn,n.getDependencyTree=It,n.getObserverTree=function(e,t){return Lt(Un(e,t))},n.has=Xt,n.intercept=function(e,t,n){return"function"==typeof n?qt(e,t,n):zt(e,t)},n.isAction=St,n.isArrayLike=function(e){return Array.isArray(e)||Sn(e)},n.isBoxedObservable=Le,n.isComputed=Ht,n.isComputedProp=function(e,t){return"string"!=typeof t?s("isComputed expected a property name as second argument"):Vt(e,t)},n.isFlowCancellationError=function(e){return e instanceof Ft},n.isObservable=Kt,n.isObservableArray=Sn,n.isObservableMap=Cn,n.isObservableObject=Fn,n.isObservableProp=function(e,t){return"string"!=typeof t?s("expected a property name as second argument"):Gt(e,t)},n.isObservableSet=jn,n.keys=Wt,n.observable=ie,n.observe=function(e,t,n,r){return"function"==typeof n?Yt(e,t,n,r):Qt(e,t,n)},n.onBecomeObserved=kt,n.onBecomeUnobserved=jt,n.onReactionError=function(e){return Ke.globalReactionErrorHandlers.push(e),function(){var t=Ke.globalReactionErrorHandlers.indexOf(e);t>=0&&Ke.globalReactionErrorHandlers.splice(t,1)}},n.reaction=function(e,t,n){void 0===n&&(n=i),c("function"==typeof e,"First argument to reaction should be a function"),c("object"==typeof n,"Third argument of reactions should be an object");var r,o=n.name||"Reaction@"+a(),s=Ot(o,n.onError?Pt(n.onError,t):t),u=!n.scheduler&&!n.delay,l=Ct(n),f=!0,p=!1,h=n.compareStructural?N.structural:n.equals||N.default,d=new at(o,function(){f||u?y():p||(p=!0,l(y))},n.onError,n.requiresObservable);function y(){if(p=!1,!d.isDisposed){var t=!1;d.track(function(){var n=e(d);t=f||!h(r,n),r=n}),f&&n.fireImmediately&&s(r,d),f||!0!==t||s(r,d),f&&(f=!1)}}return d.schedule(),d.getDisposer()},n.remove=function(e,t){if(Fn(e))e[P].remove(t);else if(Cn(e))e.delete(t);else if(jn(e))e.delete(t);else{if(!Sn(e))return s("'remove()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),c(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}},n.runInAction=function(e,t){var n="string"==typeof e?e:e.name||"<unnamed action>",r="function"==typeof e?e:t;return c("function"==typeof r&&0===r.length,"`runInAction` expects a function without arguments"),"string"==typeof n&&n||s("actions should have valid names, got: '"+n+"'"),Te(n,r,this,void 0)},n.set=Jt,n.spy=mt,n.toJS=function(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=$t),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),en(e,t,n)},n.trace=tn,n.transaction=rn,n.untracked=_e,n.values=function(e){return Fn(e)?Wt(e).map(function(t){return e[t]}):Cn(e)?Wt(e).map(function(t){return e.get(t)}):jn(e)?Array.from(e.values()):Sn(e)?e.slice():s("'values()' can only be used on observable objects, arrays, sets and maps")},n.when=function(e,t,n){return 1===arguments.length||t&&"object"==typeof t?an(e,t):on(e,t,n||{})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],19:[function(e,t,n){(function(e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[];Object.freeze(r);var o={};function i(){return++Me.mobxGuid}function a(e){throw s(!1,e),"X"}function s(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function c(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(o);var u=function(){};function l(e){return null!==e&&"object"==typeof e}function f(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function p(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return l(e)&&!0===e[n]}}function d(e){return e instanceof Map}function y(e){return e instanceof Set}function b(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach(function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)}),Array.from(t)}function v(e){return e&&e.toString?e.toString():new String(e).toString()}function m(e){return null===e?null:"object"==typeof e?""+e:e}var g="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,_=Symbol("mobx administration"),w=function(){function e(e){void 0===e&&(e="Atom@"+i()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.reportObserved=function(){return Fe(this)},e.prototype.reportChanged=function(){Le(),function(e){e.lowestObserverState!==n.IDerivationState.STALE&&(e.lowestObserverState=n.IDerivationState.STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.isTracing!==$.NONE&&Ue(t,e),t.onBecomeStale()),t.dependenciesState=n.IDerivationState.STALE}))}(this),Be()},e.prototype.toString=function(){return this.name},e}(),O=h("Atom",w);function S(e,t,n){void 0===t&&(t=u),void 0===n&&(n=u);var r=new w(e);return t!==u&&nt(r,t),n!==u&&rt(r,n),r}var E={identity:function(e,t){return e===t},structural:function(e,t){return un(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return un(e,t,1)}},x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function C(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function P(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function k(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e}var j=Symbol("mobx did run lazy initializers"),T=Symbol("mobx pending decorators"),N={},M={};function R(e,t){var n=t?N:M;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return I(this),this[e]},set:function(t){I(this),this[e]=t}})}function I(e){var t,n;if(!0!==e[j]){var r=e[T];if(r){p(e,j,!0);var o=k(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=C(o),a=i.next();!a.done;a=i.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function D(e,t){return function(){var n,o=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,T)){var s=r[T];p(r,T,A({},s))}return r[T][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},R(o,e)};return L(arguments)?(n=r,o.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),o)}}function L(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function B(e,t,n){return bt(e)?e:Array.isArray(e)?X.array(e,{name:n}):f(e)?X.object(e,void 0,{name:n}):d(e)?X.map(e,{name:n}):y(e)?X.set(e,{name:n}):e}function F(e){return e}function U(t){s(t);var n=D(!0,function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;$t(e).addObservableProp(n,a,t)}),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function q(e){return null==e?z:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(z);var V=U(B),H=U(function(e,t,n){return null==e?e:rn(e)||Vt(e)||Wt(e)||Qt(e)?e:Array.isArray(e)?X.array(e,{name:n,deep:!1}):f(e)?X.object(e,void 0,{name:n,deep:!1}):d(e)?X.map(e,{name:n,deep:!1}):y(e)?X.set(e,{name:n,deep:!1}):a(!1)}),G=U(F),K=U(function(e,t,n){return un(e,t)?t:e});function W(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?F:B}var J={box:function(e,t){arguments.length>2&&Q("box");var n=q(t);return new Se(e,W(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Q("array");var n=q(t);return Bt(e,W(n),n.name)},map:function(e,t){arguments.length>2&&Q("map");var n=q(t);return new Kt(e,W(n),n.name)},set:function(e,t){arguments.length>2&&Q("set");var n=q(t);return new Xt(e,W(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Q("object");var r=q(n);if(!1===r.proxy)return it({},e,t,r);var o=at(r),i=jt(it({},void 0,void 0,r));return st(i,e,t,o),i},ref:G,shallow:H,deep:V,struct:K},X=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return V.apply(null,arguments);if(bt(e))return e;var r=f(e)?X.object(e,t,n):Array.isArray(e)?X.array(e,t):d(e)?X.map(e,t):y(e)?X.set(e,t):e;if(r!==e)return r;a(!1)};function Q(e){a("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(J).forEach(function(e){return X[e]=J[e]});var Y,$,Z=D(!1,function(e,t,n,r,o){var i=n.get,a=n.set,s=o[0]||{};$t(e).addComputedProp(e,t,A({get:i,set:a,context:e},s))}),ee=Z({equals:E.structural}),te=function(e,t,n){if("string"==typeof t)return Z.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return Z.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new xe(r)};te.struct=ee,(Y=n.IDerivationState||(n.IDerivationState={}))[Y.NOT_TRACKING=-1]="NOT_TRACKING",Y[Y.UP_TO_DATE=0]="UP_TO_DATE",Y[Y.POSSIBLY_STALE=1]="POSSIBLY_STALE",Y[Y.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}($||($={}));var ne=function(e){this.cause=e};function re(e){return e instanceof ne}function oe(e){switch(e.dependenciesState){case n.IDerivationState.UP_TO_DATE:return!1;case n.IDerivationState.NOT_TRACKING:case n.IDerivationState.STALE:return!0;case n.IDerivationState.POSSIBLY_STALE:for(var t=fe(!0),r=ue(),o=e.observing,i=o.length,a=0;a<i;a++){var s=o[a];if(Ae(s)){if(Me.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return le(r),pe(t),!0}if(e.dependenciesState===n.IDerivationState.STALE)return le(r),pe(t),!0}}return he(e),le(r),pe(t),!1}}function ie(e){var t=e.observers.size>0;Me.computationDepth>0&&t&&a(!1),Me.allowStateChanges||!t&&"strict"!==Me.enforceActions||a(!1)}function ae(e,t,r){var o=fe(!0);he(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Me.runId;var i,a=Me.trackingDerivation;if(Me.trackingDerivation=e,!0===Me.disableErrorBoundaries)i=t.call(r);else try{i=t.call(r)}catch(e){i=new ne(e)}return Me.trackingDerivation=a,function(e){for(var t=e.observing,r=e.observing=e.newObserving,o=n.IDerivationState.UP_TO_DATE,i=0,a=e.unboundDepsCount,s=0;s<a;s++)0===(c=r[s]).diffValue&&(c.diffValue=1,i!==s&&(r[i]=c),i++),c.dependenciesState>o&&(o=c.dependenciesState);for(r.length=i,e.newObserving=null,a=t.length;a--;)0===(c=t[a]).diffValue&&Ie(c,e),c.diffValue=0;for(;i--;){var c;1===(c=r[i]).diffValue&&(c.diffValue=0,Re(c,e))}o!==n.IDerivationState.UP_TO_DATE&&(e.dependenciesState=o,e.onBecomeStale())}(e),pe(o),i}function se(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Ie(t[r],e);e.dependenciesState=n.IDerivationState.NOT_TRACKING}function ce(e){var t=ue();try{return e()}finally{le(t)}}function ue(){var e=Me.trackingDerivation;return Me.trackingDerivation=null,e}function le(e){Me.trackingDerivation=e}function fe(e){var t=Me.allowStateReads;return Me.allowStateReads=e,t}function pe(e){Me.allowStateReads=e}function he(e){if(e.dependenciesState!==n.IDerivationState.UP_TO_DATE){e.dependenciesState=n.IDerivationState.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=n.IDerivationState.UP_TO_DATE}}var de=0,ye=1,be=Object.getOwnPropertyDescriptor(function(){},"name");function ve(e,t,n){var r=function(){return me(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function me(e,t,n,r){var o=ge();try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{_e(o)}}function ge(e,t,n){var r=ue();Le();var o={prevDerivation:r,prevAllowStateChanges:we(!0),prevAllowStateReads:fe(!0),notifySpy:!1,startTime:0,actionId:ye++,parentActionId:de};return de=o.actionId,o}function _e(e){de!==e.actionId&&a("invalid action stack. did you forget to finish an action?"),de=e.parentActionId,void 0!==e.error&&(Me.suppressReactionErrors=!0),Oe(e.prevAllowStateChanges),pe(e.prevAllowStateReads),Be(),le(e.prevDerivation),e.notifySpy,Me.suppressReactionErrors=!1}function we(e){var t=Me.allowStateChanges;return Me.allowStateChanges=e,t}function Oe(e){Me.allowStateChanges=e}be&&be.configurable;var Se=function(e){function t(t,n,r,o,a){void 0===r&&(r="ObservableValue@"+i()),void 0===o&&(o=!0),void 0===a&&(a=E.default);var s=e.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=a,s.hasUnreportedChange=!1,s.value=n(t,void 0,r),s}return function(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==Me.UNCHANGED&&this.setNewValue(e)},t.prototype.prepareNewValue=function(e){if(ie(this),Tt(this)){var t=Mt(this,{object:this,type:"update",newValue:e});if(!t)return Me.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Me.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Rt(this)&&Dt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Nt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),It(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(w),Ee=h("ObservableValue",Se),xe=function(){function e(e){this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+i(),this.value=new ne(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=$.NONE,s(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+i(),e.set&&(this.setter=ve(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?E.structural:E.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===n.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=n.IDerivationState.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.dependenciesState=n.IDerivationState.POSSIBLY_STALE,t.isTracing!==$.NONE&&Ue(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.get=function(){this.isComputing&&a("Cycle detected in computation "+this.name+": "+this.derivation),0!==Me.inBatch||0!==this.observers.size||this.keepAlive?(Fe(this),oe(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==n.IDerivationState.STALE&&(e.lowestObserverState=n.IDerivationState.STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.POSSIBLY_STALE?t.dependenciesState=n.IDerivationState.STALE:t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=n.IDerivationState.UP_TO_DATE)}))}(this)):oe(this)&&(this.warnAboutUntrackedRead(),Le(),this.value=this.computeValue(!1),Be());var e=this.value;if(re(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(re(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){s(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else s(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===n.IDerivationState.NOT_TRACKING,r=this.computeValue(!0),o=t||re(e)||re(r)||!this.equals(e,r);return o&&(this.value=r),o},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Me.computationDepth++,e)t=ae(this,this.derivation,this.scope);else if(!0===Me.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ne(e)}return Me.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(se(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return Ze(function(){var i=n.get();if(!r||t){var a=ue();e({type:"update",object:n,newValue:i,oldValue:o}),le(a)}r=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ae=h("ComputedValue",xe),Ce=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Pe=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ke={};function je(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:ke}var Te=!0,Ne=!1,Me=function(){var e=je();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Te=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Pe).version&&(Te=!1),Te?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Pe):(setTimeout(function(){Ne||a("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Pe)}();function Re(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ie(e,t){e.observers.delete(t),0===e.observers.size&&De(e)}function De(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Me.pendingUnobservations.push(e))}function Le(){Me.inBatch++}function Be(){if(0==--Me.inBatch){Ve();for(var e=Me.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof xe&&n.suspend())}Me.pendingUnobservations=[]}}function Fe(e){var t=Me.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Me.inBatch>0&&De(e),!1)}function Ue(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===$.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return e(t,n,r+1)}))}(ct(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof xe?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var ze=function(){function e(e,t,r,o){void 0===e&&(e="Reaction@"+i()),void 0===o&&(o=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+i(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=$.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Me.pendingReactions.push(this),Ve())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Le(),this._isScheduled=!1,oe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Be()}},e.prototype.track=function(e){if(!this.isDisposed){Le(),this._isRunning=!0;var t=ae(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&se(this),re(t)&&this.reportExceptionInDerivation(t.cause),Be()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Me.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Me.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Me.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Le(),se(this),Be()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[_]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),Ot(this,e)},e}(),qe=function(e){return e()};function Ve(){Me.inBatch>0||Me.isRunningReactions||qe(He)}function He(){Me.isRunningReactions=!0;for(var e=Me.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Me.isRunningReactions=!1}var Ge=h("Reaction",ze);function Ke(e){var t=qe;qe=function(n){return e(function(){return t(n)})}}function We(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Je(){a(!1)}function Xe(e){return function(t,n,r){if(r){if(r.value)return{value:ve(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ve(e,o.call(this))}}}return Qe(e).apply(this,arguments)}}function Qe(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){p(this,n,Ye(e,t))}})}}var Ye=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?ve(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?ve(e,t):1===arguments.length&&"string"==typeof e?Xe(e):!0!==r?Xe(t).apply(null,arguments):void p(e,t,ve(e.name||t,n.value,this))};function $e(e,t,n){p(e,t,ve(t,n.bind(e)))}function Ze(e,t){void 0===t&&(t=o);var n,r=t&&t.name||e.name||"Autorun@"+i();if(t.scheduler||t.delay){var a=tt(t),s=!1;n=new ze(r,function(){s||(s=!0,a(function(){s=!1,n.isDisposed||n.track(c)}))},t.onError,t.requiresObservable)}else n=new ze(r,function(){this.track(c)},t.onError,t.requiresObservable);function c(){e(n)}return n.schedule(),n.getDisposer()}Ye.bound=function(e,t,n,r){return!0===r?($e(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return $e(this,t,n.value||n.initializer.call(this)),this[t]},set:Je}:{enumerable:!1,configurable:!0,set:function(e){$e(this,t,e)},get:function(){}}};var et=function(e){return e()};function tt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:et}function nt(e,t,n){return ot("onBecomeObserved",e,t,n)}function rt(e,t,n){return ot("onBecomeUnobserved",e,t,n)}function ot(e,t,n,r){var o="function"==typeof r?on(t,n):on(t),i="function"==typeof r?r:n,s=e+"Listeners";return o[s]?o[s].add(i):o[s]=new Set([i]),"function"!=typeof o[e]?a(!1):function(){var e=o[s];e&&(e.delete(i),0===e.size&&delete o[s])}}function it(e,t,n,r){var o=at(r=q(r));return I(e),$t(e,r.name,o.enhancer),t&&st(e,t,n,o),e}function at(e){return e.defaultDecorator||(!1===e.deep?G:V)}function st(e,t,n,r){var o,i;Le();try{var a=g(t);try{for(var s=C(a),c=s.next();!c.done;c=s.next()){var u=c.value,l=Object.getOwnPropertyDescriptor(t,u),f=(n&&u in n?n[u]:l.get?Z:r)(e,u,l,!0);f&&Object.defineProperty(e,u,f)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}finally{Be()}}function ct(e,t){return ut(on(e,t))}function ut(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n).map(ut)),r}function lt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.size>0}(e)&&(t.observers=Array.from(function(e){return e.observers}(e)).map(lt)),t}var ft=0;function pt(){this.message="FLOW_CANCELLED"}function ht(e){"function"==typeof e.cancel&&e.cancel()}function dt(e,t){if(null==e)return!1;if(void 0!==t){if(!1===rn(e))return!1;if(!e[_].values.has(t))return!1;var n=on(e,t);return Ae(n)}return Ae(e)}function yt(e,t){return null!=e&&(void 0!==t?!!rn(e)&&e[_].values.has(t):rn(e)||!!e[_]||O(e)||Ge(e)||Ae(e))}function bt(e){return 1!==arguments.length&&a(!1),yt(e)}function vt(e){return rn(e)?e[_].getKeys():Wt(e)?Array.from(e.keys()):Qt(e)?Array.from(e.keys()):Vt(e)?e.map(function(e,t){return t}):a(!1)}function mt(e,t,n){if(2!==arguments.length||Qt(e))if(rn(e)){var r=e[_];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Wt(e))e.set(t,n);else if(Qt(e))e.add(t);else{if(!Vt(e))return a(!1);"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),Le(),t>=e.length&&(e.length=t+1),e[t]=n,Be()}else{Le();var o=t;try{for(var i in o)mt(e,i,o[i])}finally{Be()}}}function gt(e,t){return rn(e)?an(e).has(t):Wt(e)?e.has(t):Qt(e)?e.has(t):Vt(e)?t>=0&&t<e.length:a(!1)}pt.prototype=Object.create(Error.prototype);var _t={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function wt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=St(e);if(!r)return a(!1);r.isTracing===$.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?$.BREAK:$.LOG}function St(e){switch(e.length){case 0:return Me.trackingDerivation;case 1:return on(e[0]);case 2:return on(e[0],e[1])}}function Et(e,t){void 0===t&&(t=void 0),Le();try{return e.apply(t)}finally{Be()}}function xt(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!a[_].isDisposed){a();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}},n.timeout)),n.name=n.name||"When@"+i();var o=ve(n.name+"-effect",t),a=Ze(function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())},n);return a}function At(e,t){var n,r=new Promise(function(r,o){var i=xt(e,r,A(A({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}});return r.cancel=n,r}function Ct(e){return e[_]}function Pt(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var kt={has:function(e,t){if(t===_||"constructor"===t||t===j)return!0;var n=Ct(e);return Pt(t)?n.has(t):t in e},get:function(e,t){if(t===_||"constructor"===t||t===j)return e[t];var n=Ct(e),r=n.values.get(t);if(r instanceof w){var o=r.get();return void 0===o&&n.has(t),o}return Pt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!Pt(t)&&(mt(e,t,n),!0)},deleteProperty:function(e,t){return!!Pt(t)&&(Ct(e).remove(t),!0)},ownKeys:function(e){return Ct(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return a("Dynamic observable objects cannot be frozen"),!1}};function jt(e){var t=new Proxy(e,kt);return e[_].proxy=t,t}function Tt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Nt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),c(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function Mt(e,t){var n=ue();try{for(var r=k(e.interceptors||[]),o=0,i=r.length;o<i&&(s(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{le(n)}}function Rt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function It(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),c(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function Dt(e,t){var n=ue(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);le(n)}}var Lt={get:function(e,t){return t===_?e[_]:"length"===t?e[_].getArrayLength():"number"==typeof t?Ut.get.call(e,t):"string"!=typeof t||isNaN(t)?Ut.hasOwnProperty(t)?Ut[t]:e[t]:Ut.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[_].setArrayLength(n),"number"==typeof t&&Ut.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:Ut.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return a("Observable arrays cannot be frozen"),!1}};function Bt(e,t,n,r){void 0===n&&(n="ObservableArray@"+i()),void 0===r&&(r=!1);var o,a,s,c=new Ft(n,t,r);o=c.values,a=_,s=c,Object.defineProperty(o,a,{enumerable:!1,writable:!1,configurable:!0,value:s});var u=new Proxy(c.values,Lt);if(c.proxy=u,e&&e.length){var l=we(!0);c.spliceWithArray(0,0,e),Oe(l)}return u}var Ft=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(e||"ObservableArray@"+i()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Nt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),It(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var o=this;ie(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=r),Tt(this)){var a=Mt(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return r;t=a.removedCount,n=a.added}n=0===n.length?n:n.map(function(e){return o.enhancer(e,void 0)});var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,k([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=Rt(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&Dt(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=Rt(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&Dt(this,i)},e}(),Ut={intercept:function(e){return this[_].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[_].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[_];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[_];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[_].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[_];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[_].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[_];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[_],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[_];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[_],r=n.values;if(e<r.length){ie(n.atom);var o=r[e];if(Tt(n)){var i=Mt(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(e){"function"==typeof Array.prototype[e]&&(Ut[e]=function(){var t=this[_];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(e){"function"==typeof Array.prototype[e]&&(Ut[e]=function(t,n){var r=this,o=this[_];return o.atom.reportObserved(),o.dehanceValues(o.values)[e](function(e,o){return t.call(n,e,o,r)},n)})}),["reduce","reduceRight"].forEach(function(e){Ut[e]=function(t,n){var r=this,o=this[_];return o.atom.reportObserved(),o.values[e](function(e,n,i){return n=o.dehanceValue(n),t(e,n,i,r)},n)}});var zt,qt=h("ObservableArrayAdministration",Ft);function Vt(e){return l(e)&&qt(e[_])}var Ht,Gt={},Kt=function(){function e(e,t,n){if(void 0===t&&(t=B),void 0===n&&(n="ObservableMap@"+i()),this.enhancer=t,this.name=n,this[zt]=Gt,this._keysAtom=S(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Me.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Se(this._has(e),F,this.name+"."+v(e)+"?",!1);this._hasMap.set(e,r),rt(r,function(){return t._hasMap.delete(e)})}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Tt(this)){var r=Mt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(ie(this._keysAtom),Tt(this)&&!(r=Mt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Rt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return Et(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&Dt(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Me.UNCHANGED){var r=Rt(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),r&&Dt(this,o)}},e.prototype._addValue=function(e,t){var n=this;ie(this._keysAtom),Et(function(){var r=new Se(t,n.enhancer,n.name+"."+v(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()});var r=Rt(this);r&&Dt(this,r?{type:"add",object:this,name:e,newValue:t}:null)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return pn({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return pn({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype[(zt=_,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=C(this),i=o.next();!i.done;i=o.next()){var a=P(i.value,2),s=a[0],c=a[1];e.call(t,c,s,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Wt(e)&&(e=e.toJS()),Et(function(){var n=we(!0);try{f(e)?b(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=P(e,2),r=n[0],o=n[1];return t.set(r,o)}):d(e)?(e.constructor!==Map&&a("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&a("Cannot initialize map from "+e)}finally{Oe(n)}}),this},e.prototype.clear=function(){var e=this;Et(function(){ce(function(){var t,n;try{for(var r=C(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.replace=function(e){var t=this;return Et(function(){var n,r,o,i,s=function(e){if(d(e)||Wt(e))return e;if(Array.isArray(e))return new Map(e);if(f(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return a("Cannot convert to map from '"+e+"'")}(e),c=new Map,u=!1;try{for(var l=C(t._data.keys()),p=l.next();!p.done;p=l.next()){var h=p.value;if(!s.has(h))if(t.delete(h))u=!0;else{var y=t._data.get(h);c.set(h,y)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var b=C(s.entries()),v=b.next();!v.done;v=b.next()){var m=P(v.value,2),g=(h=m[0],y=m[1],t._data.has(h));if(t.set(h,y),t._data.has(h)){var _=t._data.get(h);c.set(h,_),g||(u=!0)}}}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}if(!u)if(t._data.size!==c.size)t._keysAtom.reportChanged();else for(var w=t._data.keys(),O=c.keys(),S=w.next(),E=O.next();!S.done;){if(S.value!==E.value){t._keysAtom.reportChanged();break}S=w.next(),E=O.next()}t._data=c}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=C(this),o=r.next();!o.done;o=r.next()){var i=P(o.value,2),a=i[0],s=i[1];n["symbol"==typeof a?a:v(a)]=s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return v(t)+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return It(this,e)},e.prototype.intercept=function(e){return Nt(this,e)},e}(),Wt=h("ObservableMap",Kt),Jt={},Xt=function(){function e(e,t,n){if(void 0===t&&(t=B),void 0===n&&(n="ObservableSet@"+i()),this.name=n,this[Ht]=Jt,this._data=new Set,this._atom=S(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Et(function(){ce(function(){var t,n;try{for(var r=C(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.forEach=function(e,t){var n,r;try{for(var o=C(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(ie(this._atom),Tt(this)&&!(r=Mt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Et(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var n=Rt(this),r=n?{type:"add",object:this,newValue:e}:null;n&&Dt(this,r)}return this},e.prototype.delete=function(e){var t=this;if(Tt(this)&&!(r=Mt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Rt(this),r=n?{type:"delete",object:this,oldValue:e}:null;return Et(function(){t._atom.reportChanged(),t._data.delete(e)}),n&&Dt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return pn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return pn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Qt(e)&&(e=e.toJS()),Et(function(){var n=we(!0);try{Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):y(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&a("Cannot initialize set from "+e)}finally{Oe(n)}}),this},e.prototype.observe=function(e,t){return It(this,e)},e.prototype.intercept=function(e){return Nt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(Ht=_,Symbol.iterator)]=function(){return this.values()},e}(),Qt=h("ObservableSet",Xt),Yt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof xe)r.set(t);else{if(Tt(this)){if(!(i=Mt(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==Me.UNCHANGED){var o=Rt(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),o&&Dt(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Se(r,F,this.name+"."+v(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Tt(this)){var o=Mt(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new Se(t,n,this.name+"."+v(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return Zt[e]||(Zt[e]={configurable:!0,enumerable:!0,get:function(){return this[_].read(e)},set:function(t){this[_].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+v(t),this.values.set(t,new xe(n)),(e===a||(r=e,o=t,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return en[e]||(en[e]={configurable:Me.computedConfigurable,enumerable:!1,get:function(){return tn(this).read(e)},set:function(t){tn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Tt(this)&&!(a=Mt(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Le();var n=Rt(this),r=this.values.get(e),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;n&&Dt(this,a)}finally{Be()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return It(this,e)},e.prototype.intercept=function(e){return Nt(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Rt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Dt(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=C(this.values),o=r.next();!o.done;o=r.next()){var i=P(o.value,2),a=i[0];i[1]instanceof Se&&n.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function $t(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=B),Object.prototype.hasOwnProperty.call(e,_))return e[_];f(e)||(t=(e.constructor.name||"ObservableObject")+"@"+i()),t||(t="ObservableObject@"+i());var r=new Yt(e,new Map,v(t),n);return p(e,_,r),r}var Zt=Object.create(null),en=Object.create(null);function tn(e){return e[_]||(I(e),e[_])}var nn=h("ObservableObjectAdministration",Yt);function rn(e){return!!l(e)&&(I(e),nn(e[_]))}function on(e,t){if("object"==typeof e&&null!==e){if(Vt(e))return void 0!==t&&a(!1),e[_].atom;if(Qt(e))return e[_];if(Wt(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||a(!1),r)}var r;if(I(e),t&&!e[_]&&e[t],rn(e))return t?((r=e[_].values.get(t))||a(!1),r):a(!1);if(O(e)||Ae(e)||Ge(e))return e}else if("function"==typeof e&&Ge(e[_]))return e[_];return a(!1)}function an(e,t){return e||a("Expecting some object"),void 0!==t?an(on(e,t)):O(e)||Ae(e)||Ge(e)?e:Wt(e)||Qt(e)?e:(I(e),e[_]?e[_]:void a(!1))}function sn(e,t){return(void 0!==t?on(e,t):rn(e)||Wt(e)||Qt(e)?an(e):on(e)).name}var cn=Object.prototype.toString;function un(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var s=cn.call(t);if(s!==cn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=ln(t),n=ln(n);var c="[object Array]"===s;if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,l=n.constructor;if(u!==l&&!("function"==typeof u&&u instanceof u&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===t)return i[f]===n;if(o.push(t),i.push(n),c){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],r-1,o,i))return!1}else{var p=Object.keys(t),h=void 0;if(f=p.length,Object.keys(n).length!==f)return!1;for(;f--;)if(!fn(n,h=p[f])||!e(t[h],n[h],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,n)}function ln(e){return Vt(e)?e.slice():d(e)||Wt(e)?Array.from(e.entries()):y(e)||Qt(e)?Array.from(e.entries()):e}function fn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pn(e){return e[Symbol.iterator]=hn,e}function hn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:We,extras:{getDebugName:sn},$mobx:_}),n.$mobx=_,n.FlowCancellationError=pt,n.ObservableMap=Kt,n.ObservableSet=Xt,n.Reaction=ze,n._allowStateChanges=function(e,t){var n,r=we(e);try{n=t()}finally{Oe(r)}return n},n._allowStateChangesInsideComputed=function(e){var t,n=Me.computationDepth;Me.computationDepth=0;try{t=e()}finally{Me.computationDepth=n}return t},n._allowStateReadsEnd=pe,n._allowStateReadsStart=fe,n._endAction=_e,n._getAdministration=an,n._getGlobalState=function(){return Me},n._interceptReads=function(e,t,n){var r;if(Wt(e)||Vt(e)||Ee(e))r=an(e);else{if(!rn(e))return a(!1);if("string"!=typeof t)return a(!1);r=an(e,t)}return void 0!==r.dehancer?a(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})},n._isComputingDerivation=function(){return null!==Me.trackingDerivation},n._resetGlobalState=function(){var e=new Pe;for(var t in e)-1===Ce.indexOf(t)&&(Me[t]=e[t]);Me.allowStateChanges=!Me.enforceActions},n._startAction=ge,n.action=Ye,n.autorun=Ze,n.comparer=E,n.computed=te,n.configure=function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,s=e.reactionRequiresObservable,c=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Me.pendingReactions.length||Me.inBatch||Me.isRunningReactions)&&a("isolateGlobalState should be called before MobX is running any reactions"),Ne=!0,Te&&(0==--je().__mobxInstanceCount&&(je().__mobxGlobals=void 0),Me=new Pe)),void 0!==t){var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:a("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Me.enforceActions=u,Me.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(Me.computedRequiresReaction=!!n),void 0!==s&&(Me.reactionRequiresObservable=!!s),void 0!==c&&(Me.observableRequiresReaction=!!c,Me.allowStateReads=!Me.observableRequiresReaction),void 0!==r&&(Me.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Me.disableErrorBoundaries=!!o),i&&Ke(i)},n.createAtom=S,n.decorate=function(e,t){var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var o=Object.getOwnPropertyDescriptor(n,e),i=r.reduce(function(t,r){return r(n,e,t)},o);i&&Object.defineProperty(n,e,i)};for(var o in t)r(o);return e},n.entries=function(e){return rn(e)?vt(e).map(function(t){return[t,e[t]]}):Wt(e)?vt(e).map(function(t){return[t,e.get(t)]}):Qt(e)?Array.from(e.entries()):Vt(e)?e.map(function(e,t){return[t,e]}):a(!1)},n.extendObservable=it,n.flow=function(e){1!==arguments.length&&a("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=arguments,o=++ft,i=Ye(t+" - runid: "+o+" - init",e).apply(this,r),a=void 0,s=new Promise(function(e,r){var s=0;function c(e){var n;a=void 0;try{n=Ye(t+" - runid: "+o+" - yield "+s++,i.next).call(i,e)}catch(e){return r(e)}l(n)}function u(e){var n;a=void 0;try{n=Ye(t+" - runid: "+o+" - yield "+s++,i.throw).call(i,e)}catch(e){return r(e)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(c,u);t.then(l,r)}n=r,c(void 0)});return s.cancel=Ye(t+" - runid: "+o+" - cancel",function(){try{a&&ht(a);var e=i.return(void 0),t=Promise.resolve(e.value);t.then(u,u),ht(t),n(new pt)}catch(e){n(e)}}),s}},n.get=function(e,t){if(gt(e,t))return rn(e)?e[t]:Wt(e)?e.get(t):Vt(e)?e[t]:a(!1)},n.getAtom=on,n.getDebugName=sn,n.getDependencyTree=ct,n.getObserverTree=function(e,t){return lt(on(e,t))},n.has=gt,n.intercept=function(e,t,n){return"function"==typeof n?function(e,t,n){return an(e,t).intercept(n)}(e,t,n):function(e,t){return an(e).intercept(t)}(e,t)},n.isAction=function(e){return"function"==typeof e&&!0===e.isMobxAction},n.isArrayLike=function(e){return Array.isArray(e)||Vt(e)},n.isBoxedObservable=Ee,n.isComputed=function(e){return arguments.length>1?a(!1):dt(e)},n.isComputedProp=function(e,t){return"string"!=typeof t?a(!1):dt(e,t)},n.isFlowCancellationError=function(e){return e instanceof pt},n.isObservable=bt,n.isObservableArray=Vt,n.isObservableMap=Wt,n.isObservableObject=rn,n.isObservableProp=function(e,t){return"string"!=typeof t?a(!1):yt(e,t)},n.isObservableSet=Qt,n.keys=vt,n.observable=X,n.observe=function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return an(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return an(e).observe(t,n)}(e,t,n)},n.onBecomeObserved=nt,n.onBecomeUnobserved=rt,n.onReactionError=function(e){return Me.globalReactionErrorHandlers.push(e),function(){var t=Me.globalReactionErrorHandlers.indexOf(e);t>=0&&Me.globalReactionErrorHandlers.splice(t,1)}},n.reaction=function(e,t,n){void 0===n&&(n=o);var r,a,s,c=n.name||"Reaction@"+i(),u=Ye(c,n.onError?(r=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,f=tt(n),p=!0,h=!1,d=n.compareStructural?E.structural:n.equals||E.default,y=new ze(c,function(){p||l?b():h||(h=!0,f(b))},n.onError,n.requiresObservable);function b(){if(h=!1,!y.isDisposed){var t=!1;y.track(function(){var n=e(y);t=p||!d(s,n),s=n}),p&&n.fireImmediately&&u(s,y),p||!0!==t||u(s,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()},n.remove=function(e,t){if(rn(e))e[_].remove(t);else if(Wt(e))e.delete(t);else if(Qt(e))e.delete(t);else{if(!Vt(e))return a(!1);"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}},n.runInAction=function(e,t){return"string"==typeof e||e.name,me(0,"function"==typeof e?e:t,this,void 0)},n.set=mt,n.spy=We,n.toJS=function(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=_t),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!bt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ee(t))return e(t.get(),n,r);if(bt(t)&&vt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(Vt(t)||Array.isArray(t)){var o=wt(r,t,[],n),i=t.map(function(t){return e(t,n,r)});o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(Qt(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var c=wt(r,t,new Set,n);return t.forEach(function(t){c.add(e(t,n,r))}),c}var u=wt(r,t,[],n);return t.forEach(function(t){u.push(e(t,n,r))}),u}if(Wt(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=wt(r,t,new Map,n);return t.forEach(function(t,o){l.set(o,e(t,n,r))}),l}var f=wt(r,t,{},n);return t.forEach(function(t,o){f[o]=e(t,n,r)}),f}var p=wt(r,t,{},n);return b(t).forEach(function(o){p[o]=e(t[o],n,r)}),p}(e,t,n)},n.trace=Ot,n.transaction=Et,n.untracked=ce,n.values=function(e){return rn(e)?vt(e).map(function(t){return e[t]}):Wt(e)?vt(e).map(function(t){return e.get(t)}):Qt(e)?Array.from(e.values()):Vt(e)?e.slice():a(!1)},n.when=function(e,t,n){return 1===arguments.length||t&&"object"==typeof t?At(e,t):xt(e,t,n||{})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],20:[function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i=e("./utils"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}}},a)},{"./utils":24}],21:[function(e,t,n){"use strict";var r=e("./stringify"),o=e("./parse"),i=e("./formats");t.exports={formats:i,parse:o,stringify:r}},{"./formats":20,"./parse":22,"./stringify":23}],22:[function(e,t,n){"use strict";var r=e("./utils"),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t){var n,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=l.split(t.delimiter,f),h=-1,d=t.charset;if(t.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?d="utf-8":"utf8=%26%2310003%3B"===p[n]&&(d="iso-8859-1"),h=n,n=p.length);for(n=0;n<p.length;++n)if(n!==h){var y,b,v=p[n],m=v.indexOf("]="),g=-1===m?v.indexOf("="):m+1;-1===g?(y=t.decoder(v,a.decoder,d,"key"),b=t.strictNullHandling?null:""):(y=t.decoder(v.slice(0,g),a.decoder,d,"key"),b=r.maybeMap(c(v.slice(g+1),t),function(e){return t.decoder(e,a.decoder,d,"value")})),b&&t.interpretNumericEntities&&"iso-8859-1"===d&&(b=s(b)),v.indexOf("[]=")>-1&&(b=i(b)?[b]:b),o.call(u,y)?u[y]=r.combine(u[y],b):u[y]=b}return u},l=function(e,t,n,r){for(var o=r?t:c(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:a[u]=o:a={0:o}}o=a}return o},f=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),c=s?i.slice(0,s.index):i,u=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var f=0;n.depth>0&&null!==(s=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+i.slice(s.index)+"]"),l(u,t,n,r)}},p=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};t.exports=function(e,t){var n=p(t);if(""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var o="string"==typeof e?u(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],l=f(c,o[c],n,"string"==typeof e);i=r.merge(i,l,n)}return r.compact(i)}},{"./utils":24}],23:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./formats"),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,s(t)?t:[t])},l=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},d=function e(t,n,o,i,a,c,l,f,d,y,b,v,m){var g=t;if("function"==typeof l?g=l(n,g):g instanceof Date?g=y(g):"comma"===o&&s(g)&&(g=r.maybeMap(g,function(e){return e instanceof Date?y(e):e}).join(",")),null===g){if(i)return c&&!v?c(n,p.encoder,m,"key"):n;g=""}if(h(g)||r.isBuffer(g))return c?[b(v?n:c(n,p.encoder,m,"key"))+"="+b(c(g,p.encoder,m,"value"))]:[b(n)+"="+b(String(g))];var _,w=[];if(void 0===g)return w;if(s(l))_=l;else{var O=Object.keys(g);_=f?O.sort(f):O}for(var S=0;S<_.length;++S){var E=_[S],x=g[E];if(!a||null!==x){var A=s(g)?"function"==typeof o?o(n,E):n:n+(d?"."+E:"["+E+"]");u(w,e(x,A,o,i,a,c,l,f,d,y,b,v,m))}}return w},y=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],a=p.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};t.exports=function(e,t){var n,r=e,o=y(t);"function"==typeof o.filter?r=(0,o.filter)("",r):s(o.filter)&&(n=o.filter);var i,c=[];if("object"!=typeof r||null===r)return"";i=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var l=a[i];n||(n=Object.keys(r)),o.sort&&n.sort(o.sort);for(var f=0;f<n.length;++f){var p=n[f];o.skipNulls&&null===r[p]||u(c,d(r[p],p,l,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var h=c.join(o.delimiter),b=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),h.length>0?b+h:""}},{"./formats":20,"./utils":24}],24:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};t.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],s=Object.keys(i),c=0;c<s.length;++c){var u=s[c],l=i[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:i,prop:u}),n.push(l))}return a(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=r.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,i)),o(t)&&o(n)?(n.forEach(function(n,o){if(r.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,i):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var a=n[o];return r.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t},a)}}},{}],25:[function(e,t,n){(function(e,t){var n;(function(n){(function(r){var o="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(n);function a(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===o.Reflect?o.Reflect=n:i=a(o.Reflect,i),function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return G(Object.create(null))}:s?function(){return G({__proto__:null})}:function(){return G({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,d=new(f||"function"!=typeof WeakMap?function(){var e=16,t=u.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=i(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(u.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function y(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],o=r(t);if(!A(o)&&!C(o)){if(!L(o))throw new TypeError;t=o}}return t}function b(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=e[o],a=i(t,n,r);if(!A(a)&&!C(a)){if(!k(a))throw new TypeError;r=a}}return r}function v(e,t,n){var r=d.get(e);if(A(r)){if(!n)return;r=new p,d.set(e,r)}var o=r.get(t);if(A(o)){if(!n)return;o=new p,r.set(t,o)}return o}function m(e,t,n){var r=g(e,t,n);if(r)return!0;var o=H(t);return!C(o)&&m(e,o,n)}function g(e,t,n){var r=v(t,n,!1);return!A(r)&&N(r.has(e))}function _(e,t,n){var r=g(e,t,n);if(r)return w(e,t,n);var o=H(t);return C(o)?void 0:_(e,o,n)}function w(e,t,n){var r=v(t,n,!1);if(!A(r))return r.get(e)}function O(e,t,n,r){var o=v(n,r,!0);o.set(e,t)}function S(e,t){var n=E(e,t),r=H(e);if(null===r)return n;var o=S(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new h,a=[],s=0,c=n;s<c.length;s++){var u=c[s],l=i.has(u);l||(i.add(u),a.push(u))}for(var f=0,p=o;f<p.length;f++){var u=p[f],l=i.has(u);l||(i.add(u),a.push(u))}return a}function E(e,t){var n=[],r=v(e,t,!1);if(A(r))return n;for(var o=r.keys(),i=U(o),a=0;;){var s=q(i);if(!s)return n.length=a,n;var c=z(s);try{n[a]=c}catch(e){try{V(i)}finally{throw e}}a++}}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function A(e){return void 0===e}function C(e){return null===e}function P(e){return"symbol"==typeof e}function k(e){return"object"==typeof e?null!==e:"function"==typeof e}function j(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=F(e,o);if(void 0!==r){var i=r.call(e,n);if(k(i))throw new TypeError;return i}return T(e,"default"===n?"number":n)}function T(e,t){if("string"===t){var n=e.toString;if(D(n)){var r=n.call(e);if(!k(r))return r}var o=e.valueOf;if(D(o)){var r=o.call(e);if(!k(r))return r}}else{var o=e.valueOf;if(D(o)){var r=o.call(e);if(!k(r))return r}var i=e.toString;if(D(i)){var r=i.call(e);if(!k(r))return r}}throw new TypeError}function N(e){return!!e}function M(e){return""+e}function R(e){var t=j(e,3);return P(t)?t:M(t)}function I(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function D(e){return"function"==typeof e}function L(e){return"function"==typeof e}function B(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}function F(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!D(n))throw new TypeError;return n}}function U(e){var t=F(e,i);if(!D(t))throw new TypeError;var n=t.call(e);if(!k(n))throw new TypeError;return n}function z(e){return e.value}function q(e){var t=e.next();return!t.done&&t}function V(e){var t=e.return;t&&t.call(e)}function H(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o?t:o===e?t:o}function G(e){return e.__=void 0,delete e.__,e}t("decorate",function(e,t,n,r){if(A(n)){if(!I(e))throw new TypeError;if(!L(t))throw new TypeError;return y(e,t)}if(!I(e))throw new TypeError;if(!k(t))throw new TypeError;if(!k(r)&&!A(r)&&!C(r))throw new TypeError;return C(r)&&(r=void 0),n=R(n),b(e,t,n,r)}),t("metadata",function(e,t){return function(n,r){if(!k(n))throw new TypeError;if(!A(r)&&!B(r))throw new TypeError;O(e,t,n,r)}}),t("defineMetadata",function(e,t,n,r){if(!k(n))throw new TypeError;A(r)||(r=R(r));return O(e,t,n,r)}),t("hasMetadata",function(e,t,n){if(!k(t))throw new TypeError;A(n)||(n=R(n));return m(e,t,n)}),t("hasOwnMetadata",function(e,t,n){if(!k(t))throw new TypeError;A(n)||(n=R(n));return g(e,t,n)}),t("getMetadata",function(e,t,n){if(!k(t))throw new TypeError;A(n)||(n=R(n));return _(e,t,n)}),t("getOwnMetadata",function(e,t,n){if(!k(t))throw new TypeError;A(n)||(n=R(n));return w(e,t,n)}),t("getMetadataKeys",function(e,t){if(!k(e))throw new TypeError;A(t)||(t=R(t));return S(e,t)}),t("getOwnMetadataKeys",function(e,t){if(!k(e))throw new TypeError;A(t)||(t=R(t));return E(e,t)}),t("deleteMetadata",function(e,t,n){if(!k(t))throw new TypeError;A(n)||(n=R(n));var r=v(t,n,!1);if(A(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=d.get(t);return o.delete(n),o.size>0||(d.delete(t),!0)})}(i)})()})(n||(n={}))}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./internal/Observable");n.Observable=r.Observable;var o=e("./internal/observable/ConnectableObservable");n.ConnectableObservable=o.ConnectableObservable;var i=e("./internal/operators/groupBy");n.GroupedObservable=i.GroupedObservable;var a=e("./internal/symbol/observable");n.observable=a.observable;var s=e("./internal/Subject");n.Subject=s.Subject;var c=e("./internal/BehaviorSubject");n.BehaviorSubject=c.BehaviorSubject;var u=e("./internal/ReplaySubject");n.ReplaySubject=u.ReplaySubject;var l=e("./internal/AsyncSubject");n.AsyncSubject=l.AsyncSubject;var f=e("./internal/scheduler/asap");n.asap=f.asap,n.asapScheduler=f.asapScheduler;var p=e("./internal/scheduler/async");n.async=p.async,n.asyncScheduler=p.asyncScheduler;var h=e("./internal/scheduler/queue");n.queue=h.queue,n.queueScheduler=h.queueScheduler;var d=e("./internal/scheduler/animationFrame");n.animationFrame=d.animationFrame,n.animationFrameScheduler=d.animationFrameScheduler;var y=e("./internal/scheduler/VirtualTimeScheduler");n.VirtualTimeScheduler=y.VirtualTimeScheduler,n.VirtualAction=y.VirtualAction;var b=e("./internal/Scheduler");n.Scheduler=b.Scheduler;var v=e("./internal/Subscription");n.Subscription=v.Subscription;var m=e("./internal/Subscriber");n.Subscriber=m.Subscriber;var g=e("./internal/Notification");n.Notification=g.Notification,n.NotificationKind=g.NotificationKind;var _=e("./internal/util/pipe");n.pipe=_.pipe;var w=e("./internal/util/noop");n.noop=w.noop;var O=e("./internal/util/identity");n.identity=O.identity;var S=e("./internal/util/isObservable");n.isObservable=S.isObservable;var E=e("./internal/util/ArgumentOutOfRangeError");n.ArgumentOutOfRangeError=E.ArgumentOutOfRangeError;var x=e("./internal/util/EmptyError");n.EmptyError=x.EmptyError;var A=e("./internal/util/ObjectUnsubscribedError");n.ObjectUnsubscribedError=A.ObjectUnsubscribedError;var C=e("./internal/util/UnsubscriptionError");n.UnsubscriptionError=C.UnsubscriptionError;var P=e("./internal/util/TimeoutError");n.TimeoutError=P.TimeoutError;var k=e("./internal/observable/bindCallback");n.bindCallback=k.bindCallback;var j=e("./internal/observable/bindNodeCallback");n.bindNodeCallback=j.bindNodeCallback;var T=e("./internal/observable/combineLatest");n.combineLatest=T.combineLatest;var N=e("./internal/observable/concat");n.concat=N.concat;var M=e("./internal/observable/defer");n.defer=M.defer;var R=e("./internal/observable/empty");n.empty=R.empty;var I=e("./internal/observable/forkJoin");n.forkJoin=I.forkJoin;var D=e("./internal/observable/from");n.from=D.from;var L=e("./internal/observable/fromEvent");n.fromEvent=L.fromEvent;var B=e("./internal/observable/fromEventPattern");n.fromEventPattern=B.fromEventPattern;var F=e("./internal/observable/generate");n.generate=F.generate;var U=e("./internal/observable/iif");n.iif=U.iif;var z=e("./internal/observable/interval");n.interval=z.interval;var q=e("./internal/observable/merge");n.merge=q.merge;var V=e("./internal/observable/never");n.never=V.never;var H=e("./internal/observable/of");n.of=H.of;var G=e("./internal/observable/onErrorResumeNext");n.onErrorResumeNext=G.onErrorResumeNext;var K=e("./internal/observable/pairs");n.pairs=K.pairs;var W=e("./internal/observable/partition");n.partition=W.partition;var J=e("./internal/observable/race");n.race=J.race;var X=e("./internal/observable/range");n.range=X.range;var Q=e("./internal/observable/throwError");n.throwError=Q.throwError;var Y=e("./internal/observable/timer");n.timer=Y.timer;var $=e("./internal/observable/using");n.using=$.using;var Z=e("./internal/observable/zip");n.zip=Z.zip;var ee=e("./internal/scheduled/scheduled");n.scheduled=ee.scheduled;var te=e("./internal/observable/empty");n.EMPTY=te.EMPTY;var ne=e("./internal/observable/never");n.NEVER=ne.NEVER;var re=e("./internal/config");n.config=re.config},{"./internal/AsyncSubject":27,"./internal/BehaviorSubject":28,"./internal/Notification":30,"./internal/Observable":31,"./internal/ReplaySubject":34,"./internal/Scheduler":35,"./internal/Subject":36,"./internal/Subscriber":38,"./internal/Subscription":39,"./internal/config":40,"./internal/observable/ConnectableObservable":42,"./internal/observable/bindCallback":43,"./internal/observable/bindNodeCallback":44,"./internal/observable/combineLatest":45,"./internal/observable/concat":46,"./internal/observable/defer":47,"./internal/observable/empty":48,"./internal/observable/forkJoin":49,"./internal/observable/from":50,"./internal/observable/fromEvent":52,"./internal/observable/fromEventPattern":53,"./internal/observable/generate":54,"./internal/observable/iif":55,"./internal/observable/interval":56,"./internal/observable/merge":57,"./internal/observable/never":58,"./internal/observable/of":59,"./internal/observable/onErrorResumeNext":60,"./internal/observable/pairs":61,"./internal/observable/partition":62,"./internal/observable/race":63,"./internal/observable/range":64,"./internal/observable/throwError":65,"./internal/observable/timer":66,"./internal/observable/using":67,"./internal/observable/zip":68,"./internal/operators/groupBy":71,"./internal/scheduled/scheduled":81,"./internal/scheduler/VirtualTimeScheduler":91,"./internal/scheduler/animationFrame":92,"./internal/scheduler/asap":93,"./internal/scheduler/async":94,"./internal/scheduler/queue":95,"./internal/symbol/observable":97,"./internal/util/ArgumentOutOfRangeError":99,"./internal/util/EmptyError":100,"./internal/util/ObjectUnsubscribedError":102,"./internal/util/TimeoutError":103,"./internal/util/UnsubscriptionError":104,"./internal/util/identity":107,"./internal/util/isObservable":115,"./internal/util/noop":118,"./internal/util/pipe":120}],27:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Subject"),i=e("./Subscription"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),i.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.Subject);n.AsyncSubject=a},{"./Subject":36,"./Subscription":39}],28:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Subject"),i=e("./util/ObjectUnsubscribedError"),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);n.BehaviorSubject=a},{"./Subject":36,"./util/ObjectUnsubscribedError":102}],29:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(e("./Subscriber").Subscriber);n.InnerSubscriber=o},{"./Subscriber":38}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./observable/empty"),o=e("./observable/of"),i=e("./observable/throwError");(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(n.NotificationKind||(n.NotificationKind={}));var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return o.of(this.value);case"E":return i.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();n.Notification=a},{"./observable/empty":48,"./observable/of":59,"./observable/throwError":65}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util/canReportError"),o=e("./util/toSubscriber"),i=e("./symbol/observable"),a=e("./util/pipe"),s=e("./config"),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||s.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),r.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))(function(t,r){var o;o=n.subscribe(function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}n.Observable=c},{"./config":40,"./symbol/observable":97,"./util/canReportError":105,"./util/pipe":120,"./util/toSubscriber":127}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./config"),o=e("./util/hostReportError");n.empty={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},{"./config":40,"./util/hostReportError":106}],33:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(e("./Subscriber").Subscriber);n.OuterSubscriber=o},{"./Subscriber":38}],34:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Subject"),i=e("./scheduler/queue"),a=e("./Subscription"),s=e("./operators/observeOn"),c=e("./util/ObjectUnsubscribedError"),u=e("./SubjectSubscription"),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=a.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),o&&e.add(e=new s.ObserveOnSubscriber(e,o)),n)for(var l=0;l<i&&!e.closed;l++)e.next(r[l]);else for(l=0;l<i&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(o.Subject);n.ReplaySubject=l;var f=function(){return function(e,t){this.time=e,this.value=t}}()},{"./Subject":36,"./SubjectSubscription":37,"./Subscription":39,"./operators/observeOn":75,"./scheduler/queue":95,"./util/ObjectUnsubscribedError":102}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();n.Scheduler=r},{}],36:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Observable"),i=e("./Subscriber"),a=e("./Subscription"),s=e("./util/ObjectUnsubscribedError"),c=e("./SubjectSubscription"),u=e("../internal/symbol/rxSubscriber"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r(t,e),t}(i.Subscriber);n.SubjectSubscriber=l;var f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype[u.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.Observable);n.Subject=f;var p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);n.AnonymousSubject=p},{"../internal/symbol/rxSubscriber":98,"./Observable":31,"./SubjectSubscription":37,"./Subscriber":38,"./Subscription":39,"./util/ObjectUnsubscribedError":102}],37:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(e("./Subscription").Subscription);n.SubjectSubscription=o},{"./Subscription":39}],38:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./util/isFunction"),i=e("./Observer"),a=e("./Subscription"),s=e("../internal/symbol/rxSubscriber"),c=e("./config"),u=e("./util/hostReportError"),l=function(e){function t(n,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.empty;break;case 1:if(!n){a.destination=i.empty;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,o)}return a}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.Subscription);n.Subscriber=l;var f=function(e){function t(t,n,r,a){var s,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return o.isFunction(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.empty&&(u=Object.create(n),o.isFunction(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=s,c._error=r,c._complete=a,c}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw e;u.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(u.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l);n.SafeSubscriber=f},{"../internal/symbol/rxSubscriber":98,"./Observer":32,"./Subscription":39,"./config":40,"./util/hostReportError":106,"./util/isFunction":110}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util/isArray"),o=e("./util/isObject"),i=e("./util/isFunction"),a=e("./util/UnsubscriptionError"),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,u=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f){n[f].remove(this)}if(i.isFunction(u)){s&&(this._unsubscribe=void 0);try{u.call(this)}catch(e){t=e instanceof a.UnsubscriptionError?c(e.errors):[e]}}if(r.isArray(l)){f=-1;for(var p=l.length;++f<p;){var h=l[f];if(o.isObject(h))try{h.unsubscribe()}catch(e){t=t||[],e instanceof a.UnsubscriptionError?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new a.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)},[])}n.Subscription=s},{"./util/UnsubscriptionError":104,"./util/isArray":108,"./util/isFunction":110,"./util/isObject":114}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=!1;n.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},{}],41:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Subscriber"),i=e("./Observable"),a=e("./util/subscribeTo"),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(o.Subscriber);n.SimpleInnerSubscriber=s;var c=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o.Subscriber);n.ComplexInnerSubscriber=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(o.Subscriber);n.SimpleOuterSubscriber=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o.Subscriber);n.ComplexOuterSubscriber=l,n.innerSubscribe=function(e,t){if(!t.closed)return e instanceof i.Observable?e.subscribe(t):a.subscribeTo(e)(t)}},{"./Observable":31,"./Subscriber":38,"./util/subscribeTo":121}],42:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Subject"),i=e("../Observable"),a=e("../Subscriber"),s=e("../Subscription"),c=e("../operators/refCount"),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.Subscription).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.Subscription.EMPTY)),e},t.prototype.refCount=function(){return c.refCount()(this)},t}(i.Observable);n.ConnectableObservable=u,n.connectableObservableDescriptor=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();var l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.SubjectSubscriber),f=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new f(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o}}(),function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(a.Subscriber))},{"../Observable":31,"../Subject":36,"../Subscriber":38,"../Subscription":39,"../operators/refCount":76}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../AsyncSubject"),i=e("../operators/map"),a=e("../util/canReportError"),s=e("../util/isArray"),c=e("../util/isScheduler");function u(e){var t=this,n=e.args,r=e.subscriber,i=e.params,a=i.callbackFunc,s=i.context,c=i.scheduler,u=i.subject;if(!u){u=i.subject=new o.AsyncSubject;try{a.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(c.schedule(l,0,{value:r,subject:u}))}]))}catch(e){u.error(e)}}this.add(u.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}n.bindCallback=function e(t,n,l){if(n){if(!c.isScheduler(n))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,l).apply(void 0,r).pipe(i.map(function(e){return s.isArray(e)?n.apply(void 0,e):n(e)}))};l=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i,s=this,c={context:s,subject:i,callbackFunc:t,scheduler:l};return new r.Observable(function(n){if(l){var r={args:e,subscriber:n,params:c};return l.schedule(u,0,r)}if(!i){i=new o.AsyncSubject;try{t.apply(s,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){a.canReportError(i)?i.error(e):console.warn(e)}}return i.subscribe(n)})}}},{"../AsyncSubject":27,"../Observable":31,"../operators/map":72,"../util/canReportError":105,"../util/isArray":108,"../util/isScheduler":117}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../AsyncSubject"),i=e("../operators/map"),a=e("../util/canReportError"),s=e("../util/isScheduler"),c=e("../util/isArray");function u(e){var t=this,n=e.params,r=e.subscriber,i=e.context,a=n.callbackFunc,s=n.args,c=n.scheduler,u=n.subject;if(!u){u=n.subject=new o.AsyncSubject;try{a.apply(i,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(c.schedule(f,0,{err:r,subject:u}));else{var o=e.length<=1?e[0]:e;t.add(c.schedule(l,0,{value:o,subject:u}))}}]))}catch(e){this.add(c.schedule(f,0,{err:e,subject:u}))}}this.add(u.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function f(e){var t=e.err;e.subject.error(t)}n.bindNodeCallback=function e(t,n,l){if(n){if(!s.isScheduler(n))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,l).apply(void 0,r).pipe(i.map(function(e){return c.isArray(e)?n.apply(void 0,e):n(e)}))};l=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={subject:void 0,args:e,callbackFunc:t,scheduler:l,context:this};return new r.Observable(function(n){var r=i.context,s=i.subject;if(l)return l.schedule(u,0,{params:i,subscriber:n,context:r});if(!s){s=i.subject=new o.AsyncSubject;try{t.apply(r,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){a.canReportError(s)?s.error(e):console.warn(e)}}return s.subscribe(n)})}}},{"../AsyncSubject":27,"../Observable":31,"../operators/map":72,"../util/canReportError":105,"../util/isArray":108,"../util/isScheduler":117}],45:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/isScheduler"),i=e("../util/isArray"),a=e("../OuterSubscriber"),s=e("../util/subscribeToResult"),c=e("./fromArray"),u={};n.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return o.isScheduler(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),c.fromArray(e,r).lift(new l(n))};var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}();n.CombineLatestOperator=l;var f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(s.subscribeToResult(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n],i=this.toRespond?o===u?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.OuterSubscriber);n.CombineLatestSubscriber=f},{"../OuterSubscriber":33,"../util/isArray":108,"../util/isScheduler":117,"../util/subscribeToResult":126,"./fromArray":51}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./of"),o=e("../operators/concatAll");n.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.concatAll()(r.of.apply(void 0,e))}},{"../operators/concatAll":69,"./of":59}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("./from"),i=e("./empty");n.defer=function(e){return new r.Observable(function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?o.from(n):i.empty()).subscribe(t)})}},{"../Observable":31,"./empty":48,"./from":50}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable");function o(e){return new r.Observable(function(t){return e.schedule(function(){return t.complete()})})}n.EMPTY=new r.Observable(function(e){return e.complete()}),n.empty=function(e){return e?o(e):n.EMPTY}},{"../Observable":31}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/isArray"),i=e("../operators/map"),a=e("../util/isObject"),s=e("./from");function c(e,t){return new r.Observable(function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,a=0,c=function(c){var u=s.from(e[c]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,a++),o[c]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&l||(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=o[n],e},{}):o),n.complete())}}))},u=0;u<r;u++)c(u);else n.complete()})}n.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(o.isArray(n))return c(n,null);if(a.isObject(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return c(r.map(function(e){return n[e]}),r)}}if("function"==typeof e[e.length-1]){var s=e.pop();return c(e=1===e.length&&o.isArray(e[0])?e[0]:e,null).pipe(i.map(function(e){return s.apply(void 0,e)}))}return c(e,null)}},{"../Observable":31,"../operators/map":72,"../util/isArray":108,"../util/isObject":114,"./from":50}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/subscribeTo"),i=e("../scheduled/scheduled");n.from=function(e,t){return t?i.scheduled(e,t):e instanceof r.Observable?e:new r.Observable(o.subscribeTo(e))}},{"../Observable":31,"../scheduled/scheduled":81,"../util/subscribeTo":121}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/subscribeToArray"),i=e("../scheduled/scheduleArray");n.fromArray=function(e,t){return t?i.scheduleArray(e,t):new r.Observable(o.subscribeToArray(e))}},{"../Observable":31,"../scheduled/scheduleArray":77,"../util/subscribeToArray":122}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/isArray"),i=e("../util/isFunction"),a=e("../operators/map");Object.prototype.toString;function s(e,t,n,r,o){var i;if(l(e)){var a=e;e.addEventListener(t,n,o),i=function(){return a.removeEventListener(t,n,o)}}else if(u(e)){var f=e;e.on(t,n),i=function(){return f.off(t,n)}}else if(c(e)){var p=e;e.addListener(t,n),i=function(){return p.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var h=0,d=e.length;h<d;h++)s(e[h],t,n,r,o)}r.add(i)}function c(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function u(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function l(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}n.fromEvent=function e(t,n,c,u){return i.isFunction(c)&&(u=c,c=void 0),u?e(t,n,c).pipe(a.map(function(e){return o.isArray(e)?u.apply(void 0,e):u(e)})):new r.Observable(function(e){s(t,n,function(t){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(t)},e,c)})}},{"../Observable":31,"../operators/map":72,"../util/isArray":108,"../util/isFunction":110}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/isArray"),i=e("../util/isFunction"),a=e("../operators/map");n.fromEventPattern=function e(t,n,s){return s?e(t,n).pipe(a.map(function(e){return o.isArray(e)?s.apply(void 0,e):s(e)})):new r.Observable(function(e){var r,o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)};try{r=t(o)}catch(t){return void e.error(t)}if(i.isFunction(n))return function(){return n(o,r)}})}},{"../Observable":31,"../operators/map":72,"../util/isArray":108,"../util/isFunction":110}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/identity"),i=e("../util/isScheduler");function a(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}n.generate=function(e,t,n,s,c){var u,l;if(1==arguments.length){var f=e;l=f.initialState,t=f.condition,n=f.iterate,u=f.resultSelector||o.identity,c=f.scheduler}else void 0===s||i.isScheduler(s)?(l=e,u=o.identity,c=s):(l=e,u=s);return new r.Observable(function(e){var r=l;if(c)return c.schedule(a,0,{subscriber:e,iterate:n,condition:t,resultSelector:u,state:r});for(;;){if(t){var o=void 0;try{o=t(r)}catch(t){return void e.error(t)}if(!o){e.complete();break}}var i=void 0;try{i=u(r)}catch(t){return void e.error(t)}if(e.next(i),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}})}},{"../Observable":31,"../util/identity":107,"../util/isScheduler":117}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./defer"),o=e("./empty");n.iif=function(e,t,n){return void 0===t&&(t=o.EMPTY),void 0===n&&(n=o.EMPTY),r.defer(function(){return e()?t:n})}},{"./defer":47,"./empty":48}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../scheduler/async"),i=e("../util/isNumeric");function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}n.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=o.async),(!i.isNumeric(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=o.async),new r.Observable(function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n})}},{"../Observable":31,"../scheduler/async":94,"../util/isNumeric":113}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/isScheduler"),i=e("../operators/mergeAll"),a=e("./fromArray");n.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,c=e[e.length-1];return o.isScheduler(c)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.Observable?e[0]:i.mergeAll(n)(a.fromArray(e,s))}},{"../Observable":31,"../operators/mergeAll":73,"../util/isScheduler":117,"./fromArray":51}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../util/noop");n.NEVER=new r.Observable(o.noop),n.never=function(){return n.NEVER}},{"../Observable":31,"../util/noop":118}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../util/isScheduler"),o=e("./fromArray"),i=e("../scheduled/scheduleArray");n.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return r.isScheduler(n)?(e.pop(),i.scheduleArray(e,n)):o.fromArray(e)}},{"../scheduled/scheduleArray":77,"../util/isScheduler":117,"./fromArray":51}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("./from"),i=e("../util/isArray"),a=e("./empty");n.onErrorResumeNext=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return a.EMPTY;var s=t[0],c=t.slice(1);return 1===t.length&&i.isArray(s)?e.apply(void 0,s):new r.Observable(function(t){var n=function(){return t.add(e.apply(void 0,c).subscribe(t))};return o.from(s).subscribe({next:function(e){t.next(e)},error:n,complete:n})})}},{"../Observable":31,"../util/isArray":108,"./empty":48,"./from":50}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../Subscription");function i(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription,i=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,i[a]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}n.pairs=function(e,t){return t?new r.Observable(function(n){var r=Object.keys(e),a=new o.Subscription;return a.add(t.schedule(i,0,{keys:r,index:0,subscriber:n,subscription:a,obj:e})),a}):new r.Observable(function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()})},n.dispatch=i},{"../Observable":31,"../Subscription":39}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../util/not"),o=e("../util/subscribeTo"),i=e("../operators/filter"),a=e("../Observable");n.partition=function(e,t,n){return[i.filter(t,n)(new a.Observable(o.subscribeTo(e))),i.filter(r.not(t,n))(new a.Observable(o.subscribeTo(e)))]}},{"../Observable":31,"../operators/filter":70,"../util/not":119,"../util/subscribeTo":121}],63:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/isArray"),i=e("./fromArray"),a=e("../OuterSubscriber"),s=e("../util/subscribeToResult");n.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!o.isArray(e[0]))return e[0];e=e[0]}return i.fromArray(e,void 0).lift(new c)};var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}();n.RaceOperator=c;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],o=s.subscribeToResult(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},t}(a.OuterSubscriber);n.RaceSubscriber=u},{"../OuterSubscriber":33,"../util/isArray":108,"../util/subscribeToResult":126,"./fromArray":51}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable");function o(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}n.range=function(e,t,n){return void 0===e&&(e=0),new r.Observable(function(r){void 0===t&&(t=e,e=0);var i=0,a=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(a++),r.closed)break}})},n.dispatch=o},{"../Observable":31}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable");function o(e){var t=e.error;e.subscriber.error(t)}n.throwError=function(e,t){return t?new r.Observable(function(n){return t.schedule(o,0,{error:e,subscriber:n})}):new r.Observable(function(t){return t.error(e)})}},{"../Observable":31}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../scheduler/async"),i=e("../util/isNumeric"),a=e("../util/isScheduler");function s(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}n.timer=function(e,t,n){void 0===e&&(e=0);var c=-1;return i.isNumeric(t)?c=Number(t)<1?1:Number(t):a.isScheduler(t)&&(n=t),a.isScheduler(n)||(n=o.async),new r.Observable(function(t){var r=i.isNumeric(e)?e:+e-n.now();return n.schedule(s,r,{index:0,period:c,subscriber:t})})}},{"../Observable":31,"../scheduler/async":94,"../util/isNumeric":113,"../util/isScheduler":117}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("./from"),i=e("./empty");n.using=function(e,t){return new r.Observable(function(n){var r,a;try{r=e()}catch(e){return void n.error(e)}try{a=t(r)}catch(e){return void n.error(e)}var s=(a?o.from(a):i.EMPTY).subscribe(n);return function(){s.unsubscribe(),r&&r.unsubscribe()}})}},{"../Observable":31,"./empty":48,"./from":50}],68:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./fromArray"),i=e("../util/isArray"),a=e("../Subscriber"),s=e("../../internal/symbol/iterator"),c=e("../innerSubscribe");n.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),o.fromArray(e,void 0).lift(new u(n))};var u=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.resultSelector))},e}();n.ZipOperator=u;var l=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var o=e.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:void 0,o}return r(t,e),t.prototype._next=function(e){var t=this.iterators;i.isArray(e)?t.push(new p(e)):"function"==typeof e[s.iterator]?t.push(new f(e[s.iterator]())):t.push(new h(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return}var o=!1,i=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(o=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.Subscriber);n.ZipSubscriber=l;var f=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),h=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return r(t,e),t.prototype[s.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return c.innerSubscribe(this.observable,new c.SimpleInnerSubscriber(this))},t}(c.SimpleOuterSubscriber)},{"../../internal/symbol/iterator":96,"../Subscriber":38,"../innerSubscribe":41,"../util/isArray":108,"./fromArray":51}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./mergeAll");n.concatAll=function(){return r.mergeAll(1)}},{"./mergeAll":73}],70:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Subscriber");n.filter=function(e,t){return function(n){return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},{"../Subscriber":38}],71:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Subscriber"),i=e("../Subscription"),a=e("../Observable"),s=e("../Subject");n.groupBy=function(e,t,n,r){return function(o){return o.lift(new c(e,t,n,r))}};var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),u=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=o,a.subjectSelector=i,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!o){o=this.subjectSelector?this.subjectSelector():new s.Subject,n.set(t,o);var i=new f(t,o,this);if(this.destination.next(i),this.durationSelector){var a=void 0;try{a=this.durationSelector(new f(t,o))}catch(e){return void this.error(e)}this.add(a.subscribe(new l(t,o,this)))}}o.closed||o.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(o.Subscriber),l=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.key=t,o.group=n,o.parent=r,o}return r(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(o.Subscriber),f=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return r(t,e),t.prototype._subscribe=function(e){var t=new i.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(a.Observable);n.GroupedObservable=f;var p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.Subscription)},{"../Observable":31,"../Subject":36,"../Subscriber":38,"../Subscription":39}],72:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Subscriber");n.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();n.MapOperator=i;var a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},{"../Subscriber":38}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./mergeMap"),o=e("../util/identity");n.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),r.mergeMap(o.identity,e)}},{"../util/identity":107,"./mergeMap":74}],74:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./map"),i=e("../observable/from"),a=e("../innerSubscribe");function s(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(s(function(n,r){return i.from(e(n,r)).pipe(o.map(function(e,o){return t(n,e,r,o)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}n.mergeMap=s;var c=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}();n.MergeMapOperator=c;var u=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.SimpleInnerSubscriber(this),n=this.destination;n.add(t);var r=a.innerSubscribe(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.SimpleOuterSubscriber);n.MergeMapSubscriber=u,n.flatMap=s},{"../innerSubscribe":41,"../observable/from":50,"./map":72}],75:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Subscriber"),i=e("../Notification");n.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))},e}();n.ObserveOnOperator=a;var s=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return r(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete()),this.unsubscribe()},t}(o.Subscriber);n.ObserveOnSubscriber=s;var c=function(){return function(e,t){this.notification=e,this.destination=t}}();n.ObserveOnMessage=c},{"../Notification":30,"../Subscriber":38}],76:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Subscriber");n.refCount=function(){return function(e){return e.lift(new i(e))}};var i=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(o.Subscriber)},{"../Subscriber":38}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../Subscription");n.scheduleArray=function(e,t){return new r.Observable(function(n){var r=new o.Subscription,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},{"../Observable":31,"../Subscription":39}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../Subscription"),i=e("../symbol/iterator");n.scheduleIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable(function(n){var r,a=new o.Subscription;return a.add(function(){r&&"function"==typeof r.return&&r.return()}),a.add(t.schedule(function(){r=e[i.iterator](),a.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),a})}},{"../Observable":31,"../Subscription":39,"../symbol/iterator":96}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../Subscription"),i=e("../symbol/observable");n.scheduleObservable=function(e,t){return new r.Observable(function(n){var r=new o.Subscription;return r.add(t.schedule(function(){var o=e[i.observable]();r.add(o.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}},{"../Observable":31,"../Subscription":39,"../symbol/observable":97}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable"),o=e("../Subscription");n.schedulePromise=function(e,t){return new r.Observable(function(n){var r=new o.Subscription;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}},{"../Observable":31,"../Subscription":39}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./scheduleObservable"),o=e("./schedulePromise"),i=e("./scheduleArray"),a=e("./scheduleIterable"),s=e("../util/isInteropObservable"),c=e("../util/isPromise"),u=e("../util/isArrayLike"),l=e("../util/isIterable");n.scheduled=function(e,t){if(null!=e){if(s.isInteropObservable(e))return r.scheduleObservable(e,t);if(c.isPromise(e))return o.schedulePromise(e,t);if(u.isArrayLike(e))return i.scheduleArray(e,t);if(l.isIterable(e)||"string"==typeof e)return a.scheduleIterable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},{"../util/isArrayLike":109,"../util/isInteropObservable":111,"../util/isIterable":112,"../util/isPromise":116,"./scheduleArray":77,"./scheduleIterable":78,"./scheduleObservable":79,"./schedulePromise":80}],82:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(e("../Subscription").Subscription);n.Action=o},{"../Subscription":39}],83:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(e("./AsyncAction").AsyncAction);n.AnimationFrameAction=o},{"./AsyncAction":87}],84:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(e("./AsyncScheduler").AsyncScheduler);n.AnimationFrameScheduler=o},{"./AsyncScheduler":88}],85:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/Immediate"),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=o.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(o.Immediate.clearImmediate(n),t.scheduled=void 0)},t}(e("./AsyncAction").AsyncAction);n.AsapAction=i},{"../util/Immediate":101,"./AsyncAction":87}],86:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(e("./AsyncScheduler").AsyncScheduler);n.AsapScheduler=o},{"./AsyncScheduler":88}],87:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(e("./Action").Action);n.AsyncAction=o},{"./Action":82}],88:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Scheduler"),i=function(e){function t(n,r){void 0===r&&(r=o.Scheduler.now);var i=e.call(this,n,function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler);n.AsyncScheduler=i},{"../Scheduler":35}],89:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(e("./AsyncAction").AsyncAction);n.QueueAction=o},{"./AsyncAction":87}],90:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(e("./AsyncScheduler").AsyncScheduler);n.QueueScheduler=o},{"./AsyncScheduler":88}],91:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./AsyncAction"),i=function(e){function t(t,n){void 0===t&&(t=a),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(e("./AsyncScheduler").AsyncScheduler);n.VirtualTimeScheduler=i;var a=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return r(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);n.VirtualAction=a},{"./AsyncAction":87,"./AsyncScheduler":88}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./AnimationFrameAction"),o=e("./AnimationFrameScheduler");n.animationFrameScheduler=new o.AnimationFrameScheduler(r.AnimationFrameAction),n.animationFrame=n.animationFrameScheduler},{"./AnimationFrameAction":83,"./AnimationFrameScheduler":84}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./AsapAction"),o=e("./AsapScheduler");n.asapScheduler=new o.AsapScheduler(r.AsapAction),n.asap=n.asapScheduler},{"./AsapAction":85,"./AsapScheduler":86}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./AsyncAction"),o=e("./AsyncScheduler");n.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),n.async=n.asyncScheduler},{"./AsyncAction":87,"./AsyncScheduler":88}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./QueueAction"),o=e("./QueueScheduler");n.queueScheduler=new o.QueueScheduler(r.QueueAction),n.queue=n.queueScheduler},{"./QueueAction":89,"./QueueScheduler":90}],96:[function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(n,"__esModule",{value:!0}),n.getSymbolIterator=r,n.iterator=r(),n.$$iterator=n.iterator},{}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),n.$$rxSubscriber=n.rxSubscriber},{}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();n.ArgumentOutOfRangeError=r},{}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();n.EmptyError=r},{}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=1,o=Promise.resolve(),i={};function a(e){return e in i&&(delete i[e],!0)}n.Immediate={setImmediate:function(e){var t=r++;return i[t]=!0,o.then(function(){return a(t)&&e()}),t},clearImmediate:function(e){a(e)}},n.TestTools={pending:function(){return Object.keys(i).length}}},{}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}();n.ObjectUnsubscribedError=r},{}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}();n.TimeoutError=r},{}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();n.UnsubscriptionError=r},{}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Subscriber");n.canReportError=function(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.Subscriber?o:null}return!0}},{"../Subscriber":38}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hostReportError=function(e){setTimeout(function(){throw e},0)}},{}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.identity=function(e){return e}},{}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},{}],110:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isFunction=function(e){return"function"==typeof e}},{}],111:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../symbol/observable");n.isInteropObservable=function(e){return e&&"function"==typeof e[r.observable]}},{"../symbol/observable":97}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../symbol/iterator");n.isIterable=function(e){return e&&"function"==typeof e[r.iterator]}},{"../symbol/iterator":96}],113:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./isArray");n.isNumeric=function(e){return!r.isArray(e)&&e-parseFloat(e)+1>=0}},{"./isArray":108}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isObject=function(e){return null!==e&&"object"==typeof e}},{}],115:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Observable");n.isObservable=function(e){return!!e&&(e instanceof r.Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},{"../Observable":31}],116:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noop=function(){}},{}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.not=function(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}},{}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./identity");function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}n.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},n.pipeFromArray=o},{"./identity":107}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./subscribeToArray"),o=e("./subscribeToPromise"),i=e("./subscribeToIterable"),a=e("./subscribeToObservable"),s=e("./isArrayLike"),c=e("./isPromise"),u=e("./isObject"),l=e("../symbol/iterator"),f=e("../symbol/observable");n.subscribeTo=function(e){if(e&&"function"==typeof e[f.observable])return a.subscribeToObservable(e);if(s.isArrayLike(e))return r.subscribeToArray(e);if(c.isPromise(e))return o.subscribeToPromise(e);if(e&&"function"==typeof e[l.iterator])return i.subscribeToIterable(e);var t=u.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"../symbol/iterator":96,"../symbol/observable":97,"./isArrayLike":109,"./isObject":114,"./isPromise":116,"./subscribeToArray":122,"./subscribeToIterable":123,"./subscribeToObservable":124,"./subscribeToPromise":125}],122:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToArray=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},{}],123:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../symbol/iterator");n.subscribeToIterable=function(e){return function(t){for(var n=e[r.iterator]();;){var o=void 0;try{o=n.next()}catch(e){return t.error(e),t}if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},{"../symbol/iterator":96}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../symbol/observable");n.subscribeToObservable=function(e){return function(t){var n=e[r.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},{"../symbol/observable":97}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./hostReportError");n.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.hostReportError),t}}},{"./hostReportError":106}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../InnerSubscriber"),o=e("./subscribeTo"),i=e("../Observable");n.subscribeToResult=function(e,t,n,a,s){if(void 0===s&&(s=new r.InnerSubscriber(e,n,a)),!s.closed)return t instanceof i.Observable?t.subscribe(s):o.subscribeTo(t)(s)}},{"../InnerSubscriber":29,"../Observable":31,"./subscribeTo":121}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Subscriber"),o=e("../symbol/rxSubscriber"),i=e("../Observer");n.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(i.empty)}},{"../Observer":32,"../Subscriber":38,"../symbol/rxSubscriber":98}],EquationSymbol:[function(e,t,n){"use strict";cc._RF.push(t,"fec30D+BA5Eu7kSVi2laOr9","EquationSymbol"),Object.defineProperty(n,"__esModule",{value:!0}),n.EquationSymbol=void 0;var r=function(){return function(){}}();n.EquationSymbol=r,cc._RF.pop()},{}],answerManager:[function(e,t,n){"use strict";cc._RF.push(t,"7432fGQYaZNUIHw4TvPEISR","answerManager");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AnswerManager=void 0;var a=e("@byted-dino/core"),s=e("@byted-dino/surface"),c=e("../../types/calculation"),u=e("../../common/helper"),l=e("../../common/constant"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceClearAnswer=!1,t.requireClearAnswer=!1,t.answerInputs={},t}return r(t,e),t.prototype.onOpen=function(){a.globalEventBus.listen(l.GlobalEvent.onAnswerPressed,this.handleAnswerPressed,this)},Object.defineProperty(t.prototype,"isAnswerInputEmpty",{get:function(){return 0===this.activeAnswerInput.content.trim().length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userAnswer",{get:function(){switch(this.answerSymbol.structure){case c.EquationSymbolStructure.oneline:return this.answerSymbol.oneline.content;case c.EquationSymbolStructure.fraction:var e=this.answerSymbol,t=e.numerator.content,n=e.denominator.content;return u.tokenToTex({numerator:t,denominator:n})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserAnswerValid",{get:function(){switch(this.answerSymbol.structure){case c.EquationSymbolStructure.oneline:return""!==this.answerSymbol.oneline.content.trim();case c.EquationSymbolStructure.fraction:var e=this.answerSymbol,t=e.numerator,n=e.denominator;return""!==t.content.trim()&&""!==n.content.trim()}},enumerable:!1,configurable:!0}),t.prototype.switchAnswerSymbolStructure=function(){return this.answerSymbol.structure===c.EquationSymbolStructure.oneline?this.createEmptyFractionAnswerSymbol():this.createEmptyOneLineAnswerSymbol()},t.prototype.createEmptyFractionAnswerSymbol=function(){var e={id:u.newAnswerId(),themeStyle:c.AnswerThemeStyle.input,content:""},t={id:u.newAnswerId(),themeStyle:c.AnswerThemeStyle.display,content:""},n={type:c.EquationSymbolType.answer,structure:c.EquationSymbolStructure.fraction,numerator:e,denominator:t};return this.answerInputs[e.id]=e,this.answerInputs[t.id]=t,this.activeAnswerInputId=e.id,this.answerSymbol=n,n},t.prototype.createEmptyOneLineAnswerSymbol=function(){var e=u.newAnswerId(),t={type:c.EquationSymbolType.answer,structure:c.EquationSymbolStructure.oneline,oneline:{id:e,themeStyle:c.AnswerThemeStyle.input,content:""}};return this.answerInputs[e]=t.oneline,this.activeAnswerInputId=e,this.answerSymbol=t,t},t.prototype.setThemeStyle=function(e){switch(this.answerSymbol.structure){case c.EquationSymbolStructure.oneline:this.answerSymbol.oneline.themeStyle=e;break;case c.EquationSymbolStructure.fraction:this.answerSymbol.numerator.themeStyle=e,this.answerSymbol.denominator.themeStyle=e;break;default:throw new Error("Unknow symbol structure: "+JSON.stringify(this.answerSymbol))}},t.prototype.appendToAnswer=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.needClearInput?(this.requireClearAnswer=!1,this.activeAnswerInput.content=e):this.activeAnswerInput.content.length<l.AnswerLengthLimit[l.ItemType.WrittenItem]&&(this.activeAnswerInput.content+=e),this.activeAnswerInput.themeStyle=c.AnswerThemeStyle.input,[4,this.dispatch(l.CustomEvent.answerChange)];case 1:return t.sent(),[2]}})})},t.prototype.deleteLastCharFromAnswer=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return(e=this.activeAnswerInput.content)&&(this.activeAnswerInput.content=e.slice(0,-1)),this.needClearInput&&(this.requireClearAnswer=!1),this.activeAnswerInput.themeStyle=c.AnswerThemeStyle.input,[4,this.dispatch(l.CustomEvent.answerChange)];case 1:return t.sent(),[2]}})})},Object.defineProperty(t.prototype,"activeAnswerInput",{get:function(){return this.answerInputs[this.activeAnswerInputId]},enumerable:!1,configurable:!0}),t.prototype.handleAnswerPressed=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return t=e.data.answerId,this.activeAnswerInput.themeStyle=c.AnswerThemeStyle.display,this.activeAnswerInputId=t,this.activeAnswerInput.themeStyle=c.AnswerThemeStyle.input,[4,this.dispatch(l.CustomEvent.answerChange)];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"needClearInput",{get:function(){return this.requireClearAnswer||this.forceClearAnswer},enumerable:!1,configurable:!0}),t}(s.Component);n.AnswerManager=f,cc._RF.pop()},{"../../common/constant":"constant","../../common/helper":"helper","../../types/calculation":"calculation","@byted-dino/core":8,"@byted-dino/surface":11}],answerTimer:[function(e,t,n){"use strict";cc._RF.push(t,"3d353F99dpKI69z9DLNs1Jt","answerTimer");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AnswerTimer=void 0;var a=e("@byted-dino/surface"),s=e("../../audioManager"),c=e("../../common/constant"),u=e("../../api/api"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onOpen=function(e,t){this.registerViewPauseHandler(),this.registerViewResumeHandler()},Object.defineProperty(t.prototype,"timeLimit",{get:function(){var e=this.isOralItem?c.ItemType.OralItem:c.ItemType.WrittenItem;return c.AnswerTimeLimit[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countdownFrom",{get:function(){return this.isOralItem?3:5},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCanceled",{get:function(){return this.timer.canceled},enumerable:!1,configurable:!0}),t.prototype.start=function(e){return o(this,void 0,void 0,function(){var t=this;return i(this,function(n){switch(n.label){case 0:return[4,this.stop()];case 1:return n.sent(),this.startTime=Date.now(),this.isOralItem=e,this.timer=this.startCountdown(this.timeLimit,this.countdownFrom,function(){return t.handleTimeout()}),[2]}})})},t.prototype.stop=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.timer?[4,this.timer.cancel()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.pause=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.stop()];case 1:return e.sent(),this.remainingMilliseconds=1e3*this.timeLimit-Date.now()+this.startTime,[2]}})})},t.prototype.resume=function(){return o(this,void 0,void 0,function(){var e,t=this;return i(this,function(n){return e=Math.ceil(this.remainingMilliseconds/1e3),this.timer=this.startCountdown(e,this.countdownFrom,function(){return t.handleTimeout()}),[2]})})},Object.defineProperty(t.prototype,"timeCost",{get:function(){return Math.round((Date.now()-this.startTime)/1e3)},enumerable:!1,configurable:!0}),t.prototype.handleTimeout=function(){this.dispatch(c.CustomEvent.answerTimeout)},t.prototype.registerViewPauseHandler=function(){var e=this;u.onViewPause(function(){s.AudioManager.instance.pauseAll(),e.timer.canceled?e.remainingMilliseconds=0:(e.stop(),e.remainingMilliseconds=1e3*e.timeLimit-Date.now()+e.startTime)})},t.prototype.registerViewResumeHandler=function(){var e=this;u.onViewResume(function(){s.AudioManager.instance.resumeAll(),e.remainingMilliseconds>0&&e.resume()})},t}(a.Component);n.AnswerTimer=l,cc._RF.pop()},{"../../api/api":"api","../../audioManager":"audioManager","../../common/constant":"constant","@byted-dino/surface":11}],answer:[function(e,t,n){"use strict";cc._RF.push(t,"96fbdbqwvZF+Y5fSmZcU1X1","answer");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/constant"),c=e("../../../types/calculation"),u=e("@byted-dino/core"),l=e("./equationSymbolComponent"),f=e("../equationLayoutHelper"),p=e("../../../common/helper"),h=cc._decorator.ccclass,d=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.spriteFrames={border_red:null,border_green:null,border_blue:null,bg_blue:null},n.colorMap=((t={})[c.AnswerThemeStyle.wrong]=s.Color.ThemeRed,t[c.AnswerThemeStyle.correct]=s.Color.ThemeGreen,t[c.AnswerThemeStyle.input]=s.Color.ThemeBlue,t[c.AnswerThemeStyle.display]=s.Color.ThemeBlue,t),n._content="",n}var n;return r(t,e),n=t,t.prototype.onLoad=function(){this.registerEventHandlers()},t.prototype.onDestroy=function(){this.unregisterEventHandlers()},t.prototype.registerEventHandlers=function(){var e,t;null===(e=this.node)||void 0===e||e.on(cc.Node.EventType.TOUCH_END,this.handleTouchEnd,this),null===(t=this.node)||void 0===t||t.on(cc.Node.EventType.TOUCH_CANCEL,this.handleTouchEnd,this)},t.prototype.unregisterEventHandlers=function(){var e,t;null===(e=this.node)||void 0===e||e.off(cc.Node.EventType.TOUCH_END,this.handleTouchEnd,this),null===(t=this.node)||void 0===t||t.off(cc.Node.EventType.TOUCH_CANCEL,this.handleTouchEnd,this)},t.prototype.render=function(e,t){return i(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return this.answerId=e.oneline.id,this.content=e.oneline.content,[4,this.setThemeStyle(e.oneline.themeStyle)];case 1:return r.sent(),(n=this.answerLabel.getComponent("cc.Label")).fontSize=t,n.lineHeight=t,[2]}})})},t.prototype.setThemeStyle=function(e){return i(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return[4,this.loadSpriteFrames()];case 1:return n.sent(),(t=this.spriteFrameMap[e])&&(this.answerBorder.getComponent("cc.Sprite").spriteFrame=t,this.answerLabel.color=this.colorMap[e].clone()),[2]}})})},t.estimateWidth=function(e,t){var r=f.estimateTextWidth(e.oneline.content,t);return p.max(n.MinContentWidth,r)+2*n.HorizontalPadding},t.estimateHeight=function(e,t){return f.estimateTextHeight(e.oneline.content,t)+2*n.VerticalPadding},t.prototype.handleTouchEnd=function(){var e={answerId:this.answerId};u.globalEventBus.dispatch(s.GlobalEvent.onAnswerPressed,e)},t.prototype.loadSpriteFrames=function(){return i(this,void 0,void 0,function(){var e=this;return a(this,function(t){switch(t.label){case 0:return[4,Promise.all(Object.keys(this.spriteFrames).map(function(t){return e.loadSpriteFrame(t)}))];case 1:return t.sent(),[2]}})})},t.prototype.loadSpriteFrame=function(e){return i(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return this.spriteFrames[e]?[3,2]:(t=this.spriteFrames,n=e,[4,this.loadCocosSpriteFrame("texture/border/"+e)]);case 1:t[n]=r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.loadCocosSpriteFrame=function(e){return new Promise(function(t,n){cc.loader.loadRes(e,cc.SpriteFrame,function(e,r){e?n(e):t(r)})})},Object.defineProperty(t.prototype,"spriteFrameMap",{get:function(){var e,t=this.spriteFrames,n=t.border_red,r=t.border_green,o=t.border_blue,i=t.bg_blue;return(e={})[c.AnswerThemeStyle.wrong]=n,e[c.AnswerThemeStyle.correct]=r,e[c.AnswerThemeStyle.input]=o,e[c.AnswerThemeStyle.display]=i,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"answerLabel",{get:function(){return this.node.getChildByName("answerLabel")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"answerBorder",{get:function(){return this.answerLabel.getChildByName("answerBorder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this.answerLabel.getComponent("cc.Label").string=e||"   ",this._content=e},enumerable:!1,configurable:!0}),t.componentName="Answer",t.prefabName="answer",t.MinContentWidth=30,t.HorizontalPadding=12,t.VerticalPadding=4,t=n=o([h("Answer")],t)}(l.EquationSymbolComponent);n.default=d,cc._RF.pop()},{"../../../common/constant":"constant","../../../common/helper":"helper","../../../types/calculation":"calculation","../equationLayoutHelper":"equationLayoutHelper","./equationSymbolComponent":"equationSymbolComponent","@byted-dino/core":8}],api:[function(e,t,n){"use strict";cc._RF.push(t,"83b22GOJmtIBp1+AEJLq90q","api");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.playTts=n.quitApp=n.onViewResume=n.onViewPause=n.onAsrResult=n.stopAsr=n.hideAsrView=n.startAsr=n.showNavigationBar=n.hideStatusBar=n.hideNavigationBar=n.finishPractice=n.startPractice=n.loadRecommendItems=void 0;var i=e("../common/fetch/fetch"),a=e("../common/bridge/common"),s=o(e("../config/config")),c=e("../common/client/client");i.Fetch.init({baseURL:s.default.api_url}),n.loadRecommendItems=function(e){return i.Fetch.post("/h_cloud/study_guide/sync_practice/recommend_item/load",e)},n.startPractice=function(e){return i.Fetch.post("/h_cloud/study_guide/sync_practice/exercise/start",e)},n.finishPractice=function(e){return i.Fetch.post("/h_cloud/study_guide/sync_practice/exercise/finish",e)},n.hideNavigationBar=function(){c.client.isLamp&&a.callNative("view.navigationBar",{visible:!1})},n.hideStatusBar=function(){c.client.isDali&&a.callNative("view.navigationBar",{hide:!0,rightBtns:[]})},n.showNavigationBar=function(){c.client.isLamp&&a.callNative("view.navigationBar",{visible:!0})},n.startAsr=function(){a.callNative("app.startASR",{domain:"oral_calculation",only_priority:!0})},n.hideAsrView=function(){c.client.isLamp&&a.callNative("app.setASRViewVisible",{visible:!1})},n.stopAsr=function(){a.callNative("app.stopASR")},n.onAsrResult=function(e){return a.bindEvent("app.onASRTextReceived",e)},n.onViewPause=function(e){return a.bindEvent("view.pause",e)},n.onViewResume=function(e){return a.bindEvent("view.resume",e)},n.quitApp=function(){a.callNative("view.back")},n.playTts=function(e){r(r({},{operate:"start",interceptWhenExist:!0,excludeOtherAudio:!0,playCallback:"app.ttsend"}),e),a.callNative("app.player",e)},cc._RF.pop()},{"../common/bridge/common":"common","../common/client/client":"client","../common/fetch/fetch":"fetch","../config/config":"config"}],app:[function(e,t,n){"use strict";cc._RF.push(t,"25bd9A+qg1DrZ2x6MJPHsgF","app");var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("@byted-dino/advanced"),s=e("@byted-dino/engine-cocos"),c=i(e("./scene/home")),u=i(e("./component/dialog/prompt")),l=e("./audioManager");a.Dino.start({first:c.default,onInitialized:function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,l.AudioManager.instance.loadAllAudio()];case 1:return e.sent(),[2]}})})},adapterDataBundles:[{adapter:new s.CocosAdapter({generateStartScript:!0}),promptClass:u.default,maskDataBundle:{modal:{color:0,alpha:.5}}}]}),cc._RF.pop()},{"./audioManager":"audioManager","./component/dialog/prompt":"prompt","./scene/home":"home","@byted-dino/advanced":4,"@byted-dino/engine-cocos":10}],audioManager:[function(e,t,n){"use strict";cc._RF.push(t,"99554v6/hJCFKtUv1ZTnzTY","audioManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.AudioManager=n.AudioEnum=void 0;n.AudioEnum=cc.Enum({blow:"blow",correct:"correct",countdown:"countdown",countdown_5:"countdown_5",wrong:"wrong",win:"win",fail:"fail",dali_attack:"dali_attack",battle:"battle",click:"click"});var r=function(){function e(){this.audioSourceMap={}}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.loadAudio=function(e,t){var n=this;return new Promise(function(r,o){cc.assetManager.resources.load("sound/"+t,function(t,i){t?o():(n.audioSourceMap[e]=i,r())})})},e.prototype.play=function(e,t){void 0===t&&(t=!1),console.log("play",e,t);var n=this.audioSourceMap[e];if(n){var r=cc.audioEngine.play(n,t,1);return{stop:function(){cc.audioEngine.stop(r)},pause:function(){cc.audioEngine.pause(r)},resume:function(){cc.audioEngine.resume(r)}}}},e.prototype.stopAll=function(){cc.audioEngine.stopAll()},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},e.prototype.loadAllAudio=function(){var e=[];for(var t in n.AudioEnum)n.AudioEnum.hasOwnProperty(t)&&e.push(this.loadAudio(t,n.AudioEnum[t]));return Promise.all(e)},e}();n.AudioManager=r,cc._RF.pop()},{}],"bridge.types":[function(e,t,n){"use strict";cc._RF.push(t,"08fc9DzwrhEoYBYBDwmbNaA","bridge.types"),Object.defineProperty(n,"__esModule",{value:!0}),n.BizType=n.SharePlatform=n.NativeDataKey=n.ReportEventType=n.NativeCode=void 0,function(e){e[e.FAIL=0]="FAIL",e[e.SUCCESS=1]="SUCCESS",e[e.NO_PERMISSION=-1]="NO_PERMISSION",e[e.NO_METHOD=-2]="NO_METHOD",e[e.PARAM_ERROR=-3]="PARAM_ERROR"}(n.NativeCode||(n.NativeCode={})),n.ReportEventType||(n.ReportEventType={}),function(e){e.USER_INFO="userInfo",e.REQUEST_HEADER="requestHeader"}(n.NativeDataKey||(n.NativeDataKey={})),function(e){e.qq="qq",e.wechat="wechat",e.wechatmoment="wechatmoment",e.qqzone="qqzone",e.savelocal="savelocal"}(n.SharePlatform||(n.SharePlatform={})),function(e){e.TO_NATIVE_PAGE="to_native_page",e.CLICK_EXERCISE_LIST_ITEM="click_exercise_list_item",e.FEEDBACK_IS_HELPFUL="feedback_is_helpful",e.FEEDBACK_OCR_INCORRECT="feedback_ocr_incorrect",e.SELECT_SIMILAR_QUESTION_INDEX="select_similar_question_index",e.CLICK_FEED_DETAIL_RECOMMEND="click_feed_detail_recommend",e.CLICK_EXPLAIN_QUESTION_VIDEO="click_explain_question_video",e.CLICK_INTERACTION_QUESTION_VIDEO="click_interaction_question_video",e.CLICK_INTERACTION_QUESTION_VIDEO_WITH_FEEDBACK="click_interaction_question_video_with_feedback",e.CLICK_AI_SOLVE_VIDEO="click_ai_solve_video"}(n.BizType||(n.BizType={})),cc._RF.pop()},{}],"bridge.utils":[function(e,t,n){"use strict";cc._RF.push(t,"41206LQ+WREAJpl0o0Qn3Lz","bridge.utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.randomName=void 0,n.randomName=function(){return"bridge_callback"+Math.random().toString(16).substr(2,8)},cc._RF.pop()},{}],bridge:[function(e,t,n){"use strict";cc._RF.push(t,"64000UK8tRPto2BLGu/aL7C","bridge");var r,o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getNativeData=n.fetchDeviceHeader=n.callNative=n.getAcceptHeader=void 0;var s,c,u=a(e("@bridge/byted-bridge-jssdk")),l=e("../error"),f=e("./fetch.utils");(function(e){e.Token="x-tt-token",e.Boe="X-Use-Boe",e.PPE="X-Use-PPE",e.Env="X-TT-ENV",e.Version="sdk-version"})(s||(s={})),function(e){e[e.FAIL=0]="FAIL",e[e.SUCCESS=1]="SUCCESS",e[e.NO_PERMISSION=-1]="NO_PERMISSION",e[e.NO_METHOD=-2]="NO_METHOD",e[e.PARAM_ERROR=-3]="PARAM_ERROR"}(c||(c={}));var p=((r={})[c.FAIL]="\u8c03\u7528\u5931\u8d25",r[c.NO_PERMISSION]="\u65e0\u6743\u9650",r[c.NO_METHOD]="\u65b9\u6cd5\u4e0d\u5b58\u5728",r[c.PARAM_ERROR]="\u53c2\u6570\u9519\u8bef",r);function h(e,t){return void 0===t&&(t={}),o(this,void 0,Promise,function(){return i(this,function(n){return[2,new Promise(function(n,r){u.default.call(e,t,function(o){console.log("resp",o),o.code!==c.SUCCESS?r(new l.BridgeError(p[o.code],e,t)):n(f.toJson(o.data))})})]})})}n.getAcceptHeader=function(e){var t={};return e&&"1"!==String(e["X-Use-Boe"])&&delete e["X-Use-Boe"],Object.keys(s).map(function(e){return s[e]}).forEach(function(n){var r=Object.keys(e).filter(function(e){return e.toLowerCase()===n.toLowerCase()})[0];r&&(t[n]=e[r])}),t},n.callNative=h,n.fetchDeviceHeader=function(){return o(void 0,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,h("core.getNativeData",{key:"requestHeader"})];case 1:return e=t.sent(),[2,n.getAcceptHeader(e)]}})})},n.getNativeData=function(){return o(void 0,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,h("core.getNativeData",{key:"userInfo"})];case 1:return[2,e.sent()]}})})},cc._RF.pop()},{"../error":"error","./fetch.utils":"fetch.utils","@bridge/byted-bridge-jssdk":3}],calculation:[function(e,t,n){"use strict";cc._RF.push(t,"54d3dXwm7dBOLg58AuJTmei","calculation");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e){return e.reduce(function(e,t){var n;return r(r({},e),((n={})[t]=t,n))},{})}Object.defineProperty(n,"__esModule",{value:!0}),n.NLPPhrase=n.BridgeCode=n.AnswerThemeStyle=n.EquationSymbolStructure=n.EquationSymbolType=n.tupleKeyMirror=void 0,n.tupleKeyMirror=o,n.EquationSymbolType=cc.Enum(o(["literal","answer"])),n.EquationSymbolStructure=cc.Enum(o(["oneline","fraction"])),n.AnswerThemeStyle=cc.Enum(o(["wrong","correct","input","display"])),function(e){e[e.Success=0]="Success",e[e.Fail=-1]="Fail"}(n.BridgeCode||(n.BridgeCode={})),function(e){e.ASRStream="asr_stream",e.ASRFinish="asr_finish",e.NLPResult="nlp_result"}(n.NLPPhrase||(n.NLPPhrase={})),cc._RF.pop()},{}],children:[function(e,t,n){"use strict";cc._RF.push(t,"773eaIrlmBEPKBg2ENMr0WR","children");var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.speak=n.viewImage=n.callScheme=n.initNativeEvents=n.NativeEvent=n.ResourceType=void 0;var s,c,u=e("@bridge/byted-bridge-jssdk"),l=e("./common");o(e("./common"),n),function(e){e.Image="image"}(s=n.ResourceType||(n.ResourceType={})),function(e){e.QUIT="view.quit",e.PAUSE="view.pause",e.RESUME="view.resume",e.SBC_DIALOG_START="app.sbcDialogStart",e.SBC_DIALOG_END="app.sbcDialogEnd"}(c=n.NativeEvent||(n.NativeEvent={})),n.initNativeEvents=function(){Object.keys(c).forEach(function(e){var t=c[e];l.bindEvent(t,function(e){var n=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0});window.dispatchEvent(n)})})},n.callScheme=function(e){u.call("app.schema",{schema:e})},n.viewImage=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,l.callNative("app.view",{resourceList:e,type:s.Image},215)];case 1:return[2,t.sent()]}})})},n.speak=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,l.callNative("app.recognizeText",{text:e},230)];case 1:return[2,t.sent()]}})})},cc._RF.pop()},{"./common":"common","@bridge/byted-bridge-jssdk":3}],client:[function(e,t,n){"use strict";cc._RF.push(t,"9eb69ca0BtPbYbiUhSLh9q6","client"),Object.defineProperty(n,"__esModule",{value:!0}),n.client=void 0;var r=function(){function e(){}return Object.defineProperty(e.prototype,"isWechat",{get:function(){return navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQQ",{get:function(){return navigator.userAgent.toLowerCase().indexOf("qq")>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDali",{get:function(){return!this.isLamp&&navigator.userAgent.toLowerCase().indexOf("ailamp")>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLamp",{get:function(){return navigator.userAgent.toLowerCase().indexOf("ailamp_hardware")>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBrowser",{get:function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("ailamp")&&-1===e.indexOf("ailamp_hardware")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return/(Android)/i.test(navigator.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOS",{get:function(){return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return window.innerWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return window.innerHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){var e=navigator.userAgent.toLowerCase().match(/\|(\d+)\.(\d+)\.(\d+)[|_-]/);return e?100*+e[1]+10*+e[2]+ +e[3]:0},enumerable:!1,configurable:!0}),e}();n.client=new r,cc._RF.pop()},{}],combo:[function(e,t,n){"use strict";cc._RF.push(t,"50f9afUU2ZAZZvaEzcySoca","combo");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comboLabel=[],t.comboA=null,t.comboB=null,t.comboALabel=null,t.comboBLabel=null,t}return r(t,e),t.prototype.combo=function(e){if(!(e<0||e>this.comboLabel.length-1)){var t=this.comboLabel[e-1],n=t.getOriginalSize().width/2,r=this.comboALabel.getComponent(cc.Sprite);r.spriteFrame=t,r.node.width=n;var o=this.comboBLabel.getComponent(cc.Sprite);o.spriteFrame=t,o.node.width=n,this.comboA.getComponent(cc.Animation).play(),this.comboB.getComponent(cc.Animation).play()}},t.prototype.onLoad=function(){this.comboA=this.node.getChildByName("comboA"),this.comboB=this.node.getChildByName("comboB"),this.comboALabel=this.comboA.getChildByName("comboLabel"),this.comboBLabel=this.comboB.getChildByName("comboLabel")},o([c(cc.SpriteFrame),i("design:type",Array)],t.prototype,"comboLabel",void 0),t=o([s("Combo")],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],common:[function(e,t,n){"use strict";cc._RF.push(t,"1938ci5hyBI46D9/RUrxOda","common");var r,o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.fetch=n.getNativeData=n.report=n.callNative=n.bindEvent=void 0;var a=e("@bridge/byted-bridge-jssdk"),s=e("../client/client"),c=e("./bridge.types"),u=((r={})[c.NativeCode.FAIL]="\u8c03\u7528\u5931\u8d25",r[c.NativeCode.NO_PERMISSION]="\u65e0\u6743\u9650",r[c.NativeCode.NO_METHOD]="\u65b9\u6cd5\u4e0d\u5b58\u5728",r[c.NativeCode.PARAM_ERROR]="\u53c2\u6570\u9519\u8bef",r);function l(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=0),s.client.isBrowser?{}:s.client.version>=n?new Promise(function(n,r){a.call(e,t,function(t){var o=t.code,i=t.data;o===c.NativeCode.SUCCESS?n(i):r(e+":"+u[o])})}):Promise.reject("\u5f53\u524d\u7248\u672c\u8fc7\u65e7\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u540e\u91cd\u8bd5\uff01")}n.bindEvent=function(e,t){var n=function(e){var n=e.data;t(n)};return a.on(e,n),function(){return a.off(e,n)}},n.callNative=l,n.report=function(e,t){l("app.report",{type:e,data:t})},n.getNativeData=function(e){return o(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,l("core.getNativeData",{key:e})];case 1:return[2,t.sent()]}})})},n.fetch=function(e,t,n){return l("core.fetch",{url:e,params:t,config:n},s.client.isDali?230:210)},cc._RF.pop()},{"../client/client":"client","./bridge.types":"bridge.types","@bridge/byted-bridge-jssdk":3}],"config.boe":[function(e,t,n){"use strict";cc._RF.push(t,"5761dSOjSJLnIM1/kDXfu3/","config.boe"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={url:"https://h5-boe.daliapp.net",h5BaseUrl:"https://h5-boe.daliapp.net"},cc._RF.pop()},{}],"config.default":[function(e,t,n){"use strict";cc._RF.push(t,"6d7e80ZGjNHLoCJkZo0ewJf","config.default"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={api_url:"https://api.daliapp.net",h5BaseUrl:"https://h5-boe.daliapp.net"},cc._RF.pop()},{}],"config.dev":[function(e,t,n){"use strict";cc._RF.push(t,"a03a7MT2bpDvYZgziErpvNf","config.dev"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={url:"https://h5-boe.daliapp.net"},cc._RF.pop()},{}],"config.prod":[function(e,t,n){"use strict";cc._RF.push(t,"e3345KuDkpEGLYQsElxhEmD","config.prod"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={url:"https://h5.daliapp.net"},cc._RF.pop()},{}],config:[function(e,t,n){"use strict";cc._RF.push(t,"3bf763thvJCvITsyLINGZ6a","config");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("qs")),a=o(e("./config.dev")),s=o(e("./config.default")),c=o(e("./config.boe")),u=o(e("./config.prod")),l=window.location.host,f=!1,p=c.default.url.indexOf(l)>-1,h=u.default.url.indexOf(l)>-1,d=i.default.parse(window.location.search,{ignoreQueryPrefix:!0}),y=d.env,b=d.use_boe;var v=f?Object.assign({},s.default,a.default):p?Object.assign({},s.default,c.default):Object.assign({},s.default,u.default);n.default=r({env:{isBOE:b||p,isOnline:h,isDev:f},boe_env:y},v),cc._RF.pop()},{"./config.boe":"config.boe","./config.default":"config.default","./config.dev":"config.dev","./config.prod":"config.prod",qs:21}],confirm:[function(e,t,n){"use strict";cc._RF.push(t,"058573+vtpOmoPcqIa0RIdL","confirm");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Confirm=void 0;var o=function(e){function t(n){var r=e.call(this)||this;r.handleClose=function(){r.modalHandlerResolve(void 0)},r.handleCancel=function(){r.modalHandlerResolve(!1)},r.handleConfirm=function(){r.modalHandlerResolve(!0)},t.addStyleSheet();var o=n.title,i=n.content,a=n.cancelText,s=n.confirmText,c=void 0===s?"\u786e\u8ba4":s;return r.title=o,r.content=i,r.modalContent.classList.add("confirm-modal"),void 0!==r.title&&(r.titleDOM=document.createElement("div"),r.titleDOM.classList.add("confirm-title"),r.titleDOM.innerText=r.title,r.modalContent.appendChild(r.titleDOM)),r.contentDOM=document.createElement("div"),r.contentDOM.classList.add("confirm-content"),r.contentDOM.innerText=r.content,r.modalContent.appendChild(r.contentDOM),r.buttonGroup=document.createElement("div"),r.buttonGroup.classList.add("button-group"),r.modalContent.appendChild(r.buttonGroup),a&&(r.cancelButton=document.createElement("div"),r.cancelButton.classList.add("cancel-button"),r.cancelButton.innerText=a,r.cancelButton.addEventListener("touchend",r.handleCancel),r.buttonGroup.appendChild(r.cancelButton)),r.confirmButton=document.createElement("div"),r.confirmButton.classList.add("confirm-button"),r.confirmButton.innerText=c,r.confirmButton.addEventListener("touchend",r.handleConfirm),r.buttonGroup.appendChild(r.confirmButton),r.closeButton=document.createElement("div"),r.closeButton.classList.add("close-button"),r.closeButton.addEventListener("touchend",r.handleClose),r.modalContent.appendChild(r.closeButton),r}return r(t,e),t.addStyleSheet=function(){t.confirmStyleSheet||(t.confirmStyleSheet=document.createElement("style"),t.confirmStyleSheet.type="text/css",t.confirmStyleSheet.appendChild(document.createTextNode('\n      .modal-container .confirm-modal {\n        position: fixed;\n        box-sizing: border-box;\n        top: 50%;\n        left: 0;\n        right: 0;\n        margin: auto;\n        transform: translate(0, -50%);\n        background-color: #fff;\n        border-radius: 24px;\n        width: 320px;\n        padding: 32px 20px;\n      }\n      \n      .confirm-modal .confirm-title {\n        color: #33394D;\n        font-size: 22px;\n        font-weight: bold;\n        text-align: center;\n        margin-bottom: 12px;\n      }\n      \n      .confirm-modal .confirm-content {\n        color: #999CA6;\n        font-size: 20px;\n        text-align: center;\n        margin-bottom: 24px;\n      }\n      \n      .confirm-modal .button-group {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      \n      .confirm-modal .cancel-button {\n        margin-right: 12px;\n        height: 56px;\n        width: 134px;\n        line-height: 56px;\n        font-weight: bold;\n        border-radius: 100px;\n        color: #4673FA;\n        font-size: 20px;\n        text-align: center;\n        background: linear-gradient(180deg, #DBE4FE 0%, #C8D5FE 100%);\n      }\n      \n      .confirm-modal .confirm-button {\n        width: 134px;\n        height: 56px;\n        line-height: 56px;\n        border-radius: 100px;        \n        font-weight: bold;\n        color: #ffffff;\n        font-size: 20px;\n        text-align: center;\n        background: linear-gradient(360deg, #4673FA 0%, #93A9F5 100%);\n      }\n      \n      .confirm-modal .close-button {\n        background: rgba(255, 255, 255, 0.16);\n        width: 36px;\n        height: 36px;\n        border-radius: 18px;\n        position: absolute;\n        left: 50%;\n        bottom: -50px;\n        transform: translate(-50%, 0);\n      }\n      .confirm-modal .close-button::before {\n        position: absolute;\n        content: "";\n        background-color: #fff;\n        width: 4px;\n        height: 20px;\n        border-radius: 2px;\n        transform: rotate(45deg);\n        left: 16px;\n        top: 8px;\n      }\n      .confirm-modal .close-button::after {\n        position: absolute;\n        content: "";\n        background-color: #fff;\n        width: 4px;\n        height: 20px;\n        border-radius: 2px;\n        transform: rotate(-45deg);\n        left: 16px;\n        top: 8px;\n      }\n    ')),document.head.appendChild(t.confirmStyleSheet))},t.prototype.show=function(){e.prototype.show.call(this),this.modalHandler.then(function(){})},t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),this.closeButton.removeEventListener("touchend",this.handleClose),null===(t=this.cancelButton)||void 0===t||t.removeEventListener("touchend",this.handleCancel),this.confirmButton.removeEventListener("touchend",this.handleConfirm)},t}(e("./modal").Modal);n.Confirm=o,cc._RF.pop()},{"./modal":"modal"}],constant:[function(e,t,n){"use strict";var r,o;cc._RF.push(t,"f7c9azZlXRMppVb2ZrCtakc","constant"),Object.defineProperty(n,"__esModule",{value:!0}),n.CustomEvent=n.GlobalEvent=n.TtsContent=n.StorageKey=n.DaliLifeRatio=n.PracticeType=n.FromType=n.WrongAnswerDisplayMilliseconds=n.ResultDisplayMilliseconds=n.AnswerLengthLimit=n.AnswerTimeLimit=n.ItemType=n.LayoutEstimates=n.FontSize=n.Color=void 0;var i=e("../types/calculation");n.Color={ThemeBlue:cc.Color.fromHEX(new cc.Color,"#4673FA"),ThemeGreen:cc.Color.fromHEX(new cc.Color,"#17C650"),ThemeRed:cc.Color.fromHEX(new cc.Color,"#FF4A4E"),ThemeLightRed:cc.Color.fromHEX(new cc.Color,"#F7AFBC"),QuestionText:cc.Color.fromHEX(new cc.Color,"#666B79"),AnswerBg:new cc.Color(70,115,250,51)},n.FontSize={InitialSize:40,MinSize:10},n.LayoutEstimates={FontSizeWidthRatio:.56,FontSizeHeightRatio:1.26,RowSpacingX:4,RowSpacingY:10},n.ItemType=cc.Enum(i.tupleKeyMirror(["OralItem","WrittenItem"])),n.AnswerTimeLimit=((r={})[n.ItemType.OralItem]=15,r[n.ItemType.WrittenItem]=45,r),n.AnswerLengthLimit=((o={})[n.ItemType.OralItem]=Number.MAX_VALUE,o[n.ItemType.WrittenItem]=14,o),n.ResultDisplayMilliseconds=3e3,n.WrongAnswerDisplayMilliseconds=960,n.FromType=cc.Enum(i.tupleKeyMirror(["launcher","hq_content","notification"])),n.PracticeType=cc.Enum({Sync:1,Recommend:2}),n.DaliLifeRatio=3,n.StorageKey=cc.Enum(i.tupleKeyMirror(["IS_FIRST_TIME_MIC"])),n.TtsContent={FirstTimeFailure:"\u53ea\u9700\u8bf4\u7b54\u6848\u7ed3\u679c\u5c31\u597d\u4e86\u3002\u4f8b\u5982\u672c\u9898\uff0c\u4f60\u53ef\u4ee5\u8bf4\uff0c"},n.GlobalEvent=cc.Enum(i.tupleKeyMirror(["onHomeLoaded","onKeyPressed","onAnswerPressed"])),n.CustomEvent=cc.Enum(i.tupleKeyMirror(["confirmBack","answerTimeout","answerChange","keyboardDisabled","keyboardKeysDisabled"])),cc._RF.pop()},{"../types/calculation":"calculation"}],daliAnimationEventDelegate:[function(e,t,n){"use strict";cc._RF.push(t,"9762bKpoGNAkLvcrVUs2mJ+","daliAnimationEventDelegate");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.DaliAnimationEvent=void 0;var i=e("@byted-dino/core"),a=cc._decorator.ccclass;n.DaliAnimationEvent=cc.Enum({onAttackRobot:"dali.onAttackRobot"});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onAttackRobot=function(){i.globalEventBus.dispatch(n.DaliAnimationEvent.onAttackRobot)},t=o([a("DaliAnimationEventDelegate")],t)}(cc.Component);n.default=s,cc._RF.pop()},{"@byted-dino/core":8}],equationLayoutHelper:[function(e,t,n){"use strict";cc._RF.push(t,"12a509PpzhLW5NoMC+ELX4o","equationLayoutHelper");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.componentClassOfSymbol=n.estimateTextHeight=n.estimateTextWidth=n.layoutRows=n.layoutWithinBoundary=void 0;var o=e("../../types/calculation"),i=e("../../common/helper"),a=e("../../common/constant"),s=r(e("./symbol/literal")),c=r(e("./symbol/answer")),u=r(e("./symbol/fraction")),l=r(e("./symbol/fractionAnswer"));function f(e,t,n){for(var r=[],o=[],i=0;i<e.length;i++){var a=e[i];if(o.push(a),d(o,t)>n){var s=o.pop();r.push(o),o=[s]}}return r.push(o),r}function p(e){var t,n,r;return((t={})[o.EquationSymbolStructure.oneline]=((n={})[o.EquationSymbolType.literal]=s.default,n[o.EquationSymbolType.answer]=c.default,n),t[o.EquationSymbolStructure.fraction]=((r={})[o.EquationSymbolType.literal]=u.default,r[o.EquationSymbolType.answer]=l.default,r),t)[e.structure][e.type]}function h(e,t){var n=(e.length-1)*a.LayoutEstimates.RowSpacingY;return e.reduce(function(e,n){return e+n.reduce(function(e,n){return i.max(e,p(n).estimateHeight(n,t))},0)},0)+n}function d(e,t){var n=(e.length-1)*a.LayoutEstimates.RowSpacingX;return e.reduce(function(e,n){return e+p(n).estimateWidth(n,t)},0)+n}n.layoutWithinBoundary=function(e,t,n){for(var r=[],o=a.FontSize.InitialSize;;){if(h(r=f(e,o,t),o)<=n||o<=a.FontSize.MinSize)return{rows:r,fontSize:o};o--}},n.layoutRows=f,n.estimateTextWidth=function(e,t){var n=t,r=t*a.LayoutEstimates.FontSizeWidthRatio;return i.countChineseCharacters(e)*n+i.countNonChineseCharacters(e)*r},n.estimateTextHeight=function(e,t){return t*a.LayoutEstimates.FontSizeHeightRatio},n.componentClassOfSymbol=p,cc._RF.pop()},{"../../common/constant":"constant","../../common/helper":"helper","../../types/calculation":"calculation","./symbol/answer":"answer","./symbol/fraction":"fraction","./symbol/fractionAnswer":"fractionAnswer","./symbol/literal":"literal"}],equationRenderer:[function(e,t,n){"use strict";cc._RF.push(t,"1006f5Fd4tPN5f+sq6vFs6F","equationRenderer");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./equationLayoutHelper"),c=e("@byted-dino/engine-cocos"),u=cc._decorator.ccclass,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRendering=!1,t.prefabs={row:null,literal:null,fraction:null,answer:null,fractionAnswer:null},t}return r(t,e),t.prototype.loadPrefabs=function(){return i(this,void 0,void 0,function(){var e=this;return a(this,function(t){switch(t.label){case 0:return[4,Promise.all(Object.keys(this.prefabs).map(function(t){return e.loadPrefab(t)}))];case 1:return t.sent(),[2]}})})},t.prototype.loadPrefab=function(e){return i(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return this.prefabs[e]?[3,2]:(t=this.prefabs,n=e,[4,c.loadCocosPrefab("prefab/component/equation/"+e)]);case 1:t[n]=r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.render=function(e){return i(this,void 0,void 0,function(){var t,n,r,o,i,c,u,l,f,p,h,d;return a(this,function(a){switch(a.label){case 0:if(this.isRendering)throw new Error("Concurrent render not allowed");return this.isRendering=!0,[4,this.loadPrefabs()];case 1:a.sent(),this.node.removeAllChildren(!0),t=this.node.parent.width,n=this.node.parent.height,r=s.layoutWithinBoundary(e,t,n),o=r.rows,i=r.fontSize,c=[],f=0,a.label=2;case 2:if(!(f<o.length))return[3,8];p=[],u=o[f],d=0,a.label=3;case 3:return d<u.length?[4,this.renderSymbolNode(u[d],i)]:[3,6];case 4:l=a.sent(),p.push(l),a.label=5;case 5:return d++,[3,3];case 6:c.push(p),a.label=7;case 7:return f++,[3,2];case 8:for(f=0;f<c.length;f++){for(p=c[f],h=cc.instantiate(this.prefabs.row),d=0;d<p.length;d++)h.addChild(p[d]);this.node.addChild(h)}return this.isRendering=!1,[2]}})})},t.prototype.renderSymbolNode=function(e,t){return i(this,void 0,Promise,function(){var n,r,o,i,c;return a(this,function(a){switch(a.label){case 0:return n=s.componentClassOfSymbol(e),r=n.prefabName,o=n.componentName,i=this.prefabs[r],c=cc.instantiate(i),[4,c.getComponent(o).render(e,t)];case 1:return a.sent(),[2,c]}})})},t=o([u("EquationRenderer")],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./equationLayoutHelper":"equationLayoutHelper","@byted-dino/engine-cocos":10}],equationSymbolComponent:[function(e,t,n){"use strict";cc._RF.push(t,"7d73bgYWsxFqa0pijrNNKhI","equationSymbolComponent");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.EquationSymbolComponent=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.estimateWidth=function(e,t){return Number.NaN},t.estimateHeight=function(e,t){return Number.NaN},t.componentName=null,t.prefabName=null,t}(cc.Component);n.EquationSymbolComponent=o,cc._RF.pop()},{}],equation:[function(e,t,n){"use strict";cc._RF.push(t,"74ab8I2y5NI97dwTaE5FP7U","equation");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Equation=void 0;var c=e("@fe/mini-tex-parser"),u=e("@byted-dino/engine-cocos"),l=e("@byted-dino/surface"),f=e("../../types/calculation"),p=e("../../common/helper"),h=e("../virtual/answerManager"),d=e("../../common/constant");function y(e){return e.type===f.EquationSymbolType.answer}var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.equationRenderer=null,t.submitCount=0,t}var n;return r(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOralItem",{get:function(){var e;return p.isOralItem(null===(e=this.item)||void 0===e?void 0:e.uiType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userAnswer",{get:function(){return this.answerManager.userAnswer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserAnswerCorrect",{get:function(){return p.isUserAnswerCorrect(this.answerManager.userAnswer,this.correctAnswers)},enumerable:!1,configurable:!0}),t.prototype.onOpen=function(e,t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return e=this.setSkin,[4,u.loadCocosPrefab("prefab/component/equation/equation")];case 1:return e.apply(this,[n.sent()]),[4,this.setViewModel({})];case 2:return n.sent(),[4,t()];case 3:return n.sent(),this.answerManager.listen(d.CustomEvent.answerChange,this.handleAnswerChange,this),[2]}})})},t.prototype.replaceItem=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this._item=e,this.submitCount=0,this.submittedAnswer="",this.replaceSymbols(),this.answerManager.forceClearAnswer=4===this.recommendAnswerType,[4,this.render()];case 1:return t.sent(),this.updateInputKeysDisabled(),[2]}})})},t.prototype.submitCorrectAnswer=function(){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.answerManager.setThemeStyle(f.AnswerThemeStyle.correct),[4,this.render()];case 1:return e.sent(),this.submitCount++,[2]}})})},t.prototype.submitWrongAnswer=function(){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.answerManager.setThemeStyle(f.AnswerThemeStyle.wrong),[4,this.render()];case 1:return e.sent(),this.submitCount++,this.submittedAnswer=this.answerManager.userAnswer,this.answerManager.requireClearAnswer=!0,[2]}})})},t.prototype.displayCorrectAnswer=function(){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return e=p.answerResToSymbol(this.correctAnswers),[4,this.replaceAnswerSymbol(e)];case 1:return t.sent(),[2]}})})},t.prototype.handleAnswerChange=function(){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.render()];case 1:return e.sent(),this.updateDeleteSubmitKeyDisabled(),[2]}})})},t.prototype.render=function(){return this.equationRenderer.getComponent("EquationRenderer").render(this.symbols)},t.prototype.replaceSymbols=function(){var e=this,t=this.item.content.content,n=c.markupParser.parse(t);this.symbols=[],n.forEach(function(t){switch(t.type){case"answer":var n=e.createEmptyAnswerSymbol();e.symbols.push(n);break;case"literal":var r={type:f.EquationSymbolType.literal,structure:f.EquationSymbolStructure.oneline,oneline:t.content};e.symbols.push(r);break;case"tex":p.texTokensToLiteralSymbols(t.parsed).forEach(function(t){e.symbols.push(t)});break;default:throw new Error("Unkonwn fragment: "+JSON.stringify(t))}})},t.prototype.handleKeyboardClick=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:switch(e.type){case"mic":return[3,1];case"keyboard":return[3,2];case"frac":return[3,3];case"number":case"plus":case"minus":case"multi":case"divide":case"point":case"percent":case"lt":case"gt":case"eq":return[3,5];case"delete":return[3,7];case"submit":return[3,9]}return[3,10];case 1:case 2:return[3,11];case 3:return[4,this.switchAnswerSymbolStructure()];case 4:return t.sent(),[3,11];case 5:return[4,this.answerManager.appendToAnswer(e.label)];case 6:return t.sent(),[3,11];case 7:return[4,this.answerManager.deleteLastCharFromAnswer()];case 8:return t.sent(),[3,11];case 9:return[3,11];case 10:throw new Error("Unkown keyboard key type: "+e.type);case 11:return[2]}})})},t.prototype.updateInputKeysDisabled=function(){var e=4===this.recommendAnswerType;this.dispatch(d.CustomEvent.keyboardDisabled,e),this.dispatch(d.CustomEvent.keyboardKeysDisabled,{mic:!0,lt:!e,gt:!e,eq:!e,delete:this.answerManager.isAnswerInputEmpty,submit:!this.answerManager.isUserAnswerValid})},t.prototype.switchAnswerSymbolStructure=function(){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return e=this.answerManager.switchAnswerSymbolStructure(),[4,this.replaceAnswerSymbol(e)];case 1:return t.sent(),this.updateDeleteSubmitKeyDisabled(),[2]}})})},t.prototype.createEmptyAnswerSymbol=function(){return 3===this.recommendAnswerType?this.answerManager.createEmptyFractionAnswerSymbol():this.answerManager.createEmptyOneLineAnswerSymbol()},t.prototype.updateDeleteSubmitKeyDisabled=function(){this.dispatch(d.CustomEvent.keyboardKeysDisabled,{delete:this.answerManager.isAnswerInputEmpty,submit:!this.answerManager.isUserAnswerValid})},t.prototype.replaceAnswerSymbol=function(e){return a(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return t=this.symbols.findIndex(y),this.symbols.splice(t,1,e),[4,this.render()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"recommendAnswerType",{get:function(){return p.getRecommendAnswerTypeByAnswers(this.correctAnswers)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"correctAnswers",{get:function(){var e=p.getCorrectAnswer(this.item);return e?e.answerRes:null},enumerable:!1,configurable:!0}),o([l.subComp(h.AnswerManager),i("design:type","function"==typeof(n=void 0!==h.AnswerManager&&h.AnswerManager)?n:Object)],t.prototype,"answerManager",void 0),t=o([u.cccomponent],t)}(l.Component);n.Equation=b,cc._RF.pop()},{"../../common/constant":"constant","../../common/helper":"helper","../../types/calculation":"calculation","../virtual/answerManager":"answerManager","@byted-dino/engine-cocos":10,"@byted-dino/surface":11,"@fe/mini-tex-parser":12}],error:[function(e,t,n){"use strict";cc._RF.push(t,"d4104nsnEBOcLPSJsMJsk7R","error");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeError=n.FetchError=void 0;var o=function(e){function t(t,n){var r=e.call(this,t)||this;return r.code=n,r}return r(t,e),t}(Error);n.FetchError=o;var i=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.params=r,o.method=n,o}return r(t,e),t}(Error);n.BridgeError=i,cc._RF.pop()},{}],"fetch.types":[function(e,t,n){"use strict";cc._RF.push(t,"b4871MnIOhOW7a249E1XadM","fetch.types"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],"fetch.utils":[function(e,t,n){"use strict";cc._RF.push(t,"490c1LneFpKorB0OS0lYhiq","fetch.utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.TimeExceed=n.toJson=n.getUrl=n.isUrl=n.assert=void 0;var r=function(e,t,n){return e.charAt(t)!==n?e:r(e.slice(0,t)+e.slice(t+1),t,n)},o=function(e,t){return r(e,e.length-1,"/")+"/"+r(t,0,"/")};n.assert=function(e,t){if(!e)throw new Error(t)},n.isUrl=function(e){return/^http(s)?:\/\//.test(e)},n.getUrl=function(e,t){return void 0===t&&(t=""),n.isUrl(e)?e:o(t,e)},n.toJson=function(e){return"string"==typeof e?JSON.parse(e):e},n.TimeExceed=function(e,t){return new Promise(function(n,r){return setTimeout(function(){return r(t)},e)})},cc._RF.pop()},{}],fetch:[function(e,t,n){"use strict";cc._RF.push(t,"bce19E22xxL253nHkPqEJCH","fetch");var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Fetch=void 0;var a=e("../client/client"),s=(e("../bridge/common"),i(e("./handler/http"))),c=i(e("./handler/native")),u=e("./error"),l=s.default,f=function(e){if(e.BaseResp&&e.BaseResp.error&&e.BaseResp.error.code)throw new u.FetchError(e.BaseResp.error.error_comment,e.BaseResp.error.code);return e},p={init:function(e,t){return void 0===e&&(e={}),t=t||"",(a.client.isDali||a.client.isLamp&&a.client.version>=210)&&!e.forceHttp&&(l=c.default),l.init(e)},get:function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),r(void 0,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return Date.now(),[4,l.get(e,t,n)];case 1:return r=o.sent(),Date.now(),[2,f(r)]}})})},post:function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),r(void 0,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return Date.now(),[4,l.post(e,t,n)];case 1:return r=o.sent(),Date.now(),[2,f(r)]}})})}};n.Fetch=p,cc._RF.pop()},{"../bridge/common":"common","../client/client":"client","./error":"error","./handler/http":"http","./handler/native":"native"}],fractionAnswer:[function(e,t,n){"use strict";cc._RF.push(t,"6b1f3FT7N5NarX040tWQK3n","fractionAnswer");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../types/calculation"),u=e("./equationSymbolComponent"),l=s(e("./answer")),f=e("../../../common/helper"),p=e("../../../common/constant"),h=e("@byted-dino/engine-cocos"),d=cc._decorator.ccclass,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.answerPrefab=null,t.numeratorNode=null,t.denominatorNode=null,t}var n;return r(t,e),n=t,t.prototype.render=function(e,t){return i(this,void 0,void 0,function(){var r,o,i,s,c,u,l;return a(this,function(a){switch(a.label){case 0:return[4,this.createAnswerNodes()];case 1:return a.sent(),o=(r=this).numeratorComp,i=r.denominatorComp,s=n.getNumeratorSymbol(e),[4,o.render(s,t)];case 2:return a.sent(),c=n.getDenominatorSymbol(e),[4,i.render(c,t)];case 3:return a.sent(),this.node.width=n.estimateWidth(e,t),this.fractionLine.width=this.node.width,this.fractionLine.height=n.estimateFractionLineHeight(t),u=this.fractionLineWrapper.getComponent("cc.Layout"),l=n.estimateFractionLinePadding(t),u.paddingTop=l,u.paddingBottom=l,[2]}})})},t.prototype.createAnswerNodes=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return this.answerPrefab?[3,2]:(e=this,[4,h.loadCocosPrefab("prefab/component/equation/answer")]);case 1:e.answerPrefab=t.sent(),t.label=2;case 2:return this.numeratorNode||(this.numeratorNode=cc.instantiate(this.answerPrefab),this.numeratorNode.name="numerator",this.node.insertChild(this.numeratorNode,0)),this.denominatorNode||(this.denominatorNode=cc.instantiate(this.answerPrefab),this.denominatorNode.name="denominator",this.node.insertChild(this.denominatorNode,2)),[2]}})})},t.getDenominatorSymbol=function(e){return{type:c.EquationSymbolType.answer,structure:c.EquationSymbolStructure.oneline,oneline:e.denominator}},t.getNumeratorSymbol=function(e){return{type:c.EquationSymbolType.answer,structure:c.EquationSymbolStructure.oneline,oneline:e.numerator}},t.estimateWidth=function(e,t){return f.max(l.default.estimateWidth(this.getNumeratorSymbol(e),t),l.default.estimateWidth(this.getDenominatorSymbol(e),t))},t.estimateHeight=function(e,t){return l.default.estimateHeight(this.getNumeratorSymbol(e),t)+l.default.estimateHeight(this.getDenominatorSymbol(e),t)+n.estimateFractionLineHeight(t)+n.estimateFractionLinePadding(t)},t.estimateFractionLineHeight=function(e){return n.FractionLineHeight*e/p.FontSize.InitialSize},t.estimateFractionLinePadding=function(e){return n.FractionLineVerticalPadding*e/p.FontSize.InitialSize},t.prototype.setThemeStyle=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.numeratorComp.setThemeStyle(e),this.denominatorComp.setThemeStyle(e)])];case 1:return t.sent(),[2]}})})},Object.defineProperty(t.prototype,"numeratorComp",{get:function(){return this.numeratorNode.getComponent("Answer")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"denominatorComp",{get:function(){return this.denominatorNode.getComponent("Answer")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fractionLineWrapper",{get:function(){return this.node.getChildByName("fractionLineWrapper")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fractionLine",{get:function(){return this.fractionLineWrapper.getChildByName("fractionLine")},enumerable:!1,configurable:!0}),t.componentName="FractionAnswer",t.prefabName="fractionAnswer",t.FractionLineHeight=4,t.FractionLineHorizontalPadding=5,t.FractionLineVerticalPadding=8,t=n=o([d("FractionAnswer")],t)}(u.EquationSymbolComponent);n.default=y,cc._RF.pop()},{"../../../common/constant":"constant","../../../common/helper":"helper","../../../types/calculation":"calculation","./answer":"answer","./equationSymbolComponent":"equationSymbolComponent","@byted-dino/engine-cocos":10}],fraction:[function(e,t,n){"use strict";cc._RF.push(t,"46eccf39w1DErHti83vAR5v","fraction");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../equationLayoutHelper"),c=e("./equationSymbolComponent"),u=e("../../../common/helper"),l=e("../../../common/constant"),f=cc._decorator.ccclass,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numerator="",t._denominator="",t}var n;return r(t,e),n=t,Object.defineProperty(t.prototype,"numeratorLabel",{get:function(){return this.node.getChildByName("numeratorLabel")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"denominatorLabel",{get:function(){return this.node.getChildByName("denominatorLabel")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fractionLine",{get:function(){return this.node.getChildByName("fractionLine")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numerator",{get:function(){return this._numerator},set:function(e){this._numerator=e,this.numeratorLabel.getComponent("cc.Label").string=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"denominator",{get:function(){return this._denominator},set:function(e){this._denominator=e,this.denominatorLabel.getComponent("cc.Label").string=e},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){return i(this,void 0,void 0,function(){var r,o;return a(this,function(i){return this.numerator=e.numerator,this.denominator=e.denominator,(r=this.numeratorLabel.getComponent("cc.Label")).fontSize=t,r.lineHeight=t,(o=this.denominatorLabel.getComponent("cc.Label")).fontSize=t,o.lineHeight=t,this.node.width=n.estimateWidth(e,t),this.fractionLine.width=this.node.width,this.fractionLine.height=n.FractionLineHeight*t/l.FontSize.InitialSize,[2]})})},t.estimateWidth=function(e,t){var n=function(e){return s.estimateTextWidth(e,t)},r=e.numerator,o=e.denominator;return u.max(n(r),n(o))},t.estimateHeight=function(e,t){var r=function(e){return s.estimateTextHeight(e,t)},o=e.numerator,i=e.denominator;return r(o)+r(i)+n.FractionLineHeight},t.componentName="Fraction",t.prefabName="fraction",t.FractionLineHeight=4,t=n=o([f("Fraction")],t)}(c.EquationSymbolComponent);n.default=p,cc._RF.pop()},{"../../../common/constant":"constant","../../../common/helper":"helper","../equationLayoutHelper":"equationLayoutHelper","./equationSymbolComponent":"equationSymbolComponent"}],helper:[function(e,t,n){"use strict";cc._RF.push(t,"028c5M988JHI6FjMQgeO+1I","helper");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.parseMicAnswer=n.tokenToTex=n.fractionToTex=n.texToFraction=n.texTokensToLiteralSymbols=n.answerResToSymbol=n.answerResToToken=n.answerResToChinese=n.isUserAnswerCorrect=n.getCorrectAnswer=n.getRecommendAnswerTypeByAnswers=n.sanitizeItems=n.isOralItem=n.nextFramePromise=n.timeoutPromise=n.countNonChineseCharacters=n.countChineseCharacters=n.max=n.newAnswerId=void 0;var i=e("@fe/mini-tex-parser"),a=e("@byted-dino/core"),s=e("../types/calculation"),c=42;function u(e){var t=/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\u{20000}-\u{2a6df}]|[\u{2a700}-\u{2b73f}]|[\u{2b740}-\u{2b81f}]|[\u{2b820}-\u{2ceaf}]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]|[\u{2f800}-\u{2fa1f}]/u;return e.split("").filter(function(e){return t.test(e)}).length}function l(e){return e.replace(/[\uff08\(]\s*(<answer\s+id="(\d+)">\s*<\/answer>)\s*[\uff09\)]/g,function(e,t){return t})}function f(e){var t=e.answerType,n=e.intValue,r=e.decimalValue,o=e.fractionValue,i=e.compareValue;switch(t){case 1:return n;case 2:return r;case 3:var a=o.numerator,s=o.denominator,c=o.leadingNumber;return Number(c)+Number(a)/Number(s);case 4:return v(i);default:return null}}n.newAnswerId=function(){return""+ ++c},n.max=function(e,t){return e>t?e:t},n.countChineseCharacters=u,n.countNonChineseCharacters=function(e){return e.length-u(e)},n.timeoutPromise=function(e){return new Promise(function(t){a.timer.setTimeout(e,t)})},n.nextFramePromise=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Promise(function(n){a.timer.nextFrame.apply(a.timer,o([n,e],t))})},n.isOralItem=function(e){return 2!==e},n.sanitizeItems=function(e){return e.map(function(e){return r(r({},e),{content:{content:l(e.content.content)}})})},n.getRecommendAnswerTypeByAnswers=function(e){var t={4:0,3:1,2:2,1:3,0:Number.MAX_VALUE};return e.reduce(function(e,n){return t[n.answerType]<t[e]?n.answerType:e},0)},n.getCorrectAnswer=function(e){var t=i.markupParser.parse(e.content.content).filter(function(e){return"answer"===e.type});if(1!==t.length)return null;var n=t[0].attrs.id;return e.answers.filter(function(e){return e.answerId.toString()===n})[0]||null};var p=function(e){return/^(\d+\.\d+|\\dfrac{\d+}{\d+})$/.test(e)},h=function(e){return/^\\dfrac{\d+}{\d+}$/.test(e)},d=function(e){return p(e)||h(e)};function y(e){return"object"==typeof e&&"numerator"in e&&"denominator"in e}function b(e){return{1:"\u5c0f\u4e8e",2:"\u5927\u4e8e",3:"\u7b49\u4e8e"}[e]}function v(e){return{1:"<",2:">",3:"="}[e]}function m(e,t,n){return void 0===n&&(n=1e-8),Math.abs(e-t)<=Math.min(Math.abs(e),1)*n}function g(e){var t=e.match(/^\\dfrac{(\d+)}{(\d+)}$/);return t?{numerator:t[1],denominator:t[2]}:null}function _(e){var t=g(e);if(t){var n=t.numerator,r=t.denominator;return Number.parseFloat(n)/Number.parseFloat(r)}return Number.NaN}function w(e){return"\\dfrac{"+e.numerator+"}{"+e.denominator+"}"}n.isUserAnswerCorrect=function(e,t){var n=h(e)?_(e):Number.parseFloat(e);return t.some(function(t){if(d(e)||[2,3].indexOf(t.answerType)>-1){var r=f(t);return m(n,r)}return e===f(t)})},n.answerResToChinese=function(e){var t=e[0],n=t.answerType,r=t.intValue,o=t.decimalValue,i=t.fractionValue,a=t.compareValue;switch(n){case 1:return r.toString();case 2:return o.toString();case 3:var s=i.numerator,c=i.denominator,u=i.leadingNumber;return void 0!==u?u+"\u53c8"+c+"\u5206\u4e4b"+s:c+"\u5206\u4e4b"+s;case 4:return b(a);default:return null}},n.answerResToToken=function(e){var t=e[0],n=t.answerType,r=t.intValue,o=t.decimalValue,i=t.fractionValue,a=t.compareValue;switch(n){case 1:return r.toString();case 2:return o.toString();case 3:var s=i.numerator,c=i.denominator,u=i.leadingNumber;return void 0!==u?u+"\u53c8"+c+"\u5206\u4e4b"+s:{numerator:s.toString(),denominator:c.toString()};case 4:return v(a);default:return null}},n.answerResToSymbol=function(e,t){void 0===t&&(t=s.AnswerThemeStyle.correct);var n=e[0],o=n.answerType,i=n.intValue,a=n.decimalValue,c=n.fractionValue,u=n.compareValue,l={type:s.EquationSymbolType.answer};switch(o){case 1:return r(r({},l),{structure:s.EquationSymbolStructure.oneline,oneline:{themeStyle:t,content:i.toString()}});case 2:return r(r({},l),{structure:s.EquationSymbolStructure.oneline,oneline:{themeStyle:t,content:a.toString()}});case 3:var f=c.numerator,p=c.denominator,h=c.leadingNumber;return r(r({},l),void 0!==h?{structure:s.EquationSymbolStructure.oneline,oneline:{themeStyle:t,content:h+"\u53c8"+p+"\u5206\u4e4b"+f}}:{structure:s.EquationSymbolStructure.fraction,numerator:{themeStyle:t,content:f.toString()},denominator:{themeStyle:t,content:p.toString()}});case 4:return r(r({},l),{structure:s.EquationSymbolStructure.oneline,oneline:{themeStyle:t,content:v(u)}});default:return null}},n.texTokensToLiteralSymbols=function(e){return e.map(function(e){return"string"==typeof e?{type:s.EquationSymbolType.literal,structure:s.EquationSymbolStructure.oneline,oneline:e}:y(e)?r({type:s.EquationSymbolType.literal,structure:s.EquationSymbolStructure.fraction},e):null})},n.texToFraction=g,n.fractionToTex=w,n.tokenToTex=function(e){return"object"==typeof e&&"numerator"in e&&"denominator"in e?w(e):e},n.parseMicAnswer=function(e){var t;try{t=JSON.parse(e)}catch(e){return null}var n=t.slotMap;if(!n)return null;if("num"in n){var r=n.num;return Number.isNaN(Number(r))?null:r}if("numerator"in n&&"denominator"in n){var o=n.numerator,i=n.denominator;return n.integral,Number.isNaN(Number(o))||Number.isNaN(Number(i))?null:{numerator:o,denominator:i}}if("num_1"in n){var a=n.num_1;return n.num_2?null:Number.isNaN(a)?null:a}return"comparator"in n?n.comparator:null},cc._RF.pop()},{"../types/calculation":"calculation","@byted-dino/core":8,"@fe/mini-tex-parser":12}],home:[function(e,t,n){"use strict";cc._RF.push(t,"0c65cINoMhAQpP9glwLZxmX","home");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ScoreType=void 0;var u=e("@byted-dino/advanced"),l=e("@byted-dino/engine-cocos"),f=e("@byted-dino/surface"),p=e("../component/keyboard/keyboard"),h=e("../component/micBoard/micBoard"),d=e("../component/equation/equation"),y=e("../component/stage/stage"),b=e("../common/helper"),v=e("../common/constant"),m=e("../component/navigationBar/navigationBar"),g=e("../component/modal/manager"),_=e("../api/api"),w=e("../audioManager"),O=e("../component/virtual/practiceManager"),S=e("../component/virtual/answerTimer"),E=e("../types/calculation"),x=e("../common/report"),A=e("../urlParams"),C=e("../common/client/client"),P=e("../common/bridge/parent");n.ScoreType=cc.Enum(E.tupleKeyMirror(["wrong","correct"])),_.hideStatusBar();var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigationBar=null,t.keyboard=null,t.micBoard=null,t.equation=null,t.stage=null,t.practiceManager=null,t.answerTimer=null,t.stageLayout=null,t.screenLayout=null,t.panelLayout=null,t.lineWrap=null,t.micPanel=null,t.keyboardPanel=null,t.combo=null,t.data={stepLabelContent:""},t.methods={},t}var n,u,E,k,j,T,N,M,R;return r(t,e),n=t,t.prototype.onOpen=function(e,t){return s(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return _.hideAsrView(),e=this.setSkin,[4,l.loadCocosPrefab("prefab/pages/home")];case 1:return e.apply(this,[n.sent()]),this.updateStageLayout(),[4,this.setViewModel(o(o({},this.data),this.methods))];case 2:return n.sent(),[4,t()];case 3:return n.sent(),cc.director.emit(v.GlobalEvent.onHomeLoaded),_.hideNavigationBar(),this.registerEventHandlers(),[4,this.practiceManager.startPractice()];case 4:return n.sent(),this.updateStepContent(),this.adjustLiuhai(),[4,this.equation.replaceItem(this.practiceManager.activeItem)];case 5:return n.sent(),this.equation.isOralItem?[3,7]:[4,g.ModalManager.instance.showImageTip({type:"prepare",title:"\u8bf7\u51c6\u5907\u597d\u7eb8\u548c\u7b14",content:"\u7b14\u7b97\u9700\u8981\u4f60\u5728\u8349\u7a3f\u4e0a\u8fd0\u7b97",confirmText:"\u51c6\u5907\u597d\u4e86"})];case 6:n.sent(),n.label=7;case 7:return this.answerTimer.startCountdown=this.stage.startCountDown.bind(this.stage),this.answerTimer.stopCountdownAudio=this.stage.stopCountDownAudio,[4,this.answerTimer.start(this.equation.isOralItem)];case 8:return n.sent(),[2]}})})},t.prototype.adjustLiuhai=function(){return s(this,void 0,void 0,function(){var e,t,n,r;return c(this,function(o){switch(o.label){case 0:return e=0,C.client.isDali?[4,P.getAppCommonSize()]:[3,2];case 1:e=o.sent().statusBarHeight,o.label=2;case 2:return this.navigationBar.setTop(e),t=this.stepLabel.node.getPosition(),n=t.x,r=t.y,this.stepLabel.node.setPosition(n,r-e),[2]}})})},t.prototype.registerEventHandlers=function(){this.keyboard.onClick(this.handleKeyboardClick,this),this.micBoard.onClick(this.handleMicBoardClick,this),this.navigationBar.onClickBack(this.handleNavigationBackClick,this),this.navigationBar.onClickNext(this.handleNavigationNextClick,this),this.practiceManager.listen(v.CustomEvent.confirmBack,this.quitApp,this),this.answerTimer.listen(v.CustomEvent.answerTimeout,this.handleTimeout,this),this.listen(v.CustomEvent.keyboardDisabled,this.updateKeyboardDisabled,this),this.listen(v.CustomEvent.keyboardKeysDisabled,this.updateKeyboardDisabledKeys,this)},t.prototype.quitApp=function(){e.prototype.onClose.call(this),this.nextFrame(_.quitApp)},t.prototype.handleNavigationBackClick=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,g.ModalManager.instance.confirm({title:"\u786e\u5b9a\u8981\u9000\u51fa\u7ec3\u4e60\u5417",content:"\u9000\u51fa\u540e\u5c06\u4e0d\u4f1a\u8bb0\u5f55\u5f53\u524d\u8fdb\u5ea6",confirmText:"\u7ee7\u7eed\u7ec3\u4e60",cancelText:"\u6211\u8981\u9000\u51fa"})];case 1:return!1===e.sent()&&(this.sendEvent("math_exercise_exit_confirm"),this.onClose(),this.nextMultiFrame(5,_.quitApp)),[2]}})})},t.prototype.handleNavigationNextClick=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.answerTimer.isCanceled?[2]:(this.sendEvent("math_exercise_item_next_click",{try_cnt:this.equation.submitCount}),[4,g.ModalManager.instance.confirm({title:"\u8df3\u8fc7\u8fd9\u4e00\u9898",content:"\u8df3\u8fc7\u7684\u9898\u76ee\u4f1a\u88ab\u5224\u4e3a\u9519\u8bef",confirmText:"\u8df3\u8fc7",cancelText:"\u53d6\u6d88"})]);case 1:return e.sent()?(this.sendEvent("math_exercise_item_next_confirm",{try_cnt:this.equation.submitCount}),this.keyboard.setDisabled(!0),this.micBoard.setDisabled(!0),[4,this.answerTimer.stop()]):[3,5];case 2:return e.sent(),this.saveActivity(!1),[4,this.feedbackWrong()];case 3:return e.sent(),[4,this.gotoNextItem()];case 4:e.sent(),e.label=5;case 5:return[2]}})})},t.prototype.handleMicBoardClick=function(e){"keyboard"===e.type&&(this.switchToKeyboardPanel(),this.nextMultiFrame(3,function(){}))},t.prototype.handleKeyboardClick=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return"submit"!==e.type?[3,3]:(this.keyboard.setDisabled(!0),[4,this.submitUserAnswer()]);case 1:return t.sent(),[4,this.gotoNextItem()];case 2:return t.sent(),this.equation.updateInputKeysDisabled(),[3,5];case 3:return"mic"===e.type&&this.switchToMicPanel(),[4,this.equation.handleKeyboardClick(e)];case 4:t.sent(),t.label=5;case 5:return[2]}})})},t.prototype.handleTimeout=function(){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return(e=this.micPanel.active)?this.endRecord():this.keyboard.setDisabled(!0),[4,this.submitUserAnswer()];case 1:return t.sent(),e&&n.isFirstTimeMic,[4,this.gotoNextItem()];case 2:return t.sent(),[2]}})})},t.prototype.submitUserAnswer=function(){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return[4,this.answerTimer.stop()];case 1:return t.sent(),e=this.equation.isUserAnswerCorrect,this.saveActivity(e),this.sendFeedback(e),e?[4,this.feedbackCorrect()]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,this.feedbackWrong()];case 4:t.sent(),t.label=5;case 5:return[2,e]}})})},t.prototype.saveActivity=function(e){var t=this.practiceManager.activeItem;this.practiceManager.saveActivity({questionText:t.content.content,answer:b.getCorrectAnswer(t),userAnswer:this.equation.userAnswer,isCorrect:e,itemId:t.itemId,answerTimeCost:this.answerTimer.timeCost})},t.prototype.feedbackCorrect=function(){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return w.AudioManager.instance.play(w.AudioEnum.correct),[4,this.equation.submitCorrectAnswer()];case 1:return t.sent(),[4,this.stage.shineCorrect()];case 2:return t.sent(),(e=this.practiceManager.comboCount)>=3&&this.combo.getComponent("Combo").combo(e),this.fireworks.getComponent(cc.Animation).play(),[4,this.daliAttack()];case 3:return t.sent(),[2]}})})},t.prototype.feedbackWrong=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return w.AudioManager.instance.play(w.AudioEnum.wrong),[4,this.equation.submitWrongAnswer()];case 1:return e.sent(),[4,this.stage.shineWrong()];case 2:return e.sent(),[4,b.timeoutPromise(v.WrongAnswerDisplayMilliseconds)];case 3:return e.sent(),[4,this.equation.displayCorrectAnswer()];case 4:return e.sent(),[4,this.robotAttack()];case 5:return e.sent(),[2]}})})},t.prototype.daliAttack=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s;return c(this,function(c){switch(c.label){case 0:return e=this.practiceManager,t=e.comboCount,n=e.itemCount,r=e.activeItemIndex,o=r===n-1,(i=t%5==0&&!o)?[4,this.stage.daliPower()]:[3,2];case 1:c.sent(),c.label=2;case 2:return i?[3,4]:[4,b.timeoutPromise(1e3)];case 3:c.sent(),c.label=4;case 4:return[4,this.stage.daliAttack(i)];case 5:return c.sent(),a=o?this.stage.viewModel.robotLife:100/n,s=this.stage.viewModel.robotLife-a,this.stage.setRobotLife(s),[2]}})})},t.prototype.robotAttack=function(){return s(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return[4,b.timeoutPromise(1e3)];case 1:return n.sent(),[4,this.stage.robotAttack()];case 2:return n.sent(),e=100/this.practiceManager.itemCount*v.DaliLifeRatio,t=this.stage.viewModel.daliLife-e,this.stage.setDaliLife(t),[2]}})})},t.prototype.gotoNextItem=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.stage.viewModel.daliLife<=0?[4,this.practiceManager.robotWin()]:[3,2];case 1:return e.sent(),[3,7];case 2:return this.practiceManager.hasNextItem?(this.practiceManager.gotoNextItem(),this.updateStepContent(),[4,this.equation.replaceItem(this.practiceManager.activeItem)]):[3,5];case 3:return e.sent(),[4,this.answerTimer.start(this.equation.isOralItem)];case 4:return e.sent(),[3,7];case 5:return[4,this.practiceManager.daliWin()];case 6:e.sent(),e.label=7;case 7:return[2]}})})},t.prototype.updateKeyboardDisabled=function(e){this.keyboard.setDisabled(e.data)},t.prototype.updateKeyboardDisabledKeys=function(e){var t=this,n=e.data;Object.keys(n).forEach(function(e){t.keyboard.setKeyDisabled(e,n[e])})},t.prototype.sendFeedback=function(e){var t=e?1:0,n=this.keyboardPanel.active?"keyboard":"intention";this.sendEvent("math_exercise_item_result_show",{result:t,input_type:n,try_cnt:this.equation.submitCount})},t.prototype.sendEvent=function(e,t){void 0===t&&(t={});var n=this.practiceManager,r=n.activeItem,i=n.itemCount,a=n.activeItemIndex,s=r.itemId,c=r.uiType;x.send(e,o({type:c,question_id:s,index:a+1,exercise_type:A.UrlParams.instance.exerciseType,total_index:i},t))},t.prototype.updateStageLayout=function(){var e=cc.Canvas.instance.node.height,t=this.panelLayout.node.height;this.stageLayout.height=e-t+50,this.stageLayout.getComponent(cc.Widget).updateAlignment()},t.prototype.nextMultiFrame=function(e,t){var n=this;0!==e?1!==e?this.nextFrame(function(){n.nextMultiFrame(e-1,t)}):this.nextFrame(t):t()},t.prototype.switchToKeyboardPanel=function(){var e=this;this.keyboardPanel.active=!0,this.micPanel.active=!1,this.lineWrap.active=!1,this.screenLayout.height=147,this.nextMultiFrame(3,function(){e.updateStageLayout()})},t.prototype.switchToMicPanel=function(){var e=this;this.keyboardPanel.active=!1,this.micPanel.active=!0,this.lineWrap.active=!0,this.screenLayout.height=183,this.nextMultiFrame(3,function(){e.updateStageLayout()}),this.micBoard.startRecord(),_.startAsr()},t.prototype.startRecord=function(){this.micBoard.startRecord(),_.startAsr()},t.prototype.endRecord=function(){_.stopAsr(),this.micBoard.endRecord()},t.prototype.updateStepContent=function(){var e=this.practiceManager,t=e.activeItemIndex,n=e.itemCount;this.viewModel.stepLabelContent=t+1+" / "+n},Object.defineProperty(t,"isFirstTimeMic",{get:function(){var e=localStorage.getItem(v.StorageKey.IS_FIRST_TIME_MIC);return null===e||"true"===e},enumerable:!1,configurable:!0}),i([f.subComp(m.NavigationBar),a("design:type","function"==typeof(u=void 0!==m.NavigationBar&&m.NavigationBar)?u:Object)],t.prototype,"navigationBar",void 0),i([f.subComp(p.Keyboard),a("design:type","function"==typeof(E=void 0!==p.Keyboard&&p.Keyboard)?E:Object)],t.prototype,"keyboard",void 0),i([f.subComp(h.MicBoard),a("design:type","function"==typeof(k=void 0!==h.MicBoard&&h.MicBoard)?k:Object)],t.prototype,"micBoard",void 0),i([f.subComp(d.Equation),a("design:type","function"==typeof(j=void 0!==d.Equation&&d.Equation)?j:Object)],t.prototype,"equation",void 0),i([f.subComp(y.Stage),a("design:type","function"==typeof(T=void 0!==y.Stage&&y.Stage)?T:Object)],t.prototype,"stage",void 0),i([f.subComp(O.PracticeManager),a("design:type","function"==typeof(N=void 0!==O.PracticeManager&&O.PracticeManager)?N:Object)],t.prototype,"practiceManager",void 0),i([f.subComp(S.AnswerTimer),a("design:type","function"==typeof(M=void 0!==S.AnswerTimer&&S.AnswerTimer)?M:Object)],t.prototype,"answerTimer",void 0),i([f.bindValue("string",function(e){return e.stepLabelContent}),a("design:type","function"==typeof(R="undefined"!=typeof cc&&cc.Label)?R:Object)],t.prototype,"stepLabel",void 0),t=n=i([l.cccomponent],t)}(u.Scene);n.default=k,cc._RF.pop()},{"../api/api":"api","../audioManager":"audioManager","../common/bridge/parent":"parent","../common/client/client":"client","../common/constant":"constant","../common/helper":"helper","../common/report":"report","../component/equation/equation":"equation","../component/keyboard/keyboard":"keyboard","../component/micBoard/micBoard":"micBoard","../component/modal/manager":"manager","../component/navigationBar/navigationBar":"navigationBar","../component/stage/stage":"stage","../component/virtual/answerTimer":"answerTimer","../component/virtual/practiceManager":"practiceManager","../types/calculation":"calculation","../urlParams":"urlParams","@byted-dino/advanced":4,"@byted-dino/engine-cocos":10,"@byted-dino/surface":11}],http:[function(e,t,n){"use strict";cc._RF.push(t,"1f2b1bWdxJLiIz1lOqdOYEe","http");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(e("qs")),c=e("../helper/fetch.utils"),u=e("../helper/bridge"),l=e("../../client/client"),f="undefined"!=typeof localStorage&&localStorage.getItem("__mock__")?JSON.parse(localStorage.getItem("__mock__")):{UserInfo:{},Header:{}};f&&f.Header&&(f.Header=u.getAcceptHeader(f.Header));var p={baseURL:"",timeout:0,credential:!0,headers:{}},h={},d={},y=null,b=function(e,t,n,a){return o(void 0,void 0,void 0,function(){var o,p,y,b,v,m,g,_;return i(this,function(i){switch(i.label){case 0:return o=window.fetch,p=c.getUrl(e,n.baseURL||h.baseURL),y=void 0===n.credential?h.credential:n.credential,b={},l.client.isLamp?[4,u.fetchDeviceHeader()]:[3,2];case 1:return v=i.sent(),Object.assign(b,v),[3,3];case 2:Object.assign(b,f.Header),i.label=3;case 3:m=r(r(r({Accept:"application/json"},b),h.headers),n.headers),i.label=4;case 4:return i.trys.push([4,10,,11]),g=null,"POST"!==a?[3,6]:[4,o(p+s.default.stringify(d,{addQueryPrefix:!0}),{method:a,headers:r({"Content-Type":"application/json"},m),body:JSON.stringify(t||{}),credentials:y?"same-origin":"omit"})];case 5:return g=i.sent(),[3,8];case 6:return[4,o(p+s.default.stringify(r(r({},d),t),{addQueryPrefix:!0}),{method:a,headers:m,credentials:y?"same-origin":"omit"})];case 7:g=i.sent(),i.label=8;case 8:if(g&&200!==g.status)throw new Error(g.statusText);return[4,g.json()];case 9:return[2,i.sent()];case 10:if(_=i.sent(),n.defaultValue)return[2,n.defaultValue];throw _;case 11:return[2]}})})},v=function(e,t,n,r){return void 0===n&&(n={}),o(void 0,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:return o=n.timeout||h.timeout,[4,y];case 1:return i.sent(),o?[2,Promise.race([b(e,t,n,r),c.TimeExceed(o,"\u8bf7\u6c42\u8d85\u65f6"+o+"ms")])]:[2,b(e,t,n,r)]}})})},m={init:function(e){return void 0===e&&(e={}),y=new Promise(function(e){return o(void 0,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return l.client.isLamp?[4,u.getNativeData()]:[3,2];case 1:return t=n.sent(),Object.assign(d,t),[3,3];case 2:Object.assign(d,f.UserInfo),n.label=3;case 3:return d.did&&!d.device_id&&(d.device_id=d.did),e(d),[2]}})})}),Object.assign(h,p,e),h},get:function(e,t,n){return void 0===t&&(t={}),o(void 0,void 0,void 0,function(){return i(this,function(r){return[2,v(e,t,n,"GET")]})})},post:function(e,t,n){return void 0===t&&(t={}),o(void 0,void 0,void 0,function(){return i(this,function(r){return[2,v(e,t,n,"POST")]})})}};n.default=m,cc._RF.pop()},{"../../client/client":"client","../helper/bridge":"bridge","../helper/fetch.utils":"fetch.utils",qs:21}],imageModal:[function(e,t,n){"use strict";cc._RF.push(t,"ec426070shAJofpMlhhudfz","imageModal");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.ImageModal=void 0;var o={prepare:"https://p3.daliapp.net/obj/h-static/children/modal_dali_prepare.png",win:"https://p3.daliapp.net/obj/h-static/children/modal_dali_win.png",lose:"https://p3.daliapp.net/obj/h-static/children/modal_dali_lose.png"},i=function(e){function t(n){var r=e.call(this)||this;r.handleClose=function(){r.modalHandlerResolve(void 0)},r.handleConfirm=function(e){e.stopPropagation(),r.modalHandlerResolve(!0)},t.addStyleSheet();var i=n.title,a=n.content,s=n.confirmText,c=n.duration;return r.title=i,r.content=a,r.duration=c,r.modalContent.classList.add("image-modal"),r.imageDOM=document.createElement("img"),r.imageDOM.classList.add("image-wrap"),r.imageDOM.src=o[n.type],r.modalContent.appendChild(r.imageDOM),void 0!==r.title&&(r.titleDOM=document.createElement("div"),r.titleDOM.classList.add("image-title"),r.titleDOM.innerText=r.title,r.modalContent.appendChild(r.titleDOM)),r.contentDOM=document.createElement("div"),r.contentDOM.classList.add("image-content"),r.contentDOM.innerText=r.content,r.modalContent.appendChild(r.contentDOM),s&&(r.buttonGroup=document.createElement("div"),r.buttonGroup.classList.add("button-group"),r.modalContent.appendChild(r.buttonGroup),r.confirmButton=document.createElement("div"),r.confirmButton.classList.add("confirm-button"),r.confirmButton.innerText=s,r.confirmButton.addEventListener("touchend",r.handleConfirm),r.buttonGroup.appendChild(r.confirmButton)),r}return r(t,e),t.addStyleSheet=function(){t.imageModalStyleSheet||(t.imageModalStyleSheet=document.createElement("style"),t.imageModalStyleSheet.type="text/css",t.imageModalStyleSheet.appendChild(document.createTextNode("\n      .modal-container .image-modal {\n        position: fixed;\n        box-sizing: border-box;\n        left: 0;\n        right: 0;\n        margin: auto;\n      }\n      \n      .image-modal .image-wrap {\n        width: 360px;\n        height: 450px;\n        object-fit: contain;\n        margin-bottom: -60px;\n      }\n      \n      .image-modal .image-title {\n        color: #fff;\n        font-size: 26px;\n        text-align: center;\n        margin-bottom: 12px;\n      }\n      \n      .image-modal .image-content {\n        color: #fff;\n        font-size: 22px;\n        text-align: center;\n        margin-bottom: 24px;\n      }\n      \n      .image-modal .button-group {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      \n      .image-modal .confirm-button {\n        width: 200px;\n        height: 56px;\n        line-height: 56px;\n        border-radius: 100px;\n        color: #ffffff;\n        font-weight: bold;\n        font-size: 20px;\n        text-align: center;\n        background: linear-gradient(360deg, #4673FA 0%, #93A9F5 100%);\n      }\n    ")),document.head.appendChild(t.imageModalStyleSheet))},t.prototype.show=function(){var t=this;e.prototype.show.call(this),void 0!==this.duration&&(this.timer=window.setTimeout(function(){t.modalHandlerResolve(void 0)},this.duration))},t.prototype.destroy=function(){var t;void 0!==this.duration&&window.clearTimeout(this.timer),this.modalContent.removeEventListener("touchend",this.handleClose),null===(t=this.confirmButton)||void 0===t||t.removeEventListener("touchend",this.handleConfirm),e.prototype.destroy.call(this)},t}(e("./modal").Modal);n.ImageModal=i,cc._RF.pop()},{"./modal":"modal"}],keyboard:[function(e,t,n){"use strict";cc._RF.push(t,"481b3kL1lJBB44frytDefMw","keyboard");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.Keyboard=void 0;var c=e("@byted-dino/engine-cocos"),u=e("@byted-dino/surface"),l=e("../../types/calculation"),f=(cc.Enum({submit:"submit",next:"next"}),cc.Enum(l.tupleKeyMirror(["number","plus","minus","multi","divide","point","percent","frac","lt","gt","eq","mic","keyboard","delete","submit"])),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.submit=null,t.next=null,t.keys=[],t._disabled=!1,t}return r(t,e),t.prototype.onOpen=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return e=this.setSkin,[4,c.loadCocosPrefab("/prefab/component/keyboard/keyboard")];case 1:return e.apply(this,[t.sent()]),this.setViewModel({}),this.setChildren(),this.skin.on("keyboardtouchend",this.handleClick,this),[2]}})})},t.prototype.setChildren=function(){var e=this.skin.children[0];this.keys=null===e||void 0===e?void 0:e.children.reduce(function(e,t){return s(e,t.children)},[])},t.prototype.onClick=function(e,t){this.skin.on("delegateKeyboardClick",e,t)},t.prototype.onClose=function(){this.skin.targetOff(this.skin)},t.prototype.handleClick=function(e){e.stopPropagation(),this.skin.emit("delegateKeyboardClick",e.detail)},t.prototype.switchType=function(e){var t=this;switch(e){case"next":this.next.active=!0,this.submit.active=!1;break;case"submit":this.next.active=!1,this.submit.active=!0}this.nextFrame(function(){t.next.parent.getComponent(cc.Layout).updateLayout()})},t.prototype.setDisabled=function(e){var t=this;this._disabled=e,this.keys.forEach(function(e){e.getComponent("Key").disabled=t._disabled})},t.prototype.setKeyDisabled=function(e,t,n){this.keys.map(function(e){return e.getComponent("Key")}).filter(function(t){return t.tag===e&&(!n||t.label===n)}).forEach(function(e){e.disabled=t})},t=o([c.cccomponent],t)}(u.Component));n.Keyboard=f,cc._RF.pop()},{"../../types/calculation":"calculation","@byted-dino/engine-cocos":10,"@byted-dino/surface":11}],key:[function(e,t,n){"use strict";cc._RF.push(t,"8462d25RRBCdZ7QynVM63lq","key");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../audioManager"),s=cc._decorator,c=s.ccclass,u=s.property,l=s.executeInEditMode,f=cc.Enum({label:1,sprintFrame:2}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._type=f.label,t.tag="",t._disabled=!1,t._label="",t._normalColor=new cc.Color(70,115,250,1),t.pressColor=new cc.Color(70,115,250,1),t.disabledColor=new cc.Color(70,115,250,1),t._normalBackground=null,t.pressedBackground=null,t.disabledBackground=null,t._normalForeground=null,t.pressedForeground=null,t.disabledForeground=null,t.labelNode=null,t.backgroundNode=null,t.foregroundNode=null,t.activeNode=null,t}var n,s,p,h,d,y,b,v,m;return r(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this.updateActiveNode()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this.updateDisabled()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e,this.labelNode.getComponent(cc.Label).string=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalColor",{get:function(){return this._normalColor},set:function(e){this._normalColor=e,this.labelNode.color=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalBackground",{get:function(){return this._normalBackground},set:function(e){this._normalBackground=e,this.backgroundNode.getComponent(cc.Sprite).spriteFrame=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalForeground",{get:function(){return this._normalForeground},set:function(e){this._normalForeground=e,this.foregroundNode.getComponent(cc.Sprite).spriteFrame=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.init()},t.prototype.init=function(){this.labelNode=this.node.getChildByName("label"),this.backgroundNode=this.node.getChildByName("background"),this.foregroundNode=this.node.getChildByName("foreground"),this.updateActiveNode(),this.registerEvent()},t.prototype.updateActiveNode=function(){this.type===f.label?(this.labelNode.active=!0,this.foregroundNode.active=!1,this.activeNode=this.labelNode):(this.labelNode.active=!1,this.foregroundNode.active=!0,this.activeNode=this.foregroundNode)},t.prototype.onDestroy=function(){this.unregisterEvent()},t.prototype.updateDisabled=function(){this.changeButtonType(this.disabled?"disabled":"normal")},t.prototype.registerEvent=function(){var e,t,n;null===(e=this.node)||void 0===e||e.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),null===(t=this.node)||void 0===t||t.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),null===(n=this.node)||void 0===n||n.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},t.prototype.unregisterEvent=function(){var e,t,n;null===(e=this.node)||void 0===e||e.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),null===(t=this.node)||void 0===t||t.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),null===(n=this.node)||void 0===n||n.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},t.prototype.onTouchStart=function(){if(!this.disabled){this.normalBackground&&(this.activeNode.y-=1),cc.tween(this.node).to(.1,{scale:.9}).start(),this.changeButtonType("pressed"),a.AudioManager.instance.play("click");var e=new cc.Event.EventCustom("keyboardtouchstart",!0);e.detail={type:this.type,label:this.label},this.node.dispatchEvent(e)}},t.prototype.onTouchEnd=function(){if(!this.disabled){this.normalBackground&&(this.activeNode.y+=1,cc.tween(this.node).to(.1,{scale:1}).start()),this.changeButtonType("normal");var e=new cc.Event.EventCustom("keyboardtouchend",!0);e.detail={type:this.tag,label:this.label},this.node.dispatchEvent(e)}},t.prototype.changeButtonType=function(e){if(this.activeNode){switch(e){case"normal":this.normalBackground&&(this.backgroundNode.getComponent(cc.Sprite).spriteFrame=this.normalBackground);break;case"disabled":this.disabledBackground&&(this.backgroundNode.getComponent(cc.Sprite).spriteFrame=this.disabledBackground);break;case"pressed":this.pressedBackground&&(this.backgroundNode.getComponent(cc.Sprite).spriteFrame=this.pressedBackground)}switch(this.type){case f.label:switch(e){case"normal":this.normalColor&&(this.activeNode.color=this.normalColor.clone().setA(255),this.activeNode.opacity=this.normalColor.a);break;case"disabled":this.disabledColor&&(this.activeNode.color=this.disabledColor.clone().setA(255),this.activeNode.opacity=this.disabledColor.a);break;case"pressed":this.pressColor&&(this.activeNode.color=this.pressColor.clone().setA(255),this.activeNode.opacity=this.pressColor.a)}break;case f.sprintFrame:var t=this.activeNode.getComponent(cc.Sprite);switch(e){case"normal":this.normalForeground&&(t.spriteFrame=this.normalForeground);break;case"disabled":this.disabledForeground&&(t.spriteFrame=this.disabledForeground);break;case"pressed":this.pressedForeground&&(t.spriteFrame=this.pressedForeground)}}}},o([u({type:cc.Enum(f)}),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"type",null),o([u({visible:!1}),i("design:type",Object)],t.prototype,"_type",void 0),o([u,i("design:type",Object)],t.prototype,"tag",void 0),o([u(cc.Boolean),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"disabled",null),o([u({visible:!1}),i("design:type",Object)],t.prototype,"_disabled",void 0),o([u({visible:function(){return this.type===f.label}}),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"label",null),o([u({visible:!1}),i("design:type",Object)],t.prototype,"_label",void 0),o([u({type:cc.Color,visible:function(){return this.type===f.label}}),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"normalColor",null),o([u({visible:!1}),i("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Color)?n:Object)],t.prototype,"_normalColor",void 0),o([u({visible:function(){return this.type===f.label}}),i("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Color)?s:Object)],t.prototype,"pressColor",void 0),o([u({visible:function(){return this.type===f.label}}),i("design:type","function"==typeof(p="undefined"!=typeof cc&&cc.Color)?p:Object)],t.prototype,"disabledColor",void 0),o([u(cc.SpriteFrame),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"normalBackground",null),o([u({visible:!1}),i("design:type","function"==typeof(h="undefined"!=typeof cc&&cc.SpriteFrame)?h:Object)],t.prototype,"_normalBackground",void 0),o([u(cc.SpriteFrame),i("design:type","function"==typeof(d="undefined"!=typeof cc&&cc.SpriteFrame)?d:Object)],t.prototype,"pressedBackground",void 0),o([u(cc.SpriteFrame),i("design:type","function"==typeof(y="undefined"!=typeof cc&&cc.SpriteFrame)?y:Object)],t.prototype,"disabledBackground",void 0),o([u({type:cc.SpriteFrame,visible:function(){return this.type===f.sprintFrame}}),u(cc.SpriteFrame),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"normalForeground",null),o([u({visible:!1}),i("design:type","function"==typeof(b="undefined"!=typeof cc&&cc.SpriteFrame)?b:Object)],t.prototype,"_normalForeground",void 0),o([u({type:cc.SpriteFrame,visible:function(){return this.type===f.sprintFrame}}),i("design:type","function"==typeof(v="undefined"!=typeof cc&&cc.SpriteFrame)?v:Object)],t.prototype,"pressedForeground",void 0),o([u({type:cc.SpriteFrame,visible:function(){return this.type===f.sprintFrame}}),i("design:type","function"==typeof(m="undefined"!=typeof cc&&cc.SpriteFrame)?m:Object)],t.prototype,"disabledForeground",void 0),t=o([c("Key"),l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../audioManager":"audioManager"}],literal:[function(e,t,n){"use strict";cc._RF.push(t,"a70b0TSseJMYKN59y826tg0","literal");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./equationSymbolComponent"),c=e("../equationLayoutHelper"),u=cc._decorator.ccclass,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._content="",t}return r(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=e,this.node.getComponent("cc.Label").string=e},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){return i(this,void 0,void 0,function(){var n;return a(this,function(r){return this.content=e.oneline,(n=this.getComponent("cc.Label")).fontSize=t,n.lineHeight=t,[2]})})},t.estimateWidth=function(e,t){return c.estimateTextWidth(e.oneline,t)},t.estimateHeight=function(e,t){return c.estimateTextHeight(e.oneline,t)},t.componentName="Literal",t.prefabName="literal",t=o([u("Literal")],t)}(s.EquationSymbolComponent);n.default=l,cc._RF.pop()},{"../equationLayoutHelper":"equationLayoutHelper","./equationSymbolComponent":"equationSymbolComponent"}],manager:[function(e,t,n){"use strict";cc._RF.push(t,"a36f9vc4bZEM4Twh5clfq9V","manager");var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ModalManager=void 0;var i=e("./confirm"),a=e("./imageModal"),s=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){var t;return e._instance=null!==(t=e._instance)&&void 0!==t?t:new e,e._instance},enumerable:!1,configurable:!0}),e.prototype.confirm=function(e){return r(this,void 0,void 0,function(){var t;return o(this,function(n){return(t=new i.Confirm(e)).show(),t.modalHandler.then(function(){t.destroy()}),[2,t.modalHandler]})})},e.prototype.showImageTip=function(e){return r(this,void 0,void 0,function(){var t;return o(this,function(n){return(t=new a.ImageModal(e)).show(),t.modalHandler.then(function(){t.destroy()}),[2,t.modalHandler]})})},e}();n.ModalManager=s,cc._RF.pop()},{"./confirm":"confirm","./imageModal":"imageModal"}],micBoard:[function(e,t,n){"use strict";cc._RF.push(t,"5744epGGidDDbSuDYMgqKUO","micBoard");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MicBoard=void 0;var s=e("@byted-dino/engine-cocos"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.switchToKeyboard=null,t.micButton=null,t.micRecord=null,t._disabled=!1,t}return r(t,e),t.prototype.onOpen=function(){return i(this,void 0,void 0,function(){var e,t;return a(this,function(n){switch(n.label){case 0:return e=this.setSkin,[4,s.loadCocosPrefab("/prefab/component/micBoard/micBoard")];case 1:return e.apply(this,[n.sent()]),this.setViewModel({}),this.skin.on("keyboardtouchend",this.handleClick,this),t=this.micShadowBefore.getComponent(cc.Animation),t.getAnimationState("mic_shadow").delay=1,t.play(),[this.micSound1,this.micSound2,this.micSound3,this.micSound4,this.micSound5].forEach(function(e,t){e.getComponent(cc.Animation).play().time=.25*Math.abs(2-t)}),this.registerMicButtonEvent(),[2]}})})},t.prototype.registerMicButtonEvent=function(){var e=this;this.micButton.node.on(cc.Node.EventType.TOUCH_END,function(){e.startRecord(),e.skin.emit("onRecord")})},t.prototype.startRecord=function(){this.micButton.node.active=!1,this.micRecord.active=!0},t.prototype.endRecord=function(){this.micRecord.active=!1,this.micButton.node.active=!0},t.prototype.onClick=function(e,t){this.skin.on("delegateKeyboardClick",e,t)},t.prototype.onRecord=function(e,t){this.skin.on("onRecord",e,t)},t.prototype.onClose=function(){this.micButton.node.targetOff(this.micButton.node),this.skin.targetOff(this.skin)},t.prototype.handleClick=function(e){e.stopPropagation(),this.skin.emit("delegateKeyboardClick",e.detail)},t.prototype.setDisabled=function(e){this._disabled=e,this.switchToKeyboard.getComponent("Key").disabled=e},t=o([s.cccomponent],t)}(e("@byted-dino/surface").Component);n.MicBoard=c,cc._RF.pop()},{"@byted-dino/engine-cocos":10,"@byted-dino/surface":11}],modal:[function(e,t,n){"use strict";cc._RF.push(t,"1781coxdeVBJLyC4B4aEd7U","modal"),Object.defineProperty(n,"__esModule",{value:!0}),n.Modal=void 0;var r=function(){function e(){var t=this;this.handleBackDrop=function(e){e.target===t.backDrop&&t.modalHandlerResolve(void 0)},e.addStyleSheet(),this.container=document.createElement("div"),this.container.classList.add("modal-container"),this.backDrop=document.createElement("div"),this.backDrop.classList.add("backdrop"),this.backDrop.addEventListener("touchend",this.handleBackDrop),this.container.appendChild(this.backDrop),this.modalContent=document.createElement("div"),this.modalContent.classList.add("modal-content"),this.container.appendChild(this.modalContent)}return e.addStyleSheet=function(){e.styleSheet||(e.styleSheet=document.createElement("style"),e.styleSheet.type="text/css",e.styleSheet.appendChild(document.createTextNode("\n      .modal-container {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n      }\n      .modal-container .backdrop {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background-color: rgba(0, 8, 32, 0.8);\n      }\n      .modal-container .modal-content {\n        \n      }\n    ")),document.head.appendChild(e.styleSheet))},e.prototype.destroy=function(){this.backDrop.removeEventListener("touchend",this.handleBackDrop),this.container.remove()},e.prototype.show=function(){var e=this;document.body.appendChild(this.container),this.modalHandler=new Promise(function(t){e.modalHandlerResolve=t}),this.modalHandler.then(function(){e.hide()})},e.prototype.hide=function(){this.container.remove()},e}();n.Modal=r,cc._RF.pop()},{}],native:[function(e,t,n){"use strict";cc._RF.push(t,"5c850VAA/1B3qy+JQKvBk7B","native");var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../helper/bridge"),a=e("../helper/fetch.utils"),s={baseURL:"",timeout:0},c={},u=function(e){return r(void 0,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,i.callNative("core.fetch",e)];case 1:return[2,t.sent()]}})})},l=function(e,t,n,i){return r(void 0,void 0,void 0,function(){var r,s,l,f,p,h,d;return o(this,function(o){switch(o.label){case 0:r=n.headers,s=void 0===r?{}:r,l=n.defaultValue,f=n.baseURL,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u({url:a.getUrl(e,f||c.baseURL),params:t,config:{method:i,headers:s}})];case 2:if(p=o.sent(),h=p.data,!1===p.result)throw new Error("\u8bf7\u6c42\u5931\u8d25");return[2,h];case 3:if(d=o.sent(),l)return[2,l];throw d;case 4:return[2]}})})},f=function(e,t,n,i){return void 0===n&&(n={}),r(void 0,void 0,void 0,function(){var r;return o(this,function(o){return(r=n.timeout||c.timeout)?[2,Promise.race([l(e,t,n,i),a.TimeExceed(r,"\u8bf7\u6c42\u8d85\u65f6"+r+"ms")])]:[2,l(e,t,n,i)]})})},p={init:function(e){return void 0===e&&(e={}),Object.assign(c,s,e),c},get:function(e,t,n){return void 0===t&&(t={}),r(void 0,void 0,void 0,function(){return o(this,function(r){return[2,f(e,t,n,"GET")]})})},post:function(e,t,n){return void 0===t&&(t={}),r(void 0,void 0,void 0,function(){return o(this,function(r){return[2,f(e,t,n,"POST")]})})}};n.default=p,cc._RF.pop()},{"../helper/bridge":"bridge","../helper/fetch.utils":"fetch.utils"}],navigationBar:[function(e,t,n){"use strict";cc._RF.push(t,"c95b9tfJhtOBLWcjMbUeTtj","navigationBar");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.NavigationBar=void 0;var s=e("@byted-dino/engine-cocos"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backButton=null,t.nextButton=null,t}return r(t,e),t.prototype.onOpen=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return e=this.setSkin,[4,s.loadCocosPrefab("/prefab/component/navigationBar/navigationBar")];case 1:return e.apply(this,[t.sent()]),[4,this.setViewModel({})];case 2:return t.sent(),this.registerBackButtonEvent(),this.registerNextButtonEvent(),[2]}})})},t.prototype.registerBackButtonEvent=function(){var e=this;this.backButton.node.on(cc.Node.EventType.TOUCH_END,function(){e.skin.emit("onClickBack")})},t.prototype.registerNextButtonEvent=function(){var e=this;this.nextButton.node.on(cc.Node.EventType.TOUCH_END,function(){e.skin.emit("onClickNext")})},t.prototype.onClickBack=function(e,t){this.skin.on("onClickBack",e,t)},t.prototype.onClickNext=function(e,t){this.skin.on("onClickNext",e,t)},t.prototype.onClose=function(){this.backButton.node.targetOff(this.backButton.node),this.nextButton.node.targetOff(this.nextButton.node)},t.prototype.setTop=function(e){this.skin.getComponent(cc.Widget).top=e},t=o([s.cccomponent],t)}(e("@byted-dino/surface").Component);n.NavigationBar=c,cc._RF.pop()},{"@byted-dino/engine-cocos":10,"@byted-dino/surface":11}],parent:[function(e,t,n){"use strict";cc._RF.push(t,"c45d72dSrxAv6zGFyMkQ1yt","parent");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)},a=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getAppCommonSize=n.navigationBar=n.callBizNative=n.scanCode=n.logout=n.login=n.rendered=n.loaded=n.setGesture=n.uploadCover=n.shareAsync=n.share=n.callScheme=void 0;var l=u(e("qs")),f=e("../client/client"),p=e("./common"),h=e("./bridge.utils");function d(e){var t=120,n=e.type;return"open_mp"===n&&(t=160),"webpage"===n&&(t=f.client.isIOS?190:160),p.callNative("view.share",e,t)}i(e("./common"),n),n.callScheme=function(e,t){return p.callNative("core.scheme",{scheme:e+l.default.stringify(t,{addQueryPrefix:!0})},230)},n.share=d,n.shareAsync=function(e){return a(this,void 0,void 0,function(){var t=this;return s(this,function(n){return[2,new Promise(function(n,o){return a(t,void 0,void 0,function(){var t,i;return s(this,function(a){return t=h.randomName(),(i=window)[t+"_01"]=function(){delete i[t+"_01"],delete i[t+"_02"],n(t)},i[t+"_02"]=function(){delete i[t+"_01"],delete i[t+"_02"],o(t)},d(r(r({},e),{success:t+"_01",fail:t+"_02"})),[2]})})})]})})},n.uploadCover=function(){return p.callNative("biz.uploadCover",{},200)},n.setGesture=function(e){return p.callNative("gesture.set",{gestureEnable:e})},n.loaded=function(){return p.callNative("app.loaded")},n.rendered=function(){return p.callNative("view.rendered")},n.login=function(){return p.callNative("app.login",{},221)},n.logout=function(){return p.callNative("app.logout",{},221)},n.scanCode=function(e){return p.callNative("biz.scanCode",{source:e},270)},n.callBizNative=function(e,t){return p.callNative("core.callNative",{type:e,data:t})},n.navigationBar=function(e){var t=[];return(e||[]).forEach(function(e){if("function"==typeof e.onClick){var n=h.randomName();t.push(n),window[n]=e.onClick,e.callbackId=n}}),p.bindEvent("callback",function(e){var n=e.callbackId,r=c(e,["callbackId"]);if(!(t.indexOf(n)<0)){var o=window[n];o&&"function"==typeof o&&o(r)}}),p.callNative("view.navigationBar",{rightBtns:e.map(function(e){return r(r({},e),{onClick:e.callbackId})})},320)},n.getAppCommonSize=function(){return a(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,p.callNative("core.getNativeData",{key:"appCommonSize"})];case 1:return[2,e.sent()]}})})},cc._RF.pop()},{"../client/client":"client","./bridge.utils":"bridge.utils","./common":"common",qs:21}],practiceManager:[function(e,t,n){"use strict";cc._RF.push(t,"4d138uTTyFLXo2k1afhvVZ5","practiceManager");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PracticeManager=void 0;var a=e("@byted-dino/surface"),s=e("../../api/api"),c=e("../../common/constant"),u=e("../../common/helper"),l=e("../../common/report"),f=e("../modal/manager"),p=e("../../audioManager"),h=e("../../urlParams"),d=function(e){function t(){var t=e.call(this)||this;return t.activeItemIndex=0,t.itemList=[],t.activities=[],h.UrlParams.instance.isDebug&&t.renderDebugItem(),t}return r(t,e),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this.itemList.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this.itemList[this.activeItemIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNextItem",{get:function(){return this.activeItemIndex<this.itemList.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"comboCount",{get:function(){return this.activities.reduce(function(e,t){return t.isCorrect?e+1:0},0)},enumerable:!1,configurable:!0}),t.prototype.startPractice=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:if(h.UrlParams.instance.isDebug)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,this.requestStartPractice()];case 2:return e.sent(),[3,6];case 3:return e.sent(),[4,f.ModalManager.instance.confirm({title:"\u7f51\u7edc\u5f02\u5e38",content:"\u7f51\u7edc\u5f02\u5e38\uff0c\u83b7\u53d6\u9898\u76ee\u5931\u8d25",confirmText:"\u8fd4\u56de"})];case 4:return e.sent(),[4,this.dispatch(c.CustomEvent.confirmBack)];case 5:return e.sent(),[3,6];case 6:return[2]}})})},t.prototype.gotoNextItem=function(){var e=this.hasNextItem;return e&&this.activeItemIndex++,e},t.prototype.daliWin=function(){return o(this,void 0,void 0,function(){var e,t,n,r,o=this;return i(this,function(i){switch(i.label){case 0:return e=h.UrlParams.instance,t=e.needShowReport,n=e.exerciseType,l.send("math_exercise_final_feedback_show",{status:"positive",exercise_type:n}),p.AudioManager.instance.play(p.AudioEnum.win),f.ModalManager.instance.showImageTip({type:"win",title:"\u606d\u559c\u6218\u80dc\u602a\u517d",content:"\u518d\u63a5\u518d\u5389\u54e6",confirmText:t?void 0:"\u8fd4\u56de"}).then(function(e){e&&o.dispatch(c.CustomEvent.confirmBack)}),[4,Promise.all([this.finishPractice(),u.timeoutPromise(c.ResultDisplayMilliseconds)])];case 1:return r=i.sent()[0].resultIdStr,t?(h.UrlParams.instance.goToReportPage(r),[3,4]):[3,2];case 2:return[4,this.dispatch(c.CustomEvent.confirmBack)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype.robotWin=function(){return o(this,void 0,void 0,function(){var e,t,n,r,o=this;return i(this,function(i){switch(i.label){case 0:return e=h.UrlParams.instance,t=e.needShowReport,n=e.exerciseType,l.send("math_exercise_final_feedback_show",{status:"negative",exercise_type:n}),p.AudioManager.instance.play(p.AudioEnum.fail),f.ModalManager.instance.showImageTip({type:"lose",title:"\u6ca1\u80fd\u6218\u80dc\u602a\u517d",content:"\u7ee7\u7eed\u52a0\u6cb9\u54e6",confirmText:t?void 0:"\u8fd4\u56de"}).then(function(e){e&&o.dispatch(c.CustomEvent.confirmBack)}),[4,Promise.all([this.finishPractice(),u.timeoutPromise(c.ResultDisplayMilliseconds)])];case 1:return r=i.sent()[0].resultIdStr,t?(h.UrlParams.instance.goToReportPage(r),[3,4]):[3,2];case 2:return[4,this.dispatch(c.CustomEvent.confirmBack)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype.finishPractice=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,this.requestFinishPractice()];case 1:return[2,e.sent()];case 2:return e.sent(),[4,f.ModalManager.instance.confirm({title:"\u7f51\u7edc\u5f02\u5e38",content:"\u7f51\u7edc\u5f02\u5e38\uff0c\u6253\u5f00\u62a5\u544a\u5931\u8d25",confirmText:"\u91cd\u8bd5",cancelText:"\u53d6\u6d88"})];case 3:return e.sent()?[4,this.finishPractice()]:[3,5];case 4:return[2,e.sent()];case 5:return[4,this.dispatch(c.CustomEvent.confirmBack)];case 6:return e.sent(),[3,7];case 7:return[2]}})})},t.prototype.saveActivity=function(e){this.activities[this.activeItemIndex]=e},t.prototype.renderDebugItem=function(){this.itemList=u.sanitizeItems([{itemId:"0",uiType:2,content:{content:'<tex>1+2=</tex><answer id="0"></answer>'},answers:[{answerId:0,answerRes:[{answerType:1,intValue:"0",decimalValue:0,fractionValue:null,compareValue:1}]}]}])},t.prototype.requestStartPractice=function(){return o(this,void 0,void 0,function(){var e,t,n,r,o,a,l,p,d;return i(this,function(i){switch(i.label){case 0:return t=h.UrlParams.instance,n=t.practiceType,r=t.pointId,o=t.recommendId,a=t.recommendType,n!==c.PracticeType.Sync?[3,2]:[4,s.startPractice({pointId:r})];case 1:return l=i.sent(),p=l.itemList,e=void 0===p?[]:p,[3,4];case 2:return[4,s.loadRecommendItems({recommendResultIdStr:o,recommendType:a})];case 3:l=i.sent(),d=l.recommendItems.itemList,e=void 0===d?[]:d,i.label=4;case 4:return e.length>0?(this.itemList=u.sanitizeItems(e),[3,8]):[3,5];case 5:return[4,f.ModalManager.instance.confirm({title:"\u8bad\u7ec3\u9898\u76ee\u88ab\u9ed1\u6d1e\u5438\u8d70\u4e86\uff0c\u535a\u58eb\u6b63\u5728\u8865\u5145\u9898\u76ee",content:"",confirmText:"\u8fd4\u56de"})];case 6:return i.sent(),[4,this.dispatch(c.CustomEvent.confirmBack)];case 7:i.sent(),i.label=8;case 8:return[2]}})})},t.prototype.requestFinishPractice=function(){var e=this.activities.length,t=this.activities.filter(function(e){return e.isCorrect}).length,n=e-t,r=t/e,o=h.UrlParams.instance,i=o.pointId,a=o.grade,c=o.finishPracticeType;return s.finishPractice({pointId:i,finishType:c,mathReportDetail:{accuracy:r,correctCount:t,wrongCount:n,activities:this.activities,knowledgePoints:[{pointId:i}],grade:a}})},t}(a.Component);n.PracticeManager=d,cc._RF.pop()},{"../../api/api":"api","../../audioManager":"audioManager","../../common/constant":"constant","../../common/helper":"helper","../../common/report":"report","../../urlParams":"urlParams","../modal/manager":"manager","@byted-dino/surface":11}],prompt:[function(e,t,n){"use strict";cc._RF.push(t,"092de4YQqFOKJ3/8EMmA2wZ","prompt");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("@byted-dino/advanced"),u=e("@byted-dino/engine-cocos"),l=e("@byted-dino/surface"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.contentLabel=null,t}var n,c;return r(t,e),t.prototype.onOpen=function(e){return a(this,void 0,Promise,function(){var t;return s(this,function(n){switch(n.label){case 0:return t=this.setSkin,[4,u.loadCocosPrefab("prefab/component/dialog/prompt")];case 1:return t.apply(this,[n.sent()]),this.setViewModel({data:e}),[2]}})})},o([l.bindValue("string",function(e){return e.data.title}),i("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Label)?n:Object)],t.prototype,"titleLabel",void 0),o([l.bindValue("string",function(e){return e.data.content}),i("design:type","function"==typeof(c="undefined"!=typeof cc&&cc.Label)?c:Object)],t.prototype,"contentLabel",void 0),o([l.bindFor(function(e){return e.data.buttons},"button",[l.bindValue("label.string",function(e){return e.button.text}),l.bindOn(cc.Node.EventType.TOUCH_END,function(e){return e.button.callback(e.button)})]),i("design:type",Array)],t.prototype,"buttonList",void 0),t=o([u.cccomponent],t)}(c.Dialog);n.default=f,cc._RF.pop()},{"@byted-dino/advanced":4,"@byted-dino/engine-cocos":10,"@byted-dino/surface":11}],report:[function(e,t,n){(function(r){"use strict";cc._RF.push(t,"e1de6Af+JNFIZXQWfEjOUCq","report");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.tea=n.send=n.init=void 0;var i=o(e("byted-tea-sdk/lib/index-base.min")),a=e("./client/client"),s=e("./bridge/common"),c="production"===r.env.NODE_ENV;n.init=function(e){void 0===e&&(e=2404),i.default.init({app_id:e,channel:"cn",channel_domain:"https://mcs.daliapp.net",log:!c}),i.default.config({disable_auto_pv:!0,_staging_flag:c?0:1}),i.default.start()},n.send=function(e,t){void 0===t&&(t={}),a.client.isBrowser?i.default(e,t):s.report(e,t)},n.tea=function(e,t){void 0===t&&(t={}),i.default(e,t)},cc._RF.pop()}).call(this,e("_process"))},{"./bridge/common":"common","./client/client":"client",_process:2,"byted-tea-sdk/lib/index-base.min":16}],robotAnimationEventDelegate:[function(e,t,n){"use strict";cc._RF.push(t,"8b177ub77dOVoGLA86DiHcZ","robotAnimationEventDelegate");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.RobotAnimationEvent=void 0;var i=e("@byted-dino/core"),a=cc._decorator.ccclass;n.RobotAnimationEvent=cc.Enum({onAttackDali:"robot.onAttackDali"});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onAttackDali=function(){i.globalEventBus.dispatch(n.RobotAnimationEvent.onAttackDali)},t=o([a("RobotAnimationEventDelegate")],t)}(cc.Component);n.default=s,cc._RF.pop()},{"@byted-dino/core":8}],service:[function(e,t,n){"use strict";cc._RF.push(t,"ce3493cwdpEfquhBxe6RCPG","service"),Object.defineProperty(n,"__esModule",{value:!0});var r={baseURL:"https://cloudapi.bytedance.net",getNickName:"/faas/services/tt2jzv/invoke/myHelloWorld"};e("@byted-dino/axios").axios.defaults.baseURL=r.baseURL,n.default=r,cc._RF.pop()},{"@byted-dino/axios":7}],stage:[function(e,t,n){"use strict";cc._RF.push(t,"aceb4GsNOBPEo5yqHKzLtJH","stage");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=void 0;var c=e("@byted-dino/engine-cocos"),u=e("@byted-dino/surface"),l=e("@byted-dino/core"),f=e("./daliAnimationEventDelegate"),p=e("./robotAnimationEventDelegate"),h=e("../../audioManager"),d=cc.Enum({idle:"dali_idle",attack:"dali_attack",hit:"dali_hit",power:"dali_power"}),y=cc.Enum({idle:"robot_idle",attack:"robot_attack",hit:"robot_hit"}),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countDownNumber=[],t.stopCountDownAudio=function(){var e;null===(e=t.countDownAudioController)||void 0===e||e.stop()},t}var n,b,v;return r(t,e),n=t,t.prototype.onOpen=function(){return a(this,void 0,void 0,function(){var e,t,n,r,o,i,a;return s(this,function(s){switch(s.label){case 0:return e=this.setSkin,[4,c.loadCocosPrefab("/prefab/component/stage/stage")];case 1:return e.apply(this,[s.sent()]),this.greenLife=this.daliLifeBar.spriteFrame,t=this,[4,this.loadResource("/texture/stage/yellow_life",cc.SpriteFrame)];case 2:return t.yellowLife=s.sent(),n=this,[4,this.loadResource("/texture/stage/red_life",cc.SpriteFrame)];case 3:return n.redLife=s.sent(),r=this,[4,this.loadResource("/texture/stage/count_down_red",cc.SpriteFrame)];case 4:r.countDownRed=s.sent(),this.countDownBlue=this.timePercentFill.spriteFrame,o=0,s.label=5;case 5:return o<=10?(i=this.countDownNumber,a=o,[4,this.loadResource("/texture/stage/"+o,cc.SpriteFrame)]):[3,8];case 6:i[a]=s.sent(),s.label=7;case 7:return o++,[3,5];case 8:return this.setViewModel({daliLife:100,robotLife:100,greenLife:this.greenLife,yellowLife:this.yellowLife,redLife:this.redLife,get daliLifeProgress(){return this.daliLife},get robotLifeProgress(){return this.robotLife}},l.pipe("daliLifeProgress",l.tween(500)),l.pipe("robotLifeProgress",l.tween(500))),this.battleAudioController=h.AudioManager.instance.play(h.AudioEnum.battle,!0),this.daliAnimation=this.dali.getComponent(cc.Animation),this.robotAnimation=this.robot.getComponent(cc.Animation),this.daliAnimation.play(d.idle),this.robotAnimation.play(y.idle),[2]}})})},t.prototype.loadResource=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){return[2,new Promise(function(n,r){cc.loader.loadRes(e,t,function(e,t){e?r(e):n(t)})})]})})},t.prototype.onClose=function(){var e,t;null===(e=this.battleAudioController)||void 0===e||e.stop(),null===(t=this.countDownAudioController)||void 0===t||t.stop()},t.prototype.startCountDown=function(e,t,n){var r=this;void 0===t&&(t=3),this.wrong.active=!1,this.correct.active=!1,this.timePercentFill.node.active=!0,e<0&&(e=0);var o=e;if(this.timePercentFill.fillRange=-1,e<=t?(this.timePercentFill.spriteFrame=this.countDownRed,this.timeLabel.node.active=!0,this.timeLabel.spriteFrame=this.countDownNumber[e],this.timeLabel.getComponent(cc.Animation).play()):(this.timeLabel.node.active=!1,this.timePercentFill.spriteFrame=this.countDownBlue),0===e)return this.timePercentFill.fillRange=0,void(null===n||void 0===n||n());this.timePercentTween=cc.tween(this.timePercentFill).to(1,{fillRange:-(e-1)/o}).start();var i=this.setInterval(1e3,function(){if(0===--e)return r.timePercentTween&&r.timePercentTween.removeSelf(),i.cancel(),void(null===n||void 0===n||n());e===t&&(r.countDownAudioController=3===t?h.AudioManager.instance.play(h.AudioEnum.countdown):h.AudioManager.instance.play(h.AudioEnum.countdown_5)),e<=t?(r.timePercentFill.spriteFrame=r.countDownRed,r.timeLabel.node.active=!0,r.timeLabel.spriteFrame=r.countDownNumber[e],r.timeLabel.getComponent(cc.Animation).play()):(r.timeLabel.node.active=!1,r.timePercentFill.spriteFrame=r.countDownBlue),r.timePercentTween=cc.tween(r.timePercentFill).to(1,{fillRange:-(e-1)/o}).start()});return i},t.prototype.shineWrong=function(){return a(this,void 0,void 0,function(){return s(this,function(e){return this.timePercentFill.node.active=!1,this.wrong.active=!0,this.wrong.getComponent(cc.Animation).play(),[2]})})},t.prototype.shineCorrect=function(){return a(this,void 0,void 0,function(){return s(this,function(e){return this.timePercentFill.node.active=!1,this.correct.active=!0,this.correct.getComponent(cc.Animation).play(),[2]})})},t.prototype.actionOnce=function(e,t){return a(this,void 0,void 0,function(){return s(this,function(n){return[2,new Promise(function(n){var r=e.getAnimationState(t);r.wrapMode=cc.WrapMode.Normal,e.once(cc.Animation.EventType.FINISHED,function(e,t){t===r&&n()}),e.play(t)})]})})},t.prototype.daliPower=function(){return a(this,void 0,void 0,function(){var e=this;return s(this,function(t){return[2,new Promise(function(t){return a(e,void 0,void 0,function(){var e,r,o=this;return s(this,function(i){switch(i.label){case 0:return n.daliPowerImgElement?[3,2]:[4,this.loadResource("/texture/character/dali_bot_power",cc.Texture2D)];case 1:e=i.sent(),n.daliPowerImgElement=e.getHtmlElementObj(),i.label=2;case 2:return(r=document.createElement("img")).onload=function(){o.setTimeout(1100,function(){r.remove(),r.src=null,t()})},r.src=n.daliPowerImgElement.src,r.style.width="100%",r.style.height="100%",r.style.position="fixed",document.body.append(r),[2]}})})})]})})},t.prototype.daliAttack=function(e){return void 0===e&&(e=!1),a(this,void 0,void 0,function(){var t=this;return s(this,function(n){return[2,new Promise(function(n){return a(t,void 0,void 0,function(){var t=this;return s(this,function(r){switch(r.label){case 0:return l.globalEventBus.listen(f.DaliAnimationEvent.onAttackRobot,function(){return a(t,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return h.AudioManager.instance.play(h.AudioEnum.dali_attack),[4,this.actionOnce(this.robotAnimation,y.hit)];case 1:return e.sent(),this.robotAnimation.play(y.idle),n(),[2]}})})},this,!0),[4,this.actionOnce(this.daliAnimation,e?d.power:d.attack)];case 1:return r.sent(),this.daliAnimation.play(d.idle),[2]}})})})]})})},t.prototype.robotAttack=function(){return a(this,void 0,void 0,function(){var e=this;return s(this,function(t){return[2,new Promise(function(t){return a(e,void 0,void 0,function(){var e=this;return s(this,function(n){switch(n.label){case 0:return l.globalEventBus.listen(p.RobotAnimationEvent.onAttackDali,function(){return a(e,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return h.AudioManager.instance.play(h.AudioEnum.blow),[4,this.actionOnce(this.daliAnimation,d.hit)];case 1:return e.sent(),this.daliAnimation.play(d.idle),t(),[2]}})})},this,!0),[4,this.actionOnce(this.robotAnimation,y.attack)];case 1:return n.sent(),this.robotAnimation.play(y.idle),[2]}})})})]})})},t.prototype.setDaliLife=function(e){cc.tween(this.daliLifeBar.node).to(.2,{opacity:0}).to(.2,{opacity:255}).start(),this.viewModel.daliLife=Math.min(Math.max(e,0),100)},t.prototype.setRobotLife=function(e){cc.tween(this.robotLifeBar.node).to(.2,{opacity:0}).to(.2,{opacity:255}),this.viewModel.robotLife=Math.min(Math.max(e,0),100)},o([u.bindValue("node.width",function(e){return 126*e.daliLifeProgress/100}),u.bindValue("spriteFrame",function(e){var t=e.daliLifeProgress;return t<=100&&t>50?e.greenLife:t<=50&&t>25?e.yellowLife:e.redLife}),i("design:type","function"==typeof(b="undefined"!=typeof cc&&cc.Sprite)?b:Object)],t.prototype,"daliLifeBar",void 0),o([u.bindValue("node.width",function(e){return 126*e.robotLifeProgress/100}),u.bindValue("spriteFrame",function(e){var t=e.robotLifeProgress;return t<=100&&t>50?e.greenLife:t<=50&&t>25?e.yellowLife:e.redLife}),i("design:type","function"==typeof(v="undefined"!=typeof cc&&cc.Sprite)?v:Object)],t.prototype,"robotLifeBar",void 0),t=n=o([c.cccomponent],t)}(u.Component);n.Stage=b,cc._RF.pop()},{"../../audioManager":"audioManager","./daliAnimationEventDelegate":"daliAnimationEventDelegate","./robotAnimationEventDelegate":"robotAnimationEventDelegate","@byted-dino/core":8,"@byted-dino/engine-cocos":10,"@byted-dino/surface":11}],study_guide:[function(e,t,n){"use strict";cc._RF.push(t,"578dc/eUNRDS7AkKM/oVjli","study_guide"),cc._RF.pop()},{}],urlParams:[function(e,t,n){"use strict";cc._RF.push(t,"a7e5aeruCRLTZhri3I/ikYp","urlParams");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UrlParams=void 0;var o=r(e("qs")),i=e("./common/constant"),a=r(e("./config/config")),s=e("@byted-dino/core"),c=function(){function e(){this.isDebug=!1,this.setParamsFromUrl()}return Object.defineProperty(e.prototype,"finishPracticeType",{get:function(){return this.practiceType===i.PracticeType.Sync?1:1===this.recommendType||2===this.recommendType?2:3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exerciseType",{get:function(){return this.practiceType===i.PracticeType.Sync?"textbook_part":1===this.recommendType?"homework":2===this.recommendType?"point_check":"weak_part"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needShowReport",{get:function(){return[1,3].indexOf(this.finishPracticeType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.goToReportPage=function(t){var n=e.instance,r=n.fromSource,i=n.finishPracticeType,c=o.default.stringify({from:r},{addQueryPrefix:!0}),u=a.default.h5BaseUrl;s.timer.nextFrame(function(){location.replace(u+"/activity/student/student_tutor/report/"+t+"/"+i+c)})},e.prototype.setParamsFromUrl=function(){var e=o.default.parse(window.location.search.slice(1)),t=e.pointId,n=e.practiceType,r=e.recommendType,i=e.recommendId,a=e.grade,s=e.from,c=e._debug_,u=e._item_;this.isDebug="1"===c,this.debugItemContent=u,this.pointId=t,this.practiceType=+n,this.recommendType=+r,this.recommendId=i,this.grade=+a,this.fromSource=s},e}();n.UrlParams=c,cc._RF.pop()},{"./common/constant":"constant","./config/config":"config","@byted-dino/core":8,qs:21}],use_reversed_rotateTo:[function(e,t,n){"use strict";cc._RF.push(t,"e6a05LXAspMeYwUPAJ3ujAL","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],user_model:[function(e,t,n){"use strict";cc._RF.push(t,"1f1e8RfcftBwpW1vzxWtXt6","user_model");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("@byted-dino/core"),u=e("@byted-dino/axios"),l=s(e("../api/service")),f=function(){function e(){var e=this;this.nickName="world",this.status="?",this.getNickName();var t=0;c.timer.setInterval(1500,function(){switch(++t%3){case 0:e.status="?";break;case 1:e.status="\u2026\u2026";break;case 2:e.status="!";break;default:e.status=""}})}return e.prototype.getNickName=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,u.axios.get(l.default.getNickName)];case 1:return e=t.sent(),this.nickName=e.data.nickName,[2]}})})},e=r([c.model,o("design:paramtypes",[])],e)}();n.default=c.getInject(f),cc._RF.pop()},{"../api/service":"service","@byted-dino/axios":7,"@byted-dino/core":8}]},{},["use_reversed_rotateTo","api","service","app","audioManager","bridge.types","bridge.utils","children","common","parent","client","constant","error","fetch","fetch.types","http","native","bridge","fetch.utils","helper","report","combo","prompt","equation","equationLayoutHelper","equationRenderer","answer","equationSymbolComponent","fraction","fractionAnswer","literal","key","keyboard","micBoard","confirm","imageModal","manager","modal","navigationBar","daliAnimationEventDelegate","robotAnimationEventDelegate","stage","answerManager","answerTimer","practiceManager","config.boe","config.default","config.dev","config.prod","config","EquationSymbol","user_model","home","calculation","study_guide","urlParams"]);